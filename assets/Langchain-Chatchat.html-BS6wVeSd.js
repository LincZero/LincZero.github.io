import{_ as l}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as i,o,c as r,b as e,e as a,d as s,a as t}from"./app-IRYUHD7s.js";const c="/assets/image-20230906094634937-CRx8xThB.png",p="/assets/image-20230906094624349-BOnO2qlG.png",h="/assets/image-20230906095433786-DFWfrCjo.png",d="/assets/webui_0813_1-CiF0QWGe.png",u="/assets/image-20230906100313064--osWr8cU.png",g="/assets/image-20230906095433786-DFWfrCjo.png",m="/assets/image-20230906101805804-DOVxlawV.png",b={},_=e("h1",{id:"langchain-chatchat",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#langchain-chatchat"},[e("span",null,"Langchain-Chatchat")])],-1),v=e("h1",{id:"ç›®å½•",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#ç›®å½•"},[e("span",null,"ç›®å½•")])],-1),f=e("p",null,"é¡¹ç›®æ–‡æ¡£ç›®å½•",-1),k=e("li",null,"FAQ.md",-1),E={href:"https://github.com/chatchat-space/Langchain-Chatchat/blob/master/docs/INSTALL.md",target:"_blank",rel:"noopener noreferrer"},A={href:"https://github.com/chatchat-space/Langchain-Chatchat/blob/master/docs/Issue-with-Installing-Packages-Using-pip-in-Anaconda.md",target:"_blank",rel:"noopener noreferrer"},y=e("li",null,"å‘é‡åº“ç¯å¢ƒ docker.md",-1),x=e("li",null,"å¯åŠ¨APIæœåŠ¡.md",-1),L={href:"https://github.com/chatchat-space/Langchain-Chatchat/blob/master/docs/%E5%9C%A8Anaconda%E4%B8%AD%E4%BD%BF%E7%94%A8pip%E5%AE%89%E8%A3%85%E5%8C%85%E6%97%A0%E6%95%88%E9%97%AE%E9%A2%98.md",target:"_blank",rel:"noopener noreferrer"},B=e("h1",{id:"é¡¹ç›®readme",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#é¡¹ç›®readme"},[e("span",null,"é¡¹ç›®README")])],-1),C=e("p",null,"å‚è€ƒï¼šhttps://github.com/chatchat-space/Langchain-Chatchat",-1),I=e("p",null,"README ç›®å½•",-1),D={href:"https://github.com/chatchat-space/Langchain-Chatchat/blob/master/README.md#%E4%BB%8B%E7%BB%8D",target:"_blank",rel:"noopener noreferrer"},M={href:"https://github.com/chatchat-space/Langchain-Chatchat/blob/master/README.md#%E5%8F%98%E6%9B%B4%E6%97%A5%E5%BF%97",target:"_blank",rel:"noopener noreferrer"},w={href:"https://github.com/chatchat-space/Langchain-Chatchat/blob/master/README.md#%E6%A8%A1%E5%9E%8B%E6%94%AF%E6%8C%81",target:"_blank",rel:"noopener noreferrer"},P={href:"https://github.com/chatchat-space/Langchain-Chatchat/blob/master/README.md#Docker-%E9%83%A8%E7%BD%B2",target:"_blank",rel:"noopener noreferrer"},F={href:"https://github.com/chatchat-space/Langchain-Chatchat/blob/master/README.md#%E8%BD%AF%E4%BB%B6%E9%9C%80%E6%B1%82",target:"_blank",rel:"noopener noreferrer"},T={href:"https://github.com/chatchat-space/Langchain-Chatchat/blob/master/README.md#1.-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87",target:"_blank",rel:"noopener noreferrer"},z={href:"https://github.com/chatchat-space/Langchain-Chatchat/blob/master/README.md#2.-%E4%B8%8B%E8%BD%BD%E6%A8%A1%E5%9E%8B%E8%87%B3%E6%9C%AC%E5%9C%B0",target:"_blank",rel:"noopener noreferrer"},U={href:"https://github.com/chatchat-space/Langchain-Chatchat/blob/master/README.md#3.-%E8%AE%BE%E7%BD%AE%E9%85%8D%E7%BD%AE%E9%A1%B9",target:"_blank",rel:"noopener noreferrer"},q={href:"https://github.com/chatchat-space/Langchain-Chatchat/blob/master/README.md#4.-%E7%9F%A5%E8%AF%86%E5%BA%93%E5%88%9D%E5%A7%8B%E5%8C%96%E4%B8%8E%E8%BF%81%E7%A7%BB",target:"_blank",rel:"noopener noreferrer"},N={href:"https://github.com/chatchat-space/Langchain-Chatchat/blob/master/README.md#6.-%E4%B8%80%E9%94%AE%E5%90%AF%E5%8A%A8",target:"_blank",rel:"noopener noreferrer"},W={href:"https://github.com/chatchat-space/Langchain-Chatchat/blob/master/README.md#5.-%E5%90%AF%E5%8A%A8-API-%E6%9C%8D%E5%8A%A1%E6%88%96-Web-UI",target:"_blank",rel:"noopener noreferrer"},G={href:"https://github.com/chatchat-space/Langchain-Chatchat/blob/master/README.md#%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98",target:"_blank",rel:"noopener noreferrer"},R={href:"https://github.com/chatchat-space/Langchain-Chatchat/blob/master/README.md#%E8%B7%AF%E7%BA%BF%E5%9B%BE",target:"_blank",rel:"noopener noreferrer"},S={href:"https://github.com/chatchat-space/Langchain-Chatchat/blob/master/README.md#%E9%A1%B9%E7%9B%AE%E4%BA%A4%E6%B5%81%E7%BE%A4",target:"_blank",rel:"noopener noreferrer"},$=e("h2",{id:"ä»‹ç»",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#ä»‹ç»"},[e("span",null,"ä»‹ç»")])],-1),V={href:"https://github.com/hwchase17/langchain",target:"_blank",rel:"noopener noreferrer"},H={href:"https://github.com/GanymedeNil",target:"_blank",rel:"noopener noreferrer"},j={href:"https://github.com/GanymedeNil/document.ai",target:"_blank",rel:"noopener noreferrer"},O={href:"https://github.com/AlexZhangji",target:"_blank",rel:"noopener noreferrer"},Q={href:"https://github.com/THUDM/ChatGLM-6B/pull/216",target:"_blank",rel:"noopener noreferrer"},K={href:"https://github.com/lm-sys/FastChat",target:"_blank",rel:"noopener noreferrer"},Z={href:"https://github.com/langchain-ai/langchain",target:"_blank",rel:"noopener noreferrer"},J={href:"https://github.com/tiangolo/fastapi",target:"_blank",rel:"noopener noreferrer"},Y={href:"https://github.com/streamlit/streamlit",target:"_blank",rel:"noopener noreferrer"},X=t("<p>âœ… ä¾æ‰˜äºæœ¬é¡¹ç›®æ”¯æŒçš„å¼€æº <strong>LLM</strong> ä¸ <strong>Embedding</strong> æ¨¡å‹ï¼Œæœ¬é¡¹ç›®å¯å®ç°å…¨éƒ¨ä½¿ç”¨<strong>å¼€æº</strong>æ¨¡å‹<strong>ç¦»çº¿ç§æœ‰éƒ¨ç½²</strong>ã€‚ä¸æ­¤åŒæ—¶ï¼Œæœ¬é¡¹ç›®ä¹Ÿæ”¯æŒ OpenAI GPT API çš„è°ƒç”¨ï¼Œå¹¶å°†åœ¨åç»­æŒç»­æ‰©å……å¯¹å„ç±»æ¨¡å‹åŠæ¨¡å‹ API çš„æ¥å…¥ã€‚ ï¼ˆæœ¯è¯­ï¼šLLM æ˜¯å¤§å‹è¯­è¨€æ¨¡å‹ï¼ŒEmbedding æ˜¯å‘é‡åº“æ˜ å°„ï¼‰</p><p>â›“ï¸ æœ¬é¡¹ç›®å®ç°åŸç†å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œè¿‡ç¨‹åŒ…æ‹¬åŠ è½½æ–‡ä»¶ -&gt; è¯»å–æ–‡æœ¬ -&gt; æ–‡æœ¬åˆ†å‰² -&gt; æ–‡æœ¬å‘é‡åŒ– -&gt; é—®å¥å‘é‡åŒ– -&gt; åœ¨æ–‡æœ¬å‘é‡ä¸­åŒ¹é…å‡ºä¸é—®å¥å‘é‡æœ€ç›¸ä¼¼çš„ <code>top k</code>ä¸ª -&gt; åŒ¹é…å‡ºçš„æ–‡æœ¬ä½œä¸ºä¸Šä¸‹æ–‡å’Œé—®é¢˜ä¸€èµ·æ·»åŠ åˆ° <code>prompt</code>ä¸­ -&gt; æäº¤ç»™ <code>LLM</code>ç”Ÿæˆå›ç­”ã€‚</p>",2),ee={href:"https://www.bilibili.com/video/BV13M4y1e7cN/?share_source=copy_web&vd_source=e6c5aafe684f30fbe41925d61ca6d514",target:"_blank",rel:"noopener noreferrer"},ae=e("figure",null,[e("img",{src:c,alt:"image-20230906094634937",tabindex:"0",loading:"lazy"}),e("figcaption",null,"image-20230906094634937")],-1),ne=e("p",null,"ä»æ–‡æ¡£å¤„ç†è§’åº¦æ¥çœ‹ï¼Œå®ç°æµç¨‹å¦‚ä¸‹ï¼š",-1),se=e("figure",null,[e("img",{src:p,alt:"image-20230906094624349",tabindex:"0",loading:"lazy"}),e("figcaption",null,"image-20230906094624349")],-1),te=e("p",null,"ğŸš© æœ¬é¡¹ç›®æœªæ¶‰åŠå¾®è°ƒã€è®­ç»ƒè¿‡ç¨‹ï¼Œä½†å¯åˆ©ç”¨å¾®è°ƒæˆ–è®­ç»ƒå¯¹æœ¬é¡¹ç›®æ•ˆæœè¿›è¡Œä¼˜åŒ–ã€‚",-1),le={href:"https://www.codewithgpu.com/i/imClumsyPanda/langchain-ChatGLM/Langchain-Chatchat",target:"_blank",rel:"noopener noreferrer"},ie=e("code",null,"v7",-1),oe=e("code",null,"v0.2.3",-1),re={href:"https://github.com/chatchat-space/Langchain-Chatchat/blob/master/registry.cn-beijing.aliyuncs.com/chatchat/chatchat:0.2.0",target:"_blank",rel:"noopener noreferrer"},ce=t(`<p>ğŸ’» ä¸€è¡Œå‘½ä»¤è¿è¡Œ Dockerï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">--gpus</span> all <span class="token parameter variable">-p</span> <span class="token number">80</span>:8501 registry.cn-beijing.aliyuncs.com/chatchat/chatchat:0.2.0
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="æ¨¡å‹æ”¯æŒ" tabindex="-1"><a class="header-anchor" href="#æ¨¡å‹æ”¯æŒ"><span>æ¨¡å‹æ”¯æŒ</span></a></h3>`,3),pe={href:"https://huggingface.co/THUDM/chatglm2-6b",target:"_blank",rel:"noopener noreferrer"},he={href:"https://huggingface.co/moka-ai/m3e-base",target:"_blank",rel:"noopener noreferrer"},de=e("h4",{id:"llm-æ¨¡å‹æ”¯æŒ",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#llm-æ¨¡å‹æ”¯æŒ"},[e("span",null,"LLM æ¨¡å‹æ”¯æŒ")])],-1),ue={href:"https://github.com/lm-sys/FastChat",target:"_blank",rel:"noopener noreferrer"},ge={href:"https://huggingface.co/meta-llama/Llama-2-7b-chat-hf",target:"_blank",rel:"noopener noreferrer"},me=e("li",null,"Vicuna, Alpaca, LLaMA, Koala",-1),be={href:"https://huggingface.co/BlinkDL/rwkv-4-raven",target:"_blank",rel:"noopener noreferrer"},_e={href:"https://huggingface.co/camel-ai/CAMEL-13B-Combined-Data",target:"_blank",rel:"noopener noreferrer"},ve={href:"https://huggingface.co/databricks/dolly-v2-12b",target:"_blank",rel:"noopener noreferrer"},fe={href:"https://huggingface.co/FreedomIntelligence/phoenix-inst-chat-7b",target:"_blank",rel:"noopener noreferrer"},ke={href:"https://huggingface.co/h2oai/h2ogpt-gm-oasst1-en-2048-open-llama-7b",target:"_blank",rel:"noopener noreferrer"},Ee={href:"https://huggingface.co/lcw99/polyglot-ko-12.8b-chang-instruct-chat",target:"_blank",rel:"noopener noreferrer"},Ae={href:"https://huggingface.co/lmsys/fastchat-t5",target:"_blank",rel:"noopener noreferrer"},ye={href:"https://huggingface.co/mosaicml/mpt-7b-chat",target:"_blank",rel:"noopener noreferrer"},xe={href:"https://huggingface.co/Neutralzz/BiLLa-7B-SFT",target:"_blank",rel:"noopener noreferrer"},Le={href:"https://huggingface.co/nomic-ai/gpt4all-13b-snoozy",target:"_blank",rel:"noopener noreferrer"},Be={href:"https://huggingface.co/NousResearch/Nous-Hermes-13b",target:"_blank",rel:"noopener noreferrer"},Ce={href:"https://huggingface.co/openaccess-ai-collective/manticore-13b-chat-pyg",target:"_blank",rel:"noopener noreferrer"},Ie={href:"https://huggingface.co/OpenAssistant/oasst-sft-4-pythia-12b-epoch-3.5",target:"_blank",rel:"noopener noreferrer"},De={href:"https://huggingface.co/project-baize/baize-v2-7b",target:"_blank",rel:"noopener noreferrer"},Me={href:"https://huggingface.co/Salesforce/codet5p-6b",target:"_blank",rel:"noopener noreferrer"},we={href:"https://huggingface.co/stabilityai/stablelm-tuned-alpha-7b",target:"_blank",rel:"noopener noreferrer"},Pe={href:"https://huggingface.co/THUDM/chatglm-6b",target:"_blank",rel:"noopener noreferrer"},Fe={href:"https://huggingface.co/THUDM/chatglm2-6b",target:"_blank",rel:"noopener noreferrer"},Te={href:"https://huggingface.co/tiiuae/falcon-40b",target:"_blank",rel:"noopener noreferrer"},ze={href:"https://huggingface.co/timdettmers/guanaco-33b-merged",target:"_blank",rel:"noopener noreferrer"},Ue={href:"https://huggingface.co/togethercomputer/RedPajama-INCITE-7B-Chat",target:"_blank",rel:"noopener noreferrer"},qe={href:"https://huggingface.co/WizardLM/WizardLM-13B-V1.0",target:"_blank",rel:"noopener noreferrer"},Ne={href:"https://huggingface.co/WizardLM/WizardCoder-15B-V1.0",target:"_blank",rel:"noopener noreferrer"},We={href:"https://huggingface.co/baichuan-inc/baichuan-7B",target:"_blank",rel:"noopener noreferrer"},Ge={href:"https://huggingface.co/internlm/internlm-chat-7b",target:"_blank",rel:"noopener noreferrer"},Re={href:"https://huggingface.co/Qwen/Qwen-7B-Chat",target:"_blank",rel:"noopener noreferrer"},Se={href:"https://huggingface.co/HuggingFaceH4/starchat-beta",target:"_blank",rel:"noopener noreferrer"},$e={href:"https://huggingface.co/EleutherAI",target:"_blank",rel:"noopener noreferrer"},Ve={href:"https://huggingface.co/EleutherAI/pythia-6.9b",target:"_blank",rel:"noopener noreferrer"},He={href:"https://github.com/huggingface/peft",target:"_blank",rel:"noopener noreferrer"},je=e("code",null,"peft",-1),Oe=e("code",null,"PEFT_SHARE_BASE_WEIGHTS=true",-1),Qe={href:"https://github.com/lm-sys/FastChat",target:"_blank",rel:"noopener noreferrer"},Ke={href:"https://github.com/lm-sys/FastChat/blob/main/docs/model_support.md",target:"_blank",rel:"noopener noreferrer"},Ze=e("p",null,[a("é™¤æœ¬åœ°æ¨¡å‹å¤–ï¼Œæœ¬é¡¹ç›®ä¹Ÿæ”¯æŒç›´æ¥æ¥å…¥ OpenAI APIï¼Œå…·ä½“è®¾ç½®å¯å‚è€ƒ "),e("code",null,"configs/model_configs.py.example"),a(" ä¸­çš„ "),e("code",null,"llm_model_dict"),a(" çš„ "),e("code",null,"openai-chatgpt-3.5"),a(" é…ç½®ä¿¡æ¯ã€‚")],-1),Je=e("h4",{id:"embedding-æ¨¡å‹æ”¯æŒ",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#embedding-æ¨¡å‹æ”¯æŒ"},[e("span",null,"Embedding æ¨¡å‹æ”¯æŒ")])],-1),Ye={href:"https://huggingface.co/models?pipeline_tag=sentence-similarity",target:"_blank",rel:"noopener noreferrer"},Xe={href:"https://huggingface.co/moka-ai/m3e-small",target:"_blank",rel:"noopener noreferrer"},ea={href:"https://huggingface.co/moka-ai/m3e-base",target:"_blank",rel:"noopener noreferrer"},aa={href:"https://huggingface.co/moka-ai/m3e-large",target:"_blank",rel:"noopener noreferrer"},na={href:"https://huggingface.co/BAAI/bge-small-zh",target:"_blank",rel:"noopener noreferrer"},sa={href:"https://huggingface.co/BAAI/bge-base-zh",target:"_blank",rel:"noopener noreferrer"},ta={href:"https://huggingface.co/BAAI/bge-large-zh",target:"_blank",rel:"noopener noreferrer"},la={href:"https://huggingface.co/BAAI/bge-large-zh-noinstruct",target:"_blank",rel:"noopener noreferrer"},ia={href:"https://huggingface.co/shibing624/text2vec-base-chinese-sentence",target:"_blank",rel:"noopener noreferrer"},oa={href:"https://huggingface.co/shibing624/text2vec-base-chinese-paraphrase",target:"_blank",rel:"noopener noreferrer"},ra={href:"https://huggingface.co/shibing624/text2vec-base-multilingual",target:"_blank",rel:"noopener noreferrer"},ca={href:"https://huggingface.co/shibing624/text2vec-base-chinese",target:"_blank",rel:"noopener noreferrer"},pa={href:"https://huggingface.co/shibing624/text2vec-bge-large-chinese",target:"_blank",rel:"noopener noreferrer"},ha={href:"https://huggingface.co/GanymedeNil/text2vec-large-chinese",target:"_blank",rel:"noopener noreferrer"},da={href:"https://huggingface.co/nghuyong/ernie-3.0-nano-zh",target:"_blank",rel:"noopener noreferrer"},ua={href:"https://huggingface.co/nghuyong/ernie-3.0-base-zh",target:"_blank",rel:"noopener noreferrer"},ga={href:"https://platform.openai.com/docs/guides/embeddings",target:"_blank",rel:"noopener noreferrer"},ma=t(`<h2 id="docker-éƒ¨ç½²" tabindex="-1"><a class="header-anchor" href="#docker-éƒ¨ç½²"><span>Docker éƒ¨ç½²</span></a></h2><p>ğŸ³ Docker é•œåƒåœ°å€: <code>registry.cn-beijing.aliyuncs.com/chatchat/chatchat:0.2.0)</code></p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">--gpus</span> all <span class="token parameter variable">-p</span> <span class="token number">80</span>:8501 registry.cn-beijing.aliyuncs.com/chatchat/chatchat:0.2.0
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,3),ba=t("<li>è¯¥ç‰ˆæœ¬é•œåƒå¤§å° <code>33.9GB</code>ï¼Œä½¿ç”¨ <code>v0.2.0</code>ï¼Œä»¥ <code>nvidia/cuda:12.1.1-cudnn8-devel-ubuntu22.04</code> ä¸ºåŸºç¡€é•œåƒ</li><li>è¯¥ç‰ˆæœ¬å†…ç½®ä¸€ä¸ª <code>embedding</code> æ¨¡å‹ï¼š<code>m3e-large</code>ï¼Œå†…ç½® <code>chatglm2-6b-32k</code></li><li>è¯¥ç‰ˆæœ¬ç›®æ ‡ä¸ºæ–¹ä¾¿ä¸€é”®éƒ¨ç½²ä½¿ç”¨ï¼Œè¯·ç¡®ä¿æ‚¨å·²ç»åœ¨Linuxå‘è¡Œç‰ˆä¸Šå®‰è£…äº†NVIDIAé©±åŠ¨ç¨‹åº</li>",3),_a=e("code",null,"NVIDIA Driver",-1),va=e("code",null,"NVIDIA Container Toolkit",-1),fa={href:"https://docs.nvidia.com/datacenter/cloud-native/container-toolkit/latest/install-guide.html",target:"_blank",rel:"noopener noreferrer"},ka=e("li",null,[a("é¦–æ¬¡æ‹‰å–å’Œå¯åŠ¨å‡éœ€è¦ä¸€å®šæ—¶é—´ï¼Œé¦–æ¬¡å¯åŠ¨æ—¶è¯·å‚ç…§ä¸‹å›¾ä½¿ç”¨ "),e("code",null,"docker logs -f <container id>"),a(" æŸ¥çœ‹æ—¥å¿—")],-1),Ea=e("li",null,[a("å¦‚é‡åˆ°å¯åŠ¨è¿‡ç¨‹å¡åœ¨ "),e("code",null,"Waiting.."),a(" æ­¥éª¤ï¼Œå»ºè®®ä½¿ç”¨ "),e("code",null,"docker exec -it <container id> bash"),a(" è¿›å…¥ "),e("code",null,"/logs/"),a(" ç›®å½•æŸ¥çœ‹å¯¹åº”é˜¶æ®µæ—¥å¿—")],-1),Aa=e("h2",{id:"å¼€å‘éƒ¨ç½²",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#å¼€å‘éƒ¨ç½²"},[e("span",null,"å¼€å‘éƒ¨ç½²")])],-1),ya=e("h3",{id:"ç¯å¢ƒå‡†å¤‡",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#ç¯å¢ƒå‡†å¤‡"},[e("span",null,"ç¯å¢ƒå‡†å¤‡")])],-1),xa=e("p",null,"å¼€å‘ç¯å¢ƒå‡†å¤‡",-1),La=e("p",null,"æœ¬é¡¹ç›®å·²åœ¨ Python 3.8.1 - 3.10ï¼ŒCUDA 11.7 ç¯å¢ƒä¸‹å®Œæˆæµ‹è¯•ã€‚å·²åœ¨ Windowsã€ARM æ¶æ„çš„ macOSã€Linux ç³»ç»Ÿä¸­å®Œæˆæµ‹è¯•ã€‚",-1),Ba={href:"https://github.com/chatchat-space/Langchain-Chatchat/blob/master/docs/INSTALL.md",target:"_blank",rel:"noopener noreferrer"},Ca=t(`<p><strong>è¯·æ³¨æ„ï¼š</strong> <code>0.2.0</code> åŠæ›´æ–°ç‰ˆæœ¬çš„ä¾èµ–åŒ…ä¸ <code>0.1.x</code> ç‰ˆæœ¬ä¾èµ–åŒ…å¯èƒ½å‘ç”Ÿå†²çªï¼Œå¼ºçƒˆå»ºè®®æ–°å»ºç¯å¢ƒåé‡æ–°å®‰è£…ä¾èµ–åŒ…ã€‚</p><h4 id="ç¯å¢ƒæ£€æŸ¥" tabindex="-1"><a class="header-anchor" href="#ç¯å¢ƒæ£€æŸ¥"><span>ç¯å¢ƒæ£€æŸ¥</span></a></h4><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># é¦–å…ˆï¼Œç¡®ä¿¡ä½ çš„æœºå™¨å®‰è£…äº† Python 3.8 - 3.10 ç‰ˆæœ¬</span>
$ python <span class="token parameter variable">--version</span>
Python <span class="token number">3.8</span>.13

<span class="token comment"># å¦‚æœä½äºè¿™ä¸ªç‰ˆæœ¬ï¼Œå¯ä½¿ç”¨condaå®‰è£…ç¯å¢ƒ</span>
$ conda create <span class="token parameter variable">-p</span> /your_path/env_name <span class="token assign-left variable">python</span><span class="token operator">=</span><span class="token number">3.8</span>

<span class="token comment"># æ¿€æ´»ç¯å¢ƒ</span>
$ <span class="token builtin class-name">source</span> activate /your_path/env_name

<span class="token comment"># æˆ–ï¼Œcondaå®‰è£…ï¼Œä¸æŒ‡å®šè·¯å¾„, æ³¨æ„ä»¥ä¸‹ï¼Œéƒ½å°†/your_path/env_nameæ›¿æ¢ä¸ºenv_name</span>
$ conda create <span class="token parameter variable">-n</span> env_name <span class="token assign-left variable">python</span><span class="token operator">=</span><span class="token number">3.8</span>
$ conda activate env_name <span class="token comment"># Activate the environment</span>

<span class="token comment"># æ›´æ–°pyåº“</span>
$ pip3 <span class="token function">install</span> <span class="token parameter variable">--upgrade</span> pip

<span class="token comment"># å…³é—­ç¯å¢ƒ</span>
$ <span class="token builtin class-name">source</span> deactivate /your_path/env_name

<span class="token comment"># åˆ é™¤ç¯å¢ƒ</span>
$ conda <span class="token function">env</span> remove <span class="token parameter variable">-p</span>  /your_path/env_name
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="é¡¹ç›®ä¾èµ–" tabindex="-1"><a class="header-anchor" href="#é¡¹ç›®ä¾èµ–"><span>é¡¹ç›®ä¾èµ–</span></a></h4><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># æ‹‰å–ä»“åº“</span>
$ <span class="token function">git</span> clone https://github.com/chatchat-space/Langchain-Chatchat.git

<span class="token comment"># è¿›å…¥ç›®å½•</span>
$ <span class="token builtin class-name">cd</span> Langchain-Chatchat

<span class="token comment"># å®‰è£…ä¾èµ– (ä¸‰é€‰ä¸€ï¼Œä¸ºæ–¹ä¾¿ç”¨æˆ· API ä¸ webui åˆ†ç¦»è¿è¡Œï¼Œå¯å•ç‹¬æ ¹æ®è¿è¡Œéœ€æ±‚å®‰è£…ä¾èµ–åŒ…)</span>
$ pip <span class="token function">install</span> <span class="token parameter variable">-r</span> requirements.txt <span class="token comment"># å®‰è£…å…¨éƒ¨ä¾èµ–</span>
<span class="token comment"># $ pip install -r requirements_api.txt # å¦‚æœåªéœ€è¿è¡Œ API</span>
<span class="token comment"># $ pip install -r requirements_webui.txt # å¦‚æœåªéœ€è¿è¡Œ WebUI</span>

<span class="token comment"># é»˜è®¤ä¾èµ–åŒ…æ‹¬åŸºæœ¬è¿è¡Œç¯å¢ƒï¼ˆFAISSå‘é‡åº“ï¼‰ã€‚å¦‚æœè¦ä½¿ç”¨ milvus/pg_vector ç­‰å‘é‡åº“ï¼Œè¯·å°† requirements.txt ä¸­ç›¸åº”ä¾èµ–å–æ¶ˆæ³¨é‡Šå†å®‰è£…ã€‚</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,5),Ia=e("code",null,"langchain.document_loaders.UnstructuredFileLoader",-1),Da=e("code",null,".docx",-1),Ma={href:"https://python.langchain.com/en/latest/modules/indexes/document_loaders/examples/unstructured_file.html",target:"_blank",rel:"noopener noreferrer"},wa=e("h3",{id:"æ¨¡å‹ä¸‹è½½-llm-embedding",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#æ¨¡å‹ä¸‹è½½-llm-embedding"},[e("span",null,"æ¨¡å‹ä¸‹è½½ (LLM & Embedding)")])],-1),Pa=e("p",null,"ä¸‹è½½æ¨¡å‹è‡³æœ¬åœ°",-1),Fa={href:"https://huggingface.co/models",target:"_blank",rel:"noopener noreferrer"},Ta={href:"https://huggingface.co/THUDM/chatglm2-6b",target:"_blank",rel:"noopener noreferrer"},za={href:"https://huggingface.co/moka-ai/m3e-base",target:"_blank",rel:"noopener noreferrer"},Ua={href:"https://docs.github.com/zh/repositories/working-with-files/managing-large-files/installing-git-large-file-storage",target:"_blank",rel:"noopener noreferrer"},qa=t(`<div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>$ <span class="token function">git</span> clone https://huggingface.co/THUDM/chatglm2-6b
$ <span class="token function">git</span> clone https://huggingface.co/moka-ai/m3e-base
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="é…ç½®é€‰é¡¹" tabindex="-1"><a class="header-anchor" href="#é…ç½®é€‰é¡¹"><span>é…ç½®é€‰é¡¹</span></a></h3><p>è®¾ç½®é…ç½®é¡¹</p>`,3),Na={href:"https://github.com/chatchat-space/Langchain-Chatchat/blob/master/configs/model_config.py.example",target:"_blank",rel:"noopener noreferrer"},Wa=e("code",null,"./configs",-1),Ga=e("code",null,"model_config.py",-1),Ra={href:"https://github.com/chatchat-space/Langchain-Chatchat/blob/master/configs/server_config.py.example",target:"_blank",rel:"noopener noreferrer"},Sa=e("code",null,"./configs",-1),$a=e("code",null,"server_config.py",-1),Va=t(`<p>åœ¨å¼€å§‹æ‰§è¡Œ Web UI æˆ–å‘½ä»¤è¡Œäº¤äº’å‰ï¼Œè¯·å…ˆæ£€æŸ¥ <code>configs/model_config.py</code> å’Œ <code>configs/server_config.py</code> ä¸­çš„å„é¡¹æ¨¡å‹å‚æ•°è®¾è®¡æ˜¯å¦ç¬¦åˆéœ€æ±‚ï¼š</p><ul><li><p>è¯·ç¡®è®¤å·²ä¸‹è½½è‡³æœ¬åœ°çš„ LLM æ¨¡å‹æœ¬åœ°å­˜å‚¨è·¯å¾„å†™åœ¨ <code>llm_model_dict</code> å¯¹åº”æ¨¡å‹çš„ <code>local_model_path</code> å±æ€§ä¸­ï¼Œå¦‚:</p><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>llm_model_dict<span class="token operator">=</span><span class="token punctuation">{</span>
    <span class="token string">&quot;chatglm2-6b&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;local_model_path&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;/Users/xxx/Downloads/chatglm2-6b&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;api_base_url&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;http://localhost:8888/v1&quot;</span><span class="token punctuation">,</span>  <span class="token comment"># &quot;name&quot;ä¿®æ”¹ä¸º FastChat æœåŠ¡ä¸­çš„&quot;api_base_url&quot;</span>
        <span class="token string">&quot;api_key&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;EMPTY&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>è¯·ç¡®è®¤å·²ä¸‹è½½è‡³æœ¬åœ°çš„ Embedding æ¨¡å‹æœ¬åœ°å­˜å‚¨è·¯å¾„å†™åœ¨ <code>embedding_model_dict</code> å¯¹åº”æ¨¡å‹ä½ç½®ï¼Œå¦‚ï¼š</p><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>embedding_model_dict <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;m3e-base&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;/Users/xxx/Downloads/m3e-base&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><p>å¦‚æœä½ é€‰æ‹©ä½¿ç”¨OpenAIçš„Embeddingæ¨¡å‹ï¼Œè¯·å°†æ¨¡å‹çš„ <code>key</code>å†™å…¥ <code>embedding_model_dict</code>ä¸­ã€‚ä½¿ç”¨è¯¥æ¨¡å‹ï¼Œä½ éœ€è¦èƒ½å¤Ÿè®¿é—®OpenAIå®˜çš„APIï¼Œæˆ–è®¾ç½®ä»£ç†ã€‚</p><h3 id="çŸ¥è¯†åº“åˆå§‹åŒ–ä¸è¿ç§»" tabindex="-1"><a class="header-anchor" href="#çŸ¥è¯†åº“åˆå§‹åŒ–ä¸è¿ç§»"><span>çŸ¥è¯†åº“åˆå§‹åŒ–ä¸è¿ç§»</span></a></h3><p>å½“å‰é¡¹ç›®çš„çŸ¥è¯†åº“ä¿¡æ¯å­˜å‚¨åœ¨æ•°æ®åº“ä¸­ï¼Œåœ¨æ­£å¼è¿è¡Œé¡¹ç›®ä¹‹å‰è¯·å…ˆåˆå§‹åŒ–æ•°æ®åº“ï¼ˆæˆ‘ä»¬å¼ºçƒˆå»ºè®®æ‚¨åœ¨æ‰§è¡Œæ“ä½œå‰å¤‡ä»½æ‚¨çš„çŸ¥è¯†æ–‡ä»¶ï¼‰ã€‚</p><ul><li><p>å¦‚æœæ‚¨æ˜¯ä» <code>0.1.x</code> ç‰ˆæœ¬å‡çº§è¿‡æ¥çš„ç”¨æˆ·ï¼Œé’ˆå¯¹å·²å»ºç«‹çš„çŸ¥è¯†åº“ï¼Œè¯·ç¡®è®¤çŸ¥è¯†åº“çš„å‘é‡åº“ç±»å‹ã€Embedding æ¨¡å‹ä¸ <code>configs/model_config.py</code> ä¸­é»˜è®¤è®¾ç½®ä¸€è‡´ï¼Œå¦‚æ— å˜åŒ–åªéœ€ä»¥ä¸‹å‘½ä»¤å°†ç°æœ‰çŸ¥è¯†åº“ä¿¡æ¯æ·»åŠ åˆ°æ•°æ®åº“å³å¯ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>$ python init_database.py
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>å¦‚æœæ‚¨æ˜¯ç¬¬ä¸€æ¬¡è¿è¡Œæœ¬é¡¹ç›®ï¼ŒçŸ¥è¯†åº“å°šæœªå»ºç«‹ï¼Œæˆ–è€…é…ç½®æ–‡ä»¶ä¸­çš„çŸ¥è¯†åº“ç±»å‹ã€åµŒå…¥æ¨¡å‹å‘ç”Ÿå˜åŒ–ï¼Œæˆ–è€…ä¹‹å‰çš„å‘é‡åº“æ²¡æœ‰å¼€å¯ <code>normalize_L2</code>ï¼Œéœ€è¦ä»¥ä¸‹å‘½ä»¤åˆå§‹åŒ–æˆ–é‡å»ºçŸ¥è¯†åº“ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>$ python init_database.py --recreate-vs
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul><h3 id="ä¸€é”®å¯åŠ¨api-æœåŠ¡æˆ–-web-ui" tabindex="-1"><a class="header-anchor" href="#ä¸€é”®å¯åŠ¨api-æœåŠ¡æˆ–-web-ui"><span>ä¸€é”®å¯åŠ¨API æœåŠ¡æˆ– Web UI</span></a></h3><h4 id="å¯åŠ¨å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#å¯åŠ¨å‘½ä»¤"><span>å¯åŠ¨å‘½ä»¤</span></a></h4><p>ä¸€é”®å¯åŠ¨è„šæœ¬ startup.py,ä¸€é”®å¯åŠ¨æ‰€æœ‰ Fastchat æœåŠ¡ã€API æœåŠ¡ã€WebUI æœåŠ¡ï¼Œç¤ºä¾‹ä»£ç ï¼š</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>$ python startup.py -a
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å¹¶å¯ä½¿ç”¨ <code>Ctrl + C</code> ç›´æ¥å…³é—­æ‰€æœ‰è¿è¡ŒæœåŠ¡ã€‚å¦‚æœä¸€æ¬¡ç»“æŸä¸äº†ï¼Œå¯ä»¥å¤šæŒ‰å‡ æ¬¡ã€‚</p><p>å¯é€‰å‚æ•°åŒ…æ‹¬ <code>-a (æˆ–--all-webui)</code>, <code>--all-api</code>, <code>--llm-api</code>, <code>-c (æˆ–--controller)</code>, <code>--openai-api</code>, <code>-m (æˆ–--model-worker)</code>, <code>--api</code>, <code>--webui</code>ï¼Œå…¶ä¸­ï¼š</p><ul><li><code>--all-webui</code> ä¸ºä¸€é”®å¯åŠ¨ WebUI æ‰€æœ‰ä¾èµ–æœåŠ¡ï¼›</li><li><code>--all-api</code> ä¸ºä¸€é”®å¯åŠ¨ API æ‰€æœ‰ä¾èµ–æœåŠ¡ï¼›</li><li><code>--llm-api</code> ä¸ºä¸€é”®å¯åŠ¨ Fastchat æ‰€æœ‰ä¾èµ–çš„ LLM æœåŠ¡ï¼›</li><li><code>--openai-api</code> ä¸ºä»…å¯åŠ¨ FastChat çš„ controller å’Œ openai-api-server æœåŠ¡ï¼›</li><li>å…¶ä»–ä¸ºå•ç‹¬æœåŠ¡å¯åŠ¨é€‰é¡¹ã€‚</li></ul><h4 id="å¯åŠ¨éé»˜è®¤æ¨¡å‹" tabindex="-1"><a class="header-anchor" href="#å¯åŠ¨éé»˜è®¤æ¨¡å‹"><span>å¯åŠ¨éé»˜è®¤æ¨¡å‹</span></a></h4><p>è‹¥æƒ³æŒ‡å®šéé»˜è®¤æ¨¡å‹ï¼Œéœ€è¦ç”¨ <code>--model-name</code> é€‰é¡¹ï¼Œç¤ºä¾‹ï¼š</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>$ python startup.py --all-webui --model-name Qwen-7B-Chat
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ›´å¤šä¿¡æ¯å¯é€šè¿‡ <code>python startup.py -h</code>æŸ¥çœ‹ã€‚</p><h4 id="å¤šå¡åŠ è½½" tabindex="-1"><a class="header-anchor" href="#å¤šå¡åŠ è½½"><span>å¤šå¡åŠ è½½</span></a></h4><p>é¡¹ç›®æ”¯æŒå¤šå¡åŠ è½½ï¼Œéœ€åœ¨ startup.py ä¸­çš„ create_model_worker_app å‡½æ•°ä¸­ï¼Œä¿®æ”¹å¦‚ä¸‹ä¸‰ä¸ªå‚æ•°:</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>gpus=None, 
num_gpus=1, 
max_gpu_memory=&quot;20GiB&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å…¶ä¸­ï¼Œ<code>gpus</code> æ§åˆ¶ä½¿ç”¨çš„æ˜¾å¡çš„IDï¼Œä¾‹å¦‚ &quot;0,1&quot;;</p><p><code>num_gpus</code> æ§åˆ¶ä½¿ç”¨çš„å¡æ•°;</p><p><code>max_gpu_memory</code> æ§åˆ¶æ¯ä¸ªå¡ä½¿ç”¨çš„æ˜¾å­˜å®¹é‡ã€‚</p><p>æ³¨1ï¼šserver_config.pyçš„FSCHAT_MODEL_WORKERSå­—å…¸ä¸­ä¹Ÿå¢åŠ äº†ç›¸å…³é…ç½®ï¼Œå¦‚æœ‰éœ€è¦ä¹Ÿå¯é€šè¿‡ä¿®æ”¹FSCHAT_MODEL_WORKERSå­—å…¸ä¸­å¯¹åº”å‚æ•°å®ç°å¤šå¡åŠ è½½ã€‚</p><p>æ³¨2ï¼šå°‘æ•°æƒ…å†µä¸‹ï¼Œgpuså‚æ•°ä¼šä¸ç”Ÿæ•ˆï¼Œæ­¤æ—¶éœ€è¦é€šè¿‡è®¾ç½®ç¯å¢ƒå˜é‡CUDA_VISIBLE_DEVICESæ¥æŒ‡å®štorchå¯è§çš„gpu,ç¤ºä¾‹ä»£ç ï¼š</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>CUDA_VISIBLE_DEVICES=0,1 python startup.py 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="peft-åŠ è½½-åŒ…æ‹¬lora-p-tuning-prefix-tuning-prompt-tuning-ia3ç­‰" tabindex="-1"><a class="header-anchor" href="#peft-åŠ è½½-åŒ…æ‹¬lora-p-tuning-prefix-tuning-prompt-tuning-ia3ç­‰"><span>PEFT åŠ è½½(åŒ…æ‹¬lora,p-tuning,prefix tuning, prompt tuning,ia3ç­‰)</span></a></h4><p>æœ¬é¡¹ç›®åŸºäº FastChat åŠ è½½ LLM æœåŠ¡ï¼Œæ•…éœ€ä»¥ FastChat åŠ è½½ PEFT è·¯å¾„ï¼Œå³ä¿è¯è·¯å¾„åç§°é‡Œå¿…é¡»æœ‰ peft è¿™ä¸ªè¯ï¼Œé…ç½®æ–‡ä»¶çš„åå­—ä¸º adapter_config.jsonï¼Œpeft è·¯å¾„ä¸‹åŒ…å«.bin æ ¼å¼çš„ PEFT æƒé‡ï¼Œpeftè·¯å¾„åœ¨startup.pyä¸­create_model_worker_appå‡½æ•°çš„args.model_namesä¸­æŒ‡å®šï¼Œå¹¶å¼€å¯ç¯å¢ƒå˜é‡PEFT_SHARE_BASE_WEIGHTS=trueå‚æ•°ã€‚</p>`,28),Ha={href:"https://github.com/chatchat-space/Langchain-Chatchat/issues/1130#issuecomment-1685291822",target:"_blank",rel:"noopener noreferrer"},ja=t('<h4 id="æ³¨æ„äº‹é¡¹" tabindex="-1"><a class="header-anchor" href="#æ³¨æ„äº‹é¡¹"><span><strong>æ³¨æ„äº‹é¡¹</strong></span></a></h4><p><strong>1. startup è„šæœ¬ç”¨å¤šè¿›ç¨‹æ–¹å¼å¯åŠ¨å„æ¨¡å—çš„æœåŠ¡ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ‰“å°é¡ºåºé—®é¢˜ï¼Œè¯·ç­‰å¾…å…¨éƒ¨æœåŠ¡å‘èµ·åå†è°ƒç”¨ï¼Œå¹¶æ ¹æ®é»˜è®¤æˆ–æŒ‡å®šç«¯å£è°ƒç”¨æœåŠ¡ï¼ˆé»˜è®¤ LLM API æœåŠ¡ç«¯å£ï¼š<code>127.0.0.1:8888</code>,é»˜è®¤ API æœåŠ¡ç«¯å£ï¼š<code>127.0.0.1:7861</code>,é»˜è®¤ WebUI æœåŠ¡ç«¯å£ï¼š<code>æœ¬æœºIPï¼š8501</code>)</strong></p><p><strong>2.æœåŠ¡å¯åŠ¨æ—¶é—´ç¤ºè®¾å¤‡ä¸åŒè€Œä¸åŒï¼Œçº¦ 3-10 åˆ†é’Ÿï¼Œå¦‚é•¿æ—¶é—´æ²¡æœ‰å¯åŠ¨è¯·å‰å¾€ <code>./logs</code>ç›®å½•ä¸‹ç›‘æ§æ—¥å¿—ï¼Œå®šä½é—®é¢˜ã€‚</strong></p><p><strong>3. åœ¨Linuxä¸Šä½¿ç”¨ctrl+Cé€€å‡ºå¯èƒ½ä¼šç”±äºlinuxçš„å¤šè¿›ç¨‹æœºåˆ¶å¯¼è‡´multiprocessingé—ç•™å­¤å„¿è¿›ç¨‹ï¼Œå¯é€šè¿‡shutdown_all.shè¿›è¡Œé€€å‡º</strong></p><h4 id="å¯åŠ¨ç•Œé¢ç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#å¯åŠ¨ç•Œé¢ç¤ºä¾‹"><span>å¯åŠ¨ç•Œé¢ç¤ºä¾‹</span></a></h4><ol><li>FastAPI docs ç•Œé¢</li></ol><figure><img src="'+h+'" alt="image-20230906095433786" tabindex="0" loading="lazy"><figcaption>image-20230906095433786</figcaption></figure><ol start="2"><li>webuiå¯åŠ¨ç•Œé¢ç¤ºä¾‹ï¼š</li></ol>',8),Oa={href:"https://github.com/chatchat-space/Langchain-Chatchat/blob/master/img/webui_0813_0.png",target:"_blank",rel:"noopener noreferrer"},Qa=e("img",{src:"https://github.com/chatchat-space/Langchain-Chatchat/raw/master/img/webui_0813_0.png",alt:"img",loading:"lazy"},null,-1),Ka={href:"https://github.com/chatchat-space/Langchain-Chatchat/blob/master/img/webui_0813_1.png",target:"_blank",rel:"noopener noreferrer"},Za=e("img",{src:d,alt:"img",loading:"lazy"},null,-1),Ja=e("h3",{id:"åˆ†æ­¥å¯åŠ¨-api-æœåŠ¡æˆ–-web-ui-ä¸€é”®å¯åŠ¨å¿½ç•¥æœ¬èŠ‚",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#åˆ†æ­¥å¯åŠ¨-api-æœåŠ¡æˆ–-web-ui-ä¸€é”®å¯åŠ¨å¿½ç•¥æœ¬èŠ‚"},[e("span",null,"åˆ†æ­¥å¯åŠ¨ API æœåŠ¡æˆ– Web UIï¼ˆä¸€é”®å¯åŠ¨å¿½ç•¥æœ¬èŠ‚ï¼‰")])],-1),Ya=e("p",null,"æ³¨æ„ï¼šå¦‚ä½¿ç”¨äº†ä¸€é”®å¯åŠ¨æ–¹å¼ï¼Œå¯å¿½ç•¥æœ¬èŠ‚ã€‚",-1),Xa=e("h4",{id:"å¯åŠ¨-llm-æœåŠ¡-ä¸‰ç§æ–¹å¼",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#å¯åŠ¨-llm-æœåŠ¡-ä¸‰ç§æ–¹å¼"},[e("span",null,"å¯åŠ¨ LLM æœåŠ¡ (ä¸‰ç§æ–¹å¼)")])],-1),en=e("p",null,"å¦‚éœ€ä½¿ç”¨å¼€æºæ¨¡å‹è¿›è¡Œæœ¬åœ°éƒ¨ç½²ï¼Œéœ€é¦–å…ˆå¯åŠ¨ LLM æœåŠ¡ï¼Œå¯åŠ¨æ–¹å¼åˆ†ä¸ºä¸‰ç§ï¼š",-1),an={href:"https://github.com/chatchat-space/Langchain-Chatchat/blob/master/README.md#5.1.1-%E5%9F%BA%E4%BA%8E%E5%A4%9A%E8%BF%9B%E7%A8%8B%E8%84%9A%E6%9C%AC-llm_api.py-%E5%90%AF%E5%8A%A8-LLM-%E6%9C%8D%E5%8A%A1",target:"_blank",rel:"noopener noreferrer"},nn={href:"https://github.com/chatchat-space/Langchain-Chatchat/blob/master/README.md#5.1.2-%E5%9F%BA%E4%BA%8E%E5%91%BD%E4%BB%A4%E8%A1%8C%E8%84%9A%E6%9C%AC-llm_api_stale.py-%E5%90%AF%E5%8A%A8-LLM-%E6%9C%8D%E5%8A%A1",target:"_blank",rel:"noopener noreferrer"},sn={href:"https://github.com/chatchat-space/Langchain-Chatchat/blob/master/README.md#5.1.3-PEFT-%E5%8A%A0%E8%BD%BD",target:"_blank",rel:"noopener noreferrer"},tn=e("p",null,"ä¸‰ç§æ–¹å¼åªéœ€é€‰æ‹©ä¸€ä¸ªå³å¯ï¼Œå…·ä½“æ“ä½œæ–¹å¼è¯¦è§ 5.1.1 - 5.1.3ã€‚",-1),ln=e("p",null,"å¦‚æœå¯åŠ¨åœ¨çº¿çš„APIæœåŠ¡ï¼ˆå¦‚ OPENAI çš„ API æ¥å£ï¼‰ï¼Œåˆ™æ— éœ€å¯åŠ¨ LLM æœåŠ¡ï¼Œå³ 5.1 å°èŠ‚çš„ä»»ä½•å‘½ä»¤å‡æ— éœ€å¯åŠ¨ã€‚",-1),on=e("h5",{id:"åŸºäºå¤šè¿›ç¨‹è„šæœ¬-llm-api-py-å¯åŠ¨-llm-æœåŠ¡",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#åŸºäºå¤šè¿›ç¨‹è„šæœ¬-llm-api-py-å¯åŠ¨-llm-æœåŠ¡"},[e("span",null,"åŸºäºå¤šè¿›ç¨‹è„šæœ¬ llm_api.py å¯åŠ¨ LLM æœåŠ¡")])],-1),rn={href:"https://github.com/chatchat-space/Langchain-Chatchat/blob/master/server/llm_api.py",target:"_blank",rel:"noopener noreferrer"},cn=e("strong",null,"LLM æ¨¡å‹",-1),pn=t(`<div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>$ python server/llm_api.py
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>é¡¹ç›®æ”¯æŒå¤šå¡åŠ è½½ï¼Œéœ€åœ¨ llm_api.py ä¸­çš„ create_model_worker_app å‡½æ•°ä¸­ï¼Œä¿®æ”¹å¦‚ä¸‹ä¸‰ä¸ªå‚æ•°:</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>gpus=None, 
num_gpus=1, 
max_gpu_memory=&quot;20GiB&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å…¶ä¸­ï¼Œ<code>gpus</code> æ§åˆ¶ä½¿ç”¨çš„æ˜¾å¡çš„IDï¼Œå¦‚æœ &quot;0,1&quot;;</p><p><code>num_gpus</code> æ§åˆ¶ä½¿ç”¨çš„å¡æ•°;</p><p><code>max_gpu_memory</code> æ§åˆ¶æ¯ä¸ªå¡ä½¿ç”¨çš„æ˜¾å­˜å®¹é‡ã€‚</p><h5 id="åŸºäºå‘½ä»¤è¡Œè„šæœ¬-llm-api-stale-py-å¯åŠ¨-llm-æœåŠ¡" tabindex="-1"><a class="header-anchor" href="#åŸºäºå‘½ä»¤è¡Œè„šæœ¬-llm-api-stale-py-å¯åŠ¨-llm-æœåŠ¡"><span>åŸºäºå‘½ä»¤è¡Œè„šæœ¬ llm_api_stale.py å¯åŠ¨ LLM æœåŠ¡</span></a></h5><p>âš ï¸ <strong>æ³¨æ„:</strong></p><p><strong>1.llm_api_stale.pyè„šæœ¬åŸç”Ÿä»…é€‚ç”¨äºlinuxã€‚macè®¾å¤‡éœ€è¦å®‰è£…å¯¹åº”çš„linuxå‘½ä»¤ï¼Œwinå¹³å°è¯·ä½¿ç”¨wsl;</strong></p><p><strong>2.åŠ è½½éé»˜è®¤æ¨¡å‹éœ€è¦ç”¨å‘½ä»¤è¡Œå‚æ•°--model-path-addressæŒ‡å®šæ¨¡å‹ï¼Œä¸ä¼šè¯»å–model_config.pyé…ç½®;</strong></p>`,10),hn={href:"https://github.com/chatchat-space/Langchain-Chatchat/blob/master/server/llm_api_stale.py",target:"_blank",rel:"noopener noreferrer"},dn=e("strong",null,"LLM æ¨¡å‹",-1),un=t(`<div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>$ python server/llm_api_stale.py
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¯¥æ–¹å¼æ”¯æŒå¯åŠ¨å¤šä¸ªworkerï¼Œç¤ºä¾‹å¯åŠ¨æ–¹å¼ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>$ python server/llm_api_stale.py --model-path-address model1@host1@port1 model2@host2@port2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å¦‚æœå‡ºç°serverç«¯å£å ç”¨æƒ…å†µï¼Œéœ€æ‰‹åŠ¨æŒ‡å®šserverç«¯å£,å¹¶åŒæ­¥ä¿®æ”¹model_config.pyä¸‹å¯¹åº”æ¨¡å‹çš„base_api_urlä¸ºæŒ‡å®šç«¯å£:</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>$ python server/llm_api_stale.py --server-port <span class="token number">8887</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å¦‚æœè¦å¯åŠ¨å¤šå¡åŠ è½½ï¼Œç¤ºä¾‹å‘½ä»¤å¦‚ä¸‹ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>$ python server/llm_api_stale.py <span class="token parameter variable">--gpus</span> <span class="token number">0,1</span> --num-gpus <span class="token number">2</span> --max-gpu-memory 10GiB
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ³¨ï¼šä»¥å¦‚ä¸Šæ–¹å¼å¯åŠ¨LLMæœåŠ¡ä¼šä»¥nohupå‘½ä»¤åœ¨åå°è¿è¡Œ FastChat æœåŠ¡ï¼Œå¦‚éœ€åœæ­¢æœåŠ¡ï¼Œå¯ä»¥è¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>$ python server/llm_api_shutdown.py <span class="token parameter variable">--serve</span> all 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>äº¦å¯å•ç‹¬åœæ­¢ä¸€ä¸ª FastChat æœåŠ¡æ¨¡å—ï¼Œå¯é€‰ [<code>all</code>, <code>controller</code>, <code>model_worker</code>, <code>openai_api_server</code>]</p><h5 id="peft-åŠ è½½-åŒ…æ‹¬lora-p-tuning-prefix-tuning-prompt-tuning-ia3ç­‰-1" tabindex="-1"><a class="header-anchor" href="#peft-åŠ è½½-åŒ…æ‹¬lora-p-tuning-prefix-tuning-prompt-tuning-ia3ç­‰-1"><span>PEFT åŠ è½½(åŒ…æ‹¬lora,p-tuning,prefix tuning, prompt tuning,ia3ç­‰)</span></a></h5>`,11),gn={href:"https://github.com/chatchat-space/Langchain-Chatchat/issues/1130#issuecomment-1685291822",target:"_blank",rel:"noopener noreferrer"},mn=e("figure",null,[e("img",{src:u,alt:"image-20230906100313064",tabindex:"0",loading:"lazy"}),e("figcaption",null,"image-20230906100313064")],-1),bn=e("h4",{id:"å¯åŠ¨-api-æœåŠ¡",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#å¯åŠ¨-api-æœåŠ¡"},[e("span",null,"å¯åŠ¨ API æœåŠ¡")])],-1),_n={href:"https://github.com/chatchat-space/Langchain-Chatchat/blob/master/README.md#5.1-%E5%90%AF%E5%8A%A8-LLM-%E6%9C%8D%E5%8A%A1",target:"_blank",rel:"noopener noreferrer"},vn=e("strong",null,"å¯åŠ¨ LLM æœåŠ¡å",-1),fn={href:"https://github.com/chatchat-space/Langchain-Chatchat/blob/master/server/api.py",target:"_blank",rel:"noopener noreferrer"},kn=e("strong",null,"API",-1),En={href:"https://github.com/chatchat-space/Langchain-Chatchat/blob/master/server/api.py",target:"_blank",rel:"noopener noreferrer"},An=e("strong",null,"API",-1),yn=t(`<p>è°ƒç”¨å‘½ä»¤ç¤ºä¾‹ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>$ python server/api.py
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å¯åŠ¨ API æœåŠ¡åï¼Œå¯è®¿é—® <code>localhost:7861</code> æˆ– <code>{API æ‰€åœ¨æœåŠ¡å™¨ IP}:7861</code> FastAPI è‡ªåŠ¨ç”Ÿæˆçš„ docs è¿›è¡Œæ¥å£æŸ¥çœ‹ä¸æµ‹è¯•ã€‚</p><ul><li>FastAPI docs ç•Œé¢ <img src="`+g+'" alt="image-20230906100403529" loading="lazy"></li></ul><h4 id="å¯åŠ¨-web-ui-æœåŠ¡" tabindex="-1"><a class="header-anchor" href="#å¯åŠ¨-web-ui-æœåŠ¡"><span>å¯åŠ¨ Web UI æœåŠ¡</span></a></h4>',5),xn={href:"https://github.com/chatchat-space/Langchain-Chatchat/blob/master/README.md#5.2-%E5%90%AF%E5%8A%A8-API-%E6%9C%8D%E5%8A%A1",target:"_blank",rel:"noopener noreferrer"},Ln=e("strong",null,"å¯åŠ¨ API æœåŠ¡å",-1),Bn={href:"https://github.com/chatchat-space/Langchain-Chatchat/blob/master/webui.py",target:"_blank",rel:"noopener noreferrer"},Cn=e("strong",null,"Web UI",-1),In=e("code",null,"8501",-1),Dn=t(`<div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>$ streamlit run webui.py
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä½¿ç”¨ Langchain-Chatchat ä¸»é¢˜è‰²å¯åŠ¨ <strong>Web UI</strong> æœåŠ¡ï¼ˆé»˜è®¤ä½¿ç”¨ç«¯å£ <code>8501</code>ï¼‰</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>$ streamlit run webui.py <span class="token parameter variable">--theme.base</span> <span class="token string">&quot;light&quot;</span> <span class="token parameter variable">--theme.primaryColor</span> <span class="token string">&quot;#165dff&quot;</span> <span class="token parameter variable">--theme.secondaryBackgroundColor</span> <span class="token string">&quot;#f5f5f5&quot;</span> <span class="token parameter variable">--theme.textColor</span> <span class="token string">&quot;#000000&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æˆ–ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŒ‡å®šå¯åŠ¨ <strong>Web UI</strong> æœåŠ¡å¹¶æŒ‡å®šç«¯å£å·</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>$ streamlit run webui.py <span class="token parameter variable">--server.port</span> <span class="token number">666</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,5),Mn=e("p",null,"Web UI å¯¹è¯ç•Œé¢ï¼š",-1),wn={href:"https://github.com/chatchat-space/Langchain-Chatchat/blob/master/img/webui_0813_0.png",target:"_blank",rel:"noopener noreferrer"},Pn=e("img",{src:"https://github.com/chatchat-space/Langchain-Chatchat/raw/master/img/webui_0813_0.png",alt:"img",tabindex:"0",loading:"lazy"},null,-1),Fn=e("figcaption",null,"img",-1),Tn=e("p",null,"Web UI çŸ¥è¯†åº“ç®¡ç†é¡µé¢ï¼š",-1),zn={href:"https://github.com/chatchat-space/Langchain-Chatchat/blob/master/img/webui_0813_1.png",target:"_blank",rel:"noopener noreferrer"},Un=e("img",{src:"https://github.com/chatchat-space/Langchain-Chatchat/raw/master/img/webui_0813_1.png",alt:"img",tabindex:"0",loading:"lazy"},null,-1),qn=e("figcaption",null,"img",-1),Nn=e("h2",{id:"å¸¸è§é—®é¢˜",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#å¸¸è§é—®é¢˜"},[e("span",null,"å¸¸è§é—®é¢˜")])],-1),Wn={href:"https://github.com/chatchat-space/Langchain-Chatchat/blob/master/docs/FAQ.md",target:"_blank",rel:"noopener noreferrer"},Gn=e("h2",{id:"è·¯çº¿å›¾",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#è·¯çº¿å›¾"},[e("span",null,"è·¯çº¿å›¾")])],-1),Rn=e("ul",null,[e("li",null,"Langchain åº”ç”¨"),e("li",null,[a("æœ¬åœ°æ•°æ®æ¥å…¥ - æ¥å…¥éç»“æ„åŒ–æ–‡æ¡£ "),e("ul",null,[e("li",null,".md"),e("li",null,".txt"),e("li",null,".docx")])])],-1),Sn=e("pre",null,[e("code",null,`-  ç»“æ„åŒ–æ•°æ®æ¥å…¥
  -  .csv
  -  .xlsx
-  åˆ†è¯åŠå¬å›
  -  æ¥å…¥ä¸åŒç±»å‹ TextSplitter
  -  ä¼˜åŒ–ä¾æ®ä¸­æ–‡æ ‡ç‚¹ç¬¦å·è®¾è®¡çš„ ChineseTextSplitter
  -  é‡æ–°å®ç°ä¸Šä¸‹æ–‡æ‹¼æ¥å¬å›
-  æœ¬åœ°ç½‘é¡µæ¥å…¥
-  SQL æ¥å…¥
-  çŸ¥è¯†å›¾è°±/å›¾æ•°æ®åº“æ¥å…¥
`)],-1),$n=e("li",null,"æœç´¢å¼•æ“æ¥å…¥ - Bing æœç´¢ - DuckDuckGo æœç´¢",-1),Vn=e("li",null,"Agent å®ç°",-1),Hn=e("li",null,"LLM æ¨¡å‹æ¥å…¥",-1),jn={href:"https://github.com/lm-sys/fastchat",target:"_blank",rel:"noopener noreferrer"},On=e("li",null,"æ”¯æŒ ChatGLM API ç­‰ LLM API çš„æ¥å…¥",-1),Qn=e("li",null,"Embedding æ¨¡å‹æ¥å…¥",-1),Kn=e("li",null,"æ”¯æŒè°ƒç”¨ HuggingFace ä¸­å„å¼€æº Emebdding æ¨¡å‹",-1),Zn=e("li",null,"æ”¯æŒ OpenAI Embedding API ç­‰ Embedding API çš„æ¥å…¥",-1),Jn=e("li",null,"åŸºäº FastAPI çš„ API æ–¹å¼è°ƒç”¨",-1),Yn=e("li",null,"Web UI",-1),Xn=e("li",null,"åŸºäº Streamlit çš„ Web UI",-1),es=t('<h2 id="é¡¹ç›®äº¤æµç¾¤" tabindex="-1"><a class="header-anchor" href="#é¡¹ç›®äº¤æµç¾¤"><span>é¡¹ç›®äº¤æµç¾¤</span></a></h2><img src="'+m+'" alt="image-20230906101805804" style="zoom:25%;"><h1 id="ä¸ªäººç¯å¢ƒå¤‡æ³¨" tabindex="-1"><a class="header-anchor" href="#ä¸ªäººç¯å¢ƒå¤‡æ³¨"><span>ä¸ªäººç¯å¢ƒå¤‡æ³¨</span></a></h1><h2 id="llmæ¨¡å‹æ›¿æ¢é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#llmæ¨¡å‹æ›¿æ¢é—®é¢˜"><span>LLMæ¨¡å‹æ›¿æ¢é—®é¢˜</span></a></h2><h3 id="æ¢ç”¨æ›´å¤§å‚æ•°é‡çš„æ¨¡å‹" tabindex="-1"><a class="header-anchor" href="#æ¢ç”¨æ›´å¤§å‚æ•°é‡çš„æ¨¡å‹"><span>æ¢ç”¨æ›´å¤§å‚æ•°é‡çš„æ¨¡å‹</span></a></h3>',5),as=e("p",null,[a("ä»–è¿™é‡Œé»˜è®¤æ˜¯6bï¼Œå¯ä»¥ç»™7Gçš„æ˜¾å¡ç”¨ã€‚ä½†å…¬å¸ç”µè„‘æ˜¯24Gæ˜¾å­˜çš„3090Tiï¼Œå¯ä»¥æ¢ç”¨æ›´å¼ºçš„æœ¬åœ°æ¨¡å‹ã€‚ è¿™é‡Œå¤§æ¦‚ç®—ä¸€ä¸‹ï¼Œbå°±æ˜¯billion åäº¿ã€‚ "),e("span",{class:"katex"},[e("span",{class:"katex-mathml"},[e("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[e("semantics",null,[e("mrow",null,[e("mn",null,"7"),e("mi",null,"G"),e("mo",null,"="),e("mn",null,"7"),e("mo",null,"âˆ—"),e("mn",null,"1"),e("msup",null,[e("mn",null,"0"),e("mrow",null,[e("mn",null,"3"),e("mo",null,"âˆ—"),e("mn",null,"3")])]),e("mo",null,"="),e("mn",null,"7"),e("mi",null,"B")]),e("annotation",{encoding:"application/x-tex"},"7G=7*10^{3*3}=7B")])])]),e("span",{class:"katex-html","aria-hidden":"true"},[e("span",{class:"base"},[e("span",{class:"strut",style:{height:"0.6833em"}}),e("span",{class:"mord"},"7"),e("span",{class:"mord mathnormal"},"G"),e("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),e("span",{class:"mrel"},"="),e("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),e("span",{class:"base"},[e("span",{class:"strut",style:{height:"0.6444em"}}),e("span",{class:"mord"},"7"),e("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),e("span",{class:"mbin"},"âˆ—"),e("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),e("span",{class:"base"},[e("span",{class:"strut",style:{height:"0.8141em"}}),e("span",{class:"mord"},"1"),e("span",{class:"mord"},[e("span",{class:"mord"},"0"),e("span",{class:"msupsub"},[e("span",{class:"vlist-t"},[e("span",{class:"vlist-r"},[e("span",{class:"vlist",style:{height:"0.8141em"}},[e("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[e("span",{class:"pstrut",style:{height:"2.7em"}}),e("span",{class:"sizing reset-size6 size3 mtight"},[e("span",{class:"mord mtight"},[e("span",{class:"mord mtight"},"3"),e("span",{class:"mbin mtight"},"âˆ—"),e("span",{class:"mord mtight"},"3")])])])])])])])]),e("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),e("span",{class:"mrel"},"="),e("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),e("span",{class:"base"},[e("span",{class:"strut",style:{height:"0.6833em"}}),e("span",{class:"mord"},"7"),e("span",{class:"mord mathnormal",style:{"margin-right":"0.05017em"}},"B")])])]),a("ï¼Œç”±äºå…¶ä»–æŸè€—å°±å¤§æ¦‚æ˜¯7Gæ˜¾å¡çš„æ ·å­ã€‚ ä½†è¿™ä¹Ÿä¸ä¸€å®šï¼Œåƒ https://zhuanlan.zhihu.com/p/618690572 è¿™é‡Œè¯´è¿™ä¸ª130Bç¼©æ”¾ç‰¹æ€§å¯ä»¥é‡åŒ–åˆ°100Bçº§åˆ«ï¼Œç„¶åå¯ä»¥ç”± 4x24G æ¥è¿è¡Œ")],-1),ns=e("p",null,"å‚è€ƒï¼š",-1),ss=e("ul",null,[e("li",null,"GPT-3 175B"),e("li",null,"OPT-175B"),e("li",null,"BLOOM-176B")],-1),ts=e("h3",{id:"åŒå‚æ•°é‡çš„æ¨¡å‹ã€é‡åŒ–oré«˜å‚æ•°é‡",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#åŒå‚æ•°é‡çš„æ¨¡å‹ã€é‡åŒ–oré«˜å‚æ•°é‡"},[e("span",null,"åŒå‚æ•°é‡çš„æ¨¡å‹ã€é‡åŒ–oré«˜å‚æ•°é‡")])],-1),ls=e("p",null,"å¦å¤–ï¼Œå‚æ•°é‡ç›¸åŒçš„æ¨¡å‹ä¹Ÿä¼šæœ‰å·®å¼‚ã€‚å¦‚æ–°çš„ä¼˜åŒ–æ–¹æ¡ˆå¯¼è‡´æ€§èƒ½ä¸åŒï¼Œæˆ–è€…è®­ç»ƒé›†ä¸åŒï¼Œè°ƒå‚å·®å¼‚ï¼Œå¯¼è‡´çš„ä¾§é‡ç‚¹ä¸åŒã€‚ä»¥åŠåŒè¯­çš„æ”¯æŒç­‰ï¼Œéƒ½æ˜¯è¦è€ƒè™‘çš„é‡ç‚¹ã€‚",-1),is={href:"https://blog.csdn.net/nlpstarter/article/details/131129240",target:"_blank",rel:"noopener noreferrer"},os=t('<p>æ¨¡å‹æ¯”è¾ƒ</p><ul><li>Alpaca-Plus-13Bï¼š120Gé¢„è®­ç»ƒï¼Œ400ä¸‡æŒ‡ä»¤ç²¾è°ƒã€‚ <ul><li>ç‰¹ç‚¹ï¼šé«˜è®­ç»ƒæ•°æ®ï¼ŒQ8é‡åŒ–</li></ul></li><li>Alpaca-33Bï¼š20Gé¢„è®­ç»ƒï¼Œ400ä¸‡æŒ‡ä»¤ç²¾è°ƒ <ul><li>ç‰¹ç‚¹ï¼šæ¨¡å‹é‡çº§å¤§ï¼ŒQ4é‡åŒ–</li></ul></li></ul><p>æµ‹è¯•</p><ul><li>æ¸©å®¤æ•ˆåº”é—®é¢˜ï¼š33Bçš„å›ç­”æ¯”è¾ƒç®€ç»ƒï¼Œå†…å®¹é•¿åº¦ä¸Šä¸å ä¼˜</li><li>æ•°å­¦é—®é¢˜ï¼šéª‘7ä¸ªçŒ´ã€‚<strong>33Bçš„å®Œèƒœ</strong>Plus-13Bï¼Œå¯èƒ½æ¨¡å‹é‡çº§å¯¹äºè¿™ç§æ•°å€¼è®¡ç®—å’Œæ¨ç†ç±»çš„æœ‰è¾ƒå¤§ä¼˜åŠ¿å§</li><li>å¦‚ä½•åˆ¶ä½œå®«ä¿é¸¡ä¸ï¼Ÿï¼šå·®ä¸å¤š</li><li>å†™ä¸€å°ä¿¡ï¼šPlus-13Bå ä¼˜ä¸€äº›ï¼Œå†…å®¹è¯¦å®ã€‚å¯èƒ½33Båƒäº†è®­ç»ƒæ•°æ®å°‘çš„äºï¼Œå†™çš„å†…å®¹ä¸æ˜¯ç‰¹åˆ«ç”ŸåŠ¨</li><li>ä»£ç æ–¹é¢ï¼š<strong>33Bæ˜¾è‘—èƒœå‡º</strong></li><li>è§’è‰²æ‰®æ¼”ï¼šå·®ä¸å¤šï¼Œ13å›å¤é•¿ï¼Œç•¥ä¼˜</li></ul><p>æ€»ç»“</p><blockquote><p>Plus-13Bç›¸æ¯”ä¹‹å‰çš„7B/13Bå·²ç»æœ‰æ˜¾è‘—æ€§èƒ½æå‡äº†ï¼Œå°¤å…¶æ˜¯åœ¨ç”Ÿæˆç±»çš„ä»»åŠ¡ä¸Šå†…å®¹æ›´åŠ è¯¦å®ã€‚33Bçš„ä¼˜ç¼ºç‚¹æ¯”è¾ƒæ˜æ˜¾ï¼Œä¼˜ç‚¹æ˜¯ä»£ç èƒ½åŠ›å’Œæ•°å€¼è®¡ç®—æ–¹é¢ç¡®å®æ¯”ä¹‹å‰é«˜å‡ºä¸€æˆªï¼Œä½†æ˜¯åœ¨æ–‡æœ¬ç”Ÿæˆç±»çš„ä»»åŠ¡ä¸Šæ•ˆæœç•¥ä½äºplus-13Bã€‚ä¸è¿‡33Bæ˜¯åŸºç¡€ç‰ˆï¼Œè¿™ä¹ˆæ¯”å¯èƒ½æœ‰ç‚¹ä¸è®²æ­¦å¾·ï¼Œå“ˆå“ˆã€‚è¿™æ ·å…¶å®å°±æ¯”è¾ƒæœŸå¾…åç»­plus-33bçš„æ•ˆæœäº†ï¼Œç”Ÿæˆç±»ä»»åŠ¡çš„æ•ˆæœåº”è¯¥ä¼šæœ‰ä¸€ä¸ªæå‡ã€‚</p></blockquote><h3 id="ç¾Šé©¼ç³»æ¨¡å‹" tabindex="-1"><a class="header-anchor" href="#ç¾Šé©¼ç³»æ¨¡å‹"><span>ç¾Šé©¼ç³»æ¨¡å‹</span></a></h3><p>å‚è€ƒï¼š</p>',8),rs={href:"https://zhuanlan.zhihu.com/p/106262896",target:"_blank",rel:"noopener noreferrer"},cs={href:"https://www.cnblogs.com/jiangxinyang/p/17310398.html",target:"_blank",rel:"noopener noreferrer"},ps=e("li",null,"https://blog.csdn.net/v_JULY_v/article/details/129709105",-1),hs={href:"https://github.com/lm-sys/FastChat",target:"_blank",rel:"noopener noreferrer"},ds=t(`<p>ä¸€äº›æ¨¡å‹å›¾æ ‡çš„åŒºåˆ†ï¼šhttps://kaiyuan.blog.csdn.net/article/details/131467606</p><h2 id="bug1-æ— æ³•æ‰¾åˆ°æ˜¾å¡é©±åŠ¨" tabindex="-1"><a class="header-anchor" href="#bug1-æ— æ³•æ‰¾åˆ°æ˜¾å¡é©±åŠ¨"><span>bug1 æ— æ³•æ‰¾åˆ°æ˜¾å¡é©±åŠ¨</span></a></h2><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token punctuation">(</span>base<span class="token punctuation">)</span> root@msy-System-Product-Name:~<span class="token comment"># docker run -d --gpus all -p 80:8501 registry.cn-beijing.aliyuncs.com/chatchat/chatchat:0.2.0</span>
4bcc140c4c5b24e21da7ba6bf863d372f899ddd20e141469959b08ac45b5cf5a
docker: Error response from daemon: could not <span class="token keyword">select</span> device driver <span class="token string">&quot;&quot;</span> with capabilities: <span class="token punctuation">[</span><span class="token punctuation">[</span>gpu<span class="token punctuation">]</span><span class="token punctuation">]</span>.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è§£å†³è¯¥bug</p><hr><p>è¿™ä¸ªé”™è¯¯é€šå¸¸å‘ç”Ÿåœ¨ Docker æ— æ³•åœ¨ä½ çš„æœºå™¨ä¸Šæ‰¾åˆ°æ­£ç¡®çš„é©±åŠ¨ç¨‹åºæ¥ä½¿ç”¨ GPU çš„æƒ…å†µä¸‹ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜çš„æ­¥éª¤ï¼š</p><ol><li><p><strong>æ£€æŸ¥Dockerç‰ˆæœ¬æ˜¯å¦æ”¯æŒ --gpus é€‰é¡¹</strong></p><p>Dockerä»19.03ç‰ˆæœ¬å¼€å§‹æ”¯æŒåŸç”Ÿä½¿ç”¨GPUã€‚ç”¨å‘½ä»¤ <code>docker --version</code> æ£€æŸ¥Dockerç‰ˆæœ¬ï¼Œå¦‚æœä½ ä½¿ç”¨çš„æ˜¯æ›´æ—§çš„ç‰ˆæœ¬ï¼Œè€ƒè™‘æ›´æ–°Dockerè‡³æœ€æ–°ç‰ˆæœ¬ã€‚</p></li><li><p><strong>æ£€æŸ¥æ˜¯å¦å®‰è£…äº† NVIDIA å®¹å™¨å·¥å…·ç®±</strong></p><p>å¦‚æœä½ åœ¨dockerä¸­ä½¿ç”¨GPUï¼Œä½ éœ€è¦å®‰è£…nvidia-docker2ï¼Œå¹¶åœ¨ä½ çš„dockeré…ç½®ä¸­æ·»åŠ NVIDIAè¿è¡Œæ—¶ã€‚å¦‚æœæ²¡æœ‰å®‰è£…ï¼ŒæŒ‰ç…§ä»¥ä¸‹æ­¥éª¤è¿›è¡Œå®‰è£…</p></li></ol><p>a. <strong>ç§»é™¤æ—§ç‰ˆæœ¬</strong></p><p>æ—§ç‰ˆæœ¬çš„ Docker ç”±åä¸º <code>nvidia-docker2</code> çš„åŒ…æ”¯æŒã€‚æ–°çš„ Docker ç‰ˆæœ¬ç”± NVIDIA å®¹å™¨å·¥å…·ç®±æ”¯æŒã€‚å¦‚æœä½ å·²ç»å®‰è£…äº†æ—§çš„ <code>nvidia-docker2</code> åŒ…ï¼Œè¯·ç§»é™¤å®ƒï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">apt-get</span> purge <span class="token parameter variable">-y</span> nvidia-docker
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>b. <strong>å®‰è£… NVIDIA å®¹å™¨å·¥å…·ç®±</strong> - æ·»åŠ åŒ…å­˜å‚¨åº“ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-s</span> <span class="token parameter variable">-L</span> https://nvidia.github.io/nvidia-docker/gpgkey <span class="token operator">|</span> <span class="token function">sudo</span> apt-key <span class="token function">add</span> -
<span class="token assign-left variable">distribution</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">.</span> /etc/os-release<span class="token punctuation">;</span><span class="token builtin class-name">echo</span> $ID$VERSION_ID<span class="token variable">)</span></span>
<span class="token function">curl</span> <span class="token parameter variable">-s</span> <span class="token parameter variable">-L</span> https://nvidia.github.io/nvidia-docker/<span class="token variable">$distribution</span>/nvidia-docker.list <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> /etc/apt/sources.list.d/nvidia-docker.list
<span class="token function">sudo</span> <span class="token function">apt-get</span> update
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> <span class="token parameter variable">-y</span> nvidia-docker2
<span class="token function">sudo</span> systemctl restart <span class="token function">docker</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>c. <strong>æµ‹è¯• NVIDIA Docker å®‰è£…</strong> - é€šè¿‡è¿è¡Œä¸€ä¸ªç¤ºä¾‹æ¥æµ‹è¯• NVIDIA Docker çš„å®‰è£…æ˜¯å¦æˆåŠŸï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">docker</span> run <span class="token parameter variable">--rm</span> <span class="token parameter variable">--gpus</span> all nvidia/cuda:11.0-base nvidia-smi
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol><li>å¦‚æœä»ç„¶å­˜åœ¨ç›¸åŒçš„é”™è¯¯ï¼Œé‚£ä¹ˆä½ åº”è¯¥æ£€æŸ¥Dockeræ˜¯å¦å¯ä»¥è®¿é—®GPUã€‚ä½ å¯ä»¥é€šè¿‡è¿è¡Œå‘½ä»¤ <code>nvidia-smi</code> æ¥æ£€æŸ¥ã€‚å¦‚æœä½ å¯ä»¥çœ‹åˆ°ä½ çš„GPUåˆ—è¡¨ï¼ŒDockerä¹Ÿåº”è¯¥èƒ½å¤Ÿä½¿ç”¨å®ƒä»¬ã€‚</li><li>ç¡®ä¿æ‚¨çš„æœºå™¨ä¸Šæ­£ç¡®å®‰è£…äº† NVIDIA é©±åŠ¨ç¨‹åºã€‚æ‚¨å¯ä»¥ä½¿ç”¨å‘½ä»¤ <code>nvidia-smi</code> æ¥éªŒè¯ã€‚</li></ol><p>å¦‚æœé—®é¢˜ä»ç„¶å­˜åœ¨ï¼Œè¯·æä¾›æ›´å¤šä¿¡æ¯ï¼Œä»¥ä¾¿æˆ‘èƒ½æ›´æ·±å…¥åœ°å¸®åŠ©ä½ ã€‚</p><h2 id="bug2-å›ç­”ä¸ºç©º" tabindex="-1"><a class="header-anchor" href="#bug2-å›ç­”ä¸ºç©º"><span>bug2 å›ç­”ä¸ºç©º</span></a></h2><p>ç¾¤é‡Œå¦ä¸€ä¸ªç”¨ docker æ–¹å¼çš„ï¼Œä¹Ÿé‡åˆ°äº†ç›¸åŒçš„é—®é¢˜ã€‚å†³å®šæ”¾å¼ƒdockeræ–¹æ¡ˆï¼Œè½¬æ‰‹åŠ¨éƒ¨ç½²ã€‚ä½†æˆ‘ä¸æƒ³é‡æ–°ä¸‹è¿™äº›æ¨¡å‹åŒ…äº†ï¼Œå°±åœ¨åŸdockerçš„åŸºç¡€ä¸Šé‡æ–°éƒ¨ç½²å§</p><p>åŸ</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">--gpus</span> all <span class="token parameter variable">-p</span> <span class="token number">80</span>:8501 registry.cn-beijing.aliyuncs.com/chatchat/chatchat:0.2.0
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ç°</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># å¯é€‰ï¼Œåˆ æ‰æ—§çš„docker</span>
<span class="token function">docker</span> stop xxx
dcker <span class="token function">rm</span> xxx

<span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">--name</span><span class="token operator">=</span>chatchat2 <span class="token parameter variable">--restart</span><span class="token operator">=</span>always <span class="token parameter variable">-p</span> <span class="token number">80</span>:8501 f224e85162da

<span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> chatchat2 /bin/bash
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="bug3-gité—®é¢˜" tabindex="-1"><a class="header-anchor" href="#bug3-gité—®é¢˜"><span>bug3 gité—®é¢˜</span></a></h2><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token punctuation">(</span>base<span class="token punctuation">)</span> root@msy-System-Product-Name:~/chatchat<span class="token comment"># git clone https://huggingface.co/moka-ai/m3e-base</span>
æ­£å…‹éš†åˆ° <span class="token string">&#39;m3e-base&#39;</span><span class="token punctuation">..</span>.
remote: Enumerating objects: <span class="token number">108</span>, done.
remote: Counting objects: <span class="token number">100</span>% <span class="token punctuation">(</span><span class="token number">16</span>/16<span class="token punctuation">)</span>, done.
remote: Compressing objects: <span class="token number">100</span>% <span class="token punctuation">(</span><span class="token number">15</span>/15<span class="token punctuation">)</span>, done.
remote: Total <span class="token number">108</span> <span class="token punctuation">(</span>delta <span class="token number">6</span><span class="token punctuation">)</span>, reused <span class="token number">0</span> <span class="token punctuation">(</span>delta <span class="token number">0</span><span class="token punctuation">)</span>, pack-reused <span class="token number">92</span>
æ¥æ”¶å¯¹è±¡ä¸­: <span class="token number">100</span>% <span class="token punctuation">(</span><span class="token number">108</span>/108<span class="token punctuation">)</span>, <span class="token number">194.12</span> KiB <span class="token operator">|</span> <span class="token number">2.55</span> MiB/s, å®Œæˆ.
å¤„ç† delta ä¸­: <span class="token number">100</span>% <span class="token punctuation">(</span><span class="token number">57</span>/57<span class="token punctuation">)</span>, å®Œæˆ.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>git cloneå¡åœ¨è¿™ä¸€æ­¥</p><p>å°è¯•ç”¨å®‰è£… Git LFS è§£å†³è¯¥é—®é¢˜ã€‚</p><p>åœ¨ Ubuntu ä¸Šå®‰è£… Git LFS å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p><p>æ—§ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># å®‰è£…å¿…è¦çš„è½¯ä»¶åŒ…</span>
$ <span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> <span class="token function">git</span>

<span class="token comment"># ä¸‹è½½å¹¶å®‰è£…git-lfs</span>
$ <span class="token function">curl</span> <span class="token parameter variable">-s</span> https://packagecloud.io/install/repositories/github/git-lfs/script.deb.sh <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">bash</span>
$ <span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> git-lfs

<span class="token comment"># åˆå§‹åŒ–git-lfs</span>
$ <span class="token function">git</span> lfs <span class="token function">install</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ–°ï¼š</p><p>è§å®˜ç½‘é“¾æ¥</p><p>ä½†çœ‹èµ·æ¥æ²¡æˆåŠŸ</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token punctuation">(</span>base<span class="token punctuation">)</span> root@msy-System-Product-Name:~/chatchat<span class="token comment"># git lfs install</span>
Error: Failed to call <span class="token function">git</span> rev-parse --git-dir: <span class="token builtin class-name">exit</span> status <span class="token number">128</span>
Git LFS initialized.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åæ¥ç›´æ¥å¤åˆ¶é»è´´äº†ï¼Œä¸gitäº†ã€‚å…¶å®å°±æ˜¯10Gçš„gitæ—¶é—´å¤ªæ…¢äº†è€Œå·²ã€‚è€å¿ƒç­‰ä¹Ÿå¯ä»¥ï¼Œæˆ‘é€‰æ‹©å…ˆç”¨æœ‰çº¿ä¸‹è½½å†ç”¨wifiä¼ è¿‡å»</p><h2 id="bug4-æ‰¾ä¸åˆ°å­˜åœ¨çš„è·¯å¾„" tabindex="-1"><a class="header-anchor" href="#bug4-æ‰¾ä¸åˆ°å­˜åœ¨çš„è·¯å¾„"><span>bug4 æ‰¾ä¸åˆ°å­˜åœ¨çš„è·¯å¾„</span></a></h2><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>FileNotFoundError: <span class="token punctuation">[</span>Errno <span class="token number">2</span><span class="token punctuation">]</span> No usable temporary directory found <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token string">&#39;/tmp&#39;</span>, <span class="token string">&#39;/var/tmp&#39;</span>, <span class="token string">&#39;/usr/tmp&#39;</span>, <span class="token string">&#39;/root/chatchat/Langchain-Chatchat&#39;</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä½†è·¯å¾„éƒ½æ˜¯çœŸå®å­˜åœ¨çš„</p><p>åæ¥å‘ç°åº”è¯¥æ˜¯æˆ‘ç¡¬ç›˜ç©ºé—´æ»¡äº†çš„åŸå› </p><h2 id="bug5-ä¸€ç›´å¡åœ¨-wait-controller-running" tabindex="-1"><a class="header-anchor" href="#bug5-ä¸€ç›´å¡åœ¨-wait-controller-running"><span>bug5 ä¸€ç›´å¡åœ¨ wait controller running</span></a></h2><p>åˆ†æ­¥è¿è¡Œä¸­ï¼Œç”¨ <code> python server/llm_api_stale.py</code> åˆ™ä¸€ç›´å¡åœ¨wait controller running</p><p>æ¢ç”¨å›ä¸€é”®å¯åŠ¨çš„å‘½ä»¤ï¼Œç¾¤å‹è¯´é‚£ä¸ªåˆ†æ­¥å¯ç”¨çš„å¯èƒ½å®˜æ–¹è¦ä¸ç»´æŠ¤äº†</p><h2 id="bug6-çˆ†æ˜¾å­˜" tabindex="-1"><a class="header-anchor" href="#bug6-çˆ†æ˜¾å­˜"><span>bug6 çˆ†æ˜¾å­˜</span></a></h2><p>é‡å¯ç”µè„‘è§£å†³</p>`,43);function us(gs,ms){const n=i("ExternalLinkIcon");return o(),r("div",null,[_,v,f,e("ul",null,[k,e("li",null,[e("a",E,[a("Install.md"),s(n)])]),e("li",null,[e("a",A,[a("åœ¨Anacondaä¸­ä½¿ç”¨pipå®‰è£…åŒ…çš„é—®é¢˜.md"),s(n)])]),y,x,e("li",null,[e("a",L,[a("åœ¨Anacondaä¸­ä½¿ç”¨pipå®‰è£…åŒ…æ— æ•ˆé—®é¢˜.md"),s(n)])])]),B,C,I,e("ul",null,[e("li",null,[e("a",D,[a("ä»‹ç»"),s(n)])]),e("li",null,[e("a",M,[a("å˜æ›´æ—¥å¿—"),s(n)])]),e("li",null,[e("a",w,[a("æ¨¡å‹æ”¯æŒ"),s(n)])]),e("li",null,[e("a",P,[a("Docker éƒ¨ç½²"),s(n)])]),e("li",null,[a("å¼€å‘éƒ¨ç½² "),e("ul",null,[e("li",null,[e("a",F,[a("è½¯ä»¶éœ€æ±‚"),s(n)])]),e("li",null,[e("a",T,[a("1. å¼€å‘ç¯å¢ƒå‡†å¤‡"),s(n)])]),e("li",null,[e("a",z,[a("2. ä¸‹è½½æ¨¡å‹è‡³æœ¬åœ°"),s(n)])]),e("li",null,[e("a",U,[a("3. è®¾ç½®é…ç½®é¡¹"),s(n)])]),e("li",null,[e("a",q,[a("4. çŸ¥è¯†åº“åˆå§‹åŒ–ä¸è¿ç§»"),s(n)])]),e("li",null,[e("a",N,[a("5. ä¸€é”®å¯åŠ¨APIæœåŠ¡æˆ–WebUIæœåŠ¡"),s(n)])]),e("li",null,[e("a",W,[a("6. åˆ†æ­¥å¯åŠ¨ API æœåŠ¡æˆ– Web UI"),s(n)])])])]),e("li",null,[e("a",G,[a("å¸¸è§é—®é¢˜"),s(n)])]),e("li",null,[e("a",R,[a("è·¯çº¿å›¾"),s(n)])]),e("li",null,[e("a",S,[a("é¡¹ç›®äº¤æµç¾¤"),s(n)])])]),$,e("p",null,[a("ğŸ¤–ï¸ ä¸€ç§åˆ©ç”¨ "),e("a",V,[a("langchain"),s(n)]),a(" æ€æƒ³å®ç°çš„åŸºäºæœ¬åœ°çŸ¥è¯†åº“çš„é—®ç­”åº”ç”¨ï¼Œç›®æ ‡æœŸæœ›å»ºç«‹ä¸€å¥—å¯¹ä¸­æ–‡åœºæ™¯ä¸å¼€æºæ¨¡å‹æ”¯æŒå‹å¥½ã€å¯ç¦»çº¿è¿è¡Œçš„çŸ¥è¯†åº“é—®ç­”è§£å†³æ–¹æ¡ˆã€‚")]),e("p",null,[a("ğŸ’¡ å— "),e("a",H,[a("GanymedeNil"),s(n)]),a(" çš„é¡¹ç›® "),e("a",j,[a("document.ai"),s(n)]),a(" å’Œ "),e("a",O,[a("AlexZhangji"),s(n)]),a(" åˆ›å»ºçš„ "),e("a",Q,[a("ChatGLM-6B Pull Request"),s(n)]),a(" å¯å‘ï¼Œå»ºç«‹äº†å…¨æµç¨‹å¯ä½¿ç”¨å¼€æºæ¨¡å‹å®ç°çš„æœ¬åœ°çŸ¥è¯†åº“é—®ç­”åº”ç”¨ã€‚æœ¬é¡¹ç›®çš„æœ€æ–°ç‰ˆæœ¬ä¸­é€šè¿‡ä½¿ç”¨ "),e("a",K,[a("FastChat"),s(n)]),a(" æ¥å…¥ Vicuna, Alpaca, LLaMA, Koala, RWKV ç­‰æ¨¡å‹ï¼Œä¾æ‰˜äº "),e("a",Z,[a("langchain"),s(n)]),a(" æ¡†æ¶æ”¯æŒé€šè¿‡åŸºäº "),e("a",J,[a("FastAPI"),s(n)]),a(" æä¾›çš„ API è°ƒç”¨æœåŠ¡ï¼Œæˆ–ä½¿ç”¨åŸºäº "),e("a",Y,[a("Streamlit"),s(n)]),a(" çš„ WebUI è¿›è¡Œæ“ä½œã€‚")]),X,e("p",null,[a("ğŸ“º "),e("a",ee,[a("åŸç†ä»‹ç»è§†é¢‘"),s(n)])]),ae,ne,se,te,e("p",null,[a("ğŸŒ "),e("a",le,[a("AutoDL é•œåƒ"),s(n)]),a(" ä¸­ "),ie,a(" ç‰ˆæœ¬æ‰€ä½¿ç”¨ä»£ç å·²æ›´æ–°è‡³æœ¬é¡¹ç›® "),oe,a(" ç‰ˆæœ¬ã€‚")]),e("p",null,[a("ğŸ³ "),e("a",re,[a("Docker é•œåƒ"),s(n)])]),ce,e("p",null,[a("æœ¬é¡¹ç›®ä¸­é»˜è®¤ä½¿ç”¨çš„ LLM æ¨¡å‹ä¸º "),e("a",pe,[a("THUDM/chatglm2-6b"),s(n)]),a("ï¼Œé»˜è®¤ä½¿ç”¨çš„ Embedding æ¨¡å‹ä¸º "),e("a",he,[a("moka-ai/m3e-base"),s(n)]),a(" ä¸ºä¾‹ã€‚")]),de,e("p",null,[a("æœ¬é¡¹ç›®æœ€æ–°ç‰ˆæœ¬ä¸­åŸºäº "),e("a",ue,[a("FastChat"),s(n)]),a(" è¿›è¡Œæœ¬åœ° LLM æ¨¡å‹æ¥å…¥ï¼Œæ”¯æŒæ¨¡å‹å¦‚ä¸‹ï¼š")]),e("ul",null,[e("li",null,[e("a",ge,[a("meta-llama/Llama-2-7b-chat-hf"),s(n)])]),me,e("li",null,[e("a",be,[a("BlinkDL/RWKV-4-Raven"),s(n)])]),e("li",null,[e("a",_e,[a("camel-ai/CAMEL-13B-Combined-Data"),s(n)])]),e("li",null,[e("a",ve,[a("databricks/dolly-v2-12b"),s(n)])]),e("li",null,[e("a",fe,[a("FreedomIntelligence/phoenix-inst-chat-7b"),s(n)])]),e("li",null,[e("a",ke,[a("h2oai/h2ogpt-gm-oasst1-en-2048-open-llama-7b"),s(n)])]),e("li",null,[e("a",Ee,[a("lcw99/polyglot-ko-12.8b-chang-instruct-chat"),s(n)])]),e("li",null,[e("a",Ae,[a("lmsys/fastchat-t5-3b-v1.0"),s(n)])]),e("li",null,[e("a",ye,[a("mosaicml/mpt-7b-chat"),s(n)])]),e("li",null,[e("a",xe,[a("Neutralzz/BiLLa-7B-SFT"),s(n)])]),e("li",null,[e("a",Le,[a("nomic-ai/gpt4all-13b-snoozy"),s(n)])]),e("li",null,[e("a",Be,[a("NousResearch/Nous-Hermes-13b"),s(n)])]),e("li",null,[e("a",Ce,[a("openaccess-ai-collective/manticore-13b-chat-pyg"),s(n)])]),e("li",null,[e("a",Ie,[a("OpenAssistant/oasst-sft-4-pythia-12b-epoch-3.5"),s(n)])]),e("li",null,[e("a",De,[a("project-baize/baize-v2-7b"),s(n)])]),e("li",null,[e("a",Me,[a("Salesforce/codet5p-6b"),s(n)])]),e("li",null,[e("a",we,[a("StabilityAI/stablelm-tuned-alpha-7b"),s(n)])]),e("li",null,[e("a",Pe,[a("THUDM/chatglm-6b"),s(n)])]),e("li",null,[e("a",Fe,[a("THUDM/chatglm2-6b"),s(n)])]),e("li",null,[e("a",Te,[a("tiiuae/falcon-40b"),s(n)])]),e("li",null,[e("a",ze,[a("timdettmers/guanaco-33b-merged"),s(n)])]),e("li",null,[e("a",Ue,[a("togethercomputer/RedPajama-INCITE-7B-Chat"),s(n)])]),e("li",null,[e("a",qe,[a("WizardLM/WizardLM-13B-V1.0"),s(n)])]),e("li",null,[e("a",Ne,[a("WizardLM/WizardCoder-15B-V1.0"),s(n)])]),e("li",null,[e("a",We,[a("baichuan-inc/baichuan-7B"),s(n)])]),e("li",null,[e("a",Ge,[a("internlm/internlm-chat-7b"),s(n)])]),e("li",null,[e("a",Re,[a("Qwen/Qwen-7B-Chat"),s(n)])]),e("li",null,[e("a",Se,[a("HuggingFaceH4/starchat-beta"),s(n)])]),e("li",null,[a("ä»»ä½• "),e("a",$e,[a("EleutherAI"),s(n)]),a(" çš„ pythia æ¨¡å‹ï¼Œå¦‚ "),e("a",Ve,[a("pythia-6.9b"),s(n)])]),e("li",null,[a("åœ¨ä»¥ä¸Šæ¨¡å‹åŸºç¡€ä¸Šè®­ç»ƒçš„ä»»ä½• "),e("a",He,[a("Peft"),s(n)]),a(" é€‚é…å™¨ã€‚ä¸ºäº†æ¿€æ´»ï¼Œæ¨¡å‹è·¯å¾„ä¸­å¿…é¡»æœ‰ "),je,a(" ã€‚æ³¨æ„ï¼šå¦‚æœåŠ è½½å¤šä¸ªpeftæ¨¡å‹ï¼Œä½ å¯ä»¥é€šè¿‡åœ¨ä»»ä½•æ¨¡å‹å·¥ä½œå™¨ä¸­è®¾ç½®ç¯å¢ƒå˜é‡ "),Oe,a(" æ¥ä½¿å®ƒä»¬å…±äº«åŸºç¡€æ¨¡å‹çš„æƒé‡ã€‚")])]),e("p",null,[a("ä»¥ä¸Šæ¨¡å‹æ”¯æŒåˆ—è¡¨å¯èƒ½éš "),e("a",Qe,[a("FastChat"),s(n)]),a(" æ›´æ–°è€ŒæŒç»­æ›´æ–°ï¼Œå¯å‚è€ƒ "),e("a",Ke,[a("FastChat å·²æ”¯æŒæ¨¡å‹åˆ—è¡¨"),s(n)]),a("ã€‚")]),Ze,Je,e("p",null,[a("æœ¬é¡¹ç›®æ”¯æŒè°ƒç”¨ "),e("a",Ye,[a("HuggingFace"),s(n)]),a(" ä¸­çš„ Embedding æ¨¡å‹ï¼Œå·²æ”¯æŒçš„ Embedding æ¨¡å‹å¦‚ä¸‹ï¼š")]),e("ul",null,[e("li",null,[e("a",Xe,[a("moka-ai/m3e-small"),s(n)])]),e("li",null,[e("a",ea,[a("moka-ai/m3e-base"),s(n)])]),e("li",null,[e("a",aa,[a("moka-ai/m3e-large"),s(n)])]),e("li",null,[e("a",na,[a("BAAI/bge-small-zh"),s(n)])]),e("li",null,[e("a",sa,[a("BAAI/bge-base-zh"),s(n)])]),e("li",null,[e("a",ta,[a("BAAI/bge-large-zh"),s(n)])]),e("li",null,[e("a",la,[a("BAAI/bge-large-zh-noinstruct"),s(n)])]),e("li",null,[e("a",ia,[a("shibing624/text2vec-base-chinese-sentence"),s(n)])]),e("li",null,[e("a",oa,[a("shibing624/text2vec-base-chinese-paraphrase"),s(n)])]),e("li",null,[e("a",ra,[a("shibing624/text2vec-base-multilingual"),s(n)])]),e("li",null,[e("a",ca,[a("shibing624/text2vec-base-chinese"),s(n)])]),e("li",null,[e("a",pa,[a("shibing624/text2vec-bge-large-chinese"),s(n)])]),e("li",null,[e("a",ha,[a("GanymedeNil/text2vec-large-chinese"),s(n)])]),e("li",null,[e("a",da,[a("nghuyong/ernie-3.0-nano-zh"),s(n)])]),e("li",null,[e("a",ua,[a("nghuyong/ernie-3.0-base-zh"),s(n)])]),e("li",null,[e("a",ga,[a("OpenAI/text-embedding-ada-002"),s(n)])])]),ma,e("ul",null,[ba,e("li",null,[a("è¯·æ³¨æ„ï¼Œæ‚¨ä¸éœ€è¦åœ¨ä¸»æœºç³»ç»Ÿä¸Šå®‰è£…CUDAå·¥å…·åŒ…ï¼Œä½†éœ€è¦å®‰è£… "),_a,a(" ä»¥åŠ "),va,a("ï¼Œè¯·å‚è€ƒ"),e("a",fa,[a("å®‰è£…æŒ‡å—"),s(n)])]),ka,Ea]),Aa,ya,xa,La,e("p",null,[a("å‚è§ "),e("a",Ba,[a("å¼€å‘ç¯å¢ƒå‡†å¤‡"),s(n)]),a("ã€‚")]),Ca,e("p",null,[a("æ³¨ï¼šä½¿ç”¨ "),Ia,a(" è¿›è¡Œ "),Da,a(" ç­‰æ ¼å¼éç»“æ„åŒ–æ–‡ä»¶æ¥å…¥æ—¶ï¼Œå¯èƒ½éœ€è¦ä¾æ®æ–‡æ¡£è¿›è¡Œå…¶ä»–ä¾èµ–åŒ…çš„å®‰è£…ï¼Œè¯·å‚è€ƒ "),e("a",Ma,[a("langchain æ–‡æ¡£"),s(n)]),a("ã€‚")]),wa,Pa,e("p",null,[a("å¦‚éœ€åœ¨æœ¬åœ°æˆ–ç¦»çº¿ç¯å¢ƒä¸‹è¿è¡Œæœ¬é¡¹ç›®ï¼Œéœ€è¦é¦–å…ˆå°†é¡¹ç›®æ‰€éœ€çš„æ¨¡å‹ä¸‹è½½è‡³æœ¬åœ°ï¼Œé€šå¸¸å¼€æº LLM ä¸ Embedding æ¨¡å‹å¯ä»¥ä» "),e("a",Fa,[a("HuggingFace"),s(n)]),a(" ä¸‹è½½ã€‚")]),e("p",null,[a("ä»¥æœ¬é¡¹ç›®ä¸­é»˜è®¤ä½¿ç”¨çš„ LLM æ¨¡å‹ "),e("a",Ta,[a("THUDM/chatglm2-6b"),s(n)]),a(" ä¸ Embedding æ¨¡å‹ "),e("a",za,[a("moka-ai/m3e-base"),s(n)]),a(" ä¸ºä¾‹ï¼š")]),e("p",null,[a("ä¸‹è½½æ¨¡å‹éœ€è¦å…ˆ"),e("a",Ua,[a("å®‰è£…Git LFS"),s(n)]),a("ï¼Œç„¶åè¿è¡Œ")]),qa,e("p",null,[a("å¤åˆ¶æ¨¡å‹ç›¸å…³å‚æ•°é…ç½®æ¨¡æ¿æ–‡ä»¶ "),e("a",Na,[a("configs/model_config.py.example"),s(n)]),a(" å­˜å‚¨è‡³é¡¹ç›®è·¯å¾„ä¸‹ "),Wa,a(" è·¯å¾„ä¸‹ï¼Œå¹¶é‡å‘½åä¸º "),Ga,a("ã€‚")]),e("p",null,[a("å¤åˆ¶æœåŠ¡ç›¸å…³å‚æ•°é…ç½®æ¨¡æ¿æ–‡ä»¶ "),e("a",Ra,[a("configs/server_config.py.example"),s(n)]),a(" å­˜å‚¨è‡³é¡¹ç›®è·¯å¾„ä¸‹ "),Sa,a(" è·¯å¾„ä¸‹ï¼Œå¹¶é‡å‘½åä¸º "),$a,a("ã€‚")]),Va,e("p",null,[a("æ³¨ï¼šå¦‚æœä¸Šè¿°æ–¹å¼å¯åŠ¨å¤±è´¥ï¼Œåˆ™éœ€è¦ä»¥æ ‡å‡†çš„fastchatæœåŠ¡å¯åŠ¨æ–¹å¼åˆ†æ­¥å¯åŠ¨ï¼Œåˆ†æ­¥å¯åŠ¨æ­¥éª¤å‚è€ƒç¬¬å…­èŠ‚ï¼ŒPEFTåŠ è½½è¯¦ç»†æ­¥éª¤å‚è€ƒ"),e("a",Ha,[a("åŠ è½½loraå¾®è°ƒåæ¨¡å‹å¤±æ•ˆ"),s(n)]),a("ï¼Œ")]),ja,e("ul",null,[e("li",null,[a("Web UI å¯¹è¯ç•Œé¢ï¼š "),e("a",Oa,[Qa,s(n)])]),e("li",null,[a("Web UI çŸ¥è¯†åº“ç®¡ç†é¡µé¢ï¼š "),e("a",Ka,[Za,s(n)])])]),Ja,Ya,Xa,en,e("ul",null,[e("li",null,[e("a",an,[a("åŸºäºå¤šè¿›ç¨‹è„šæœ¬ llm_api.py å¯åŠ¨ LLM æœåŠ¡"),s(n)])]),e("li",null,[e("a",nn,[a("åŸºäºå‘½ä»¤è¡Œè„šæœ¬ llm_api_stale.py å¯åŠ¨ LLM æœåŠ¡"),s(n)])]),e("li",null,[e("a",sn,[a("PEFT åŠ è½½"),s(n)])])]),tn,ln,on,e("p",null,[a("åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œæ‰§è¡Œ "),e("a",rn,[a("server/llm_api.py"),s(n)]),a(" è„šæœ¬å¯åŠ¨ "),cn,a("æœåŠ¡ï¼š")]),pn,e("p",null,[a("åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œæ‰§è¡Œ "),e("a",hn,[a("server/llm_api_stale.py"),s(n)]),a(" è„šæœ¬å¯åŠ¨ "),dn,a("æœåŠ¡ï¼š")]),un,e("p",null,[a("æœ¬é¡¹ç›®åŸºäº FastChat åŠ è½½ LLM æœåŠ¡ï¼Œæ•…éœ€ä»¥ FastChat åŠ è½½ PEFT è·¯å¾„ï¼Œå³ä¿è¯è·¯å¾„åç§°é‡Œå¿…é¡»æœ‰ peft è¿™ä¸ªè¯ï¼Œé…ç½®æ–‡ä»¶çš„åå­—ä¸º adapter_config.jsonï¼Œpeft è·¯å¾„ä¸‹åŒ…å« model.bin æ ¼å¼çš„ PEFT æƒé‡ã€‚ è¯¦ç»†æ­¥éª¤å‚è€ƒ"),e("a",gn,[a("åŠ è½½loraå¾®è°ƒåæ¨¡å‹å¤±æ•ˆ"),s(n)])]),mn,bn,e("p",null,[a("æœ¬åœ°éƒ¨ç½²æƒ…å†µä¸‹ï¼ŒæŒ‰ç…§ "),e("a",_n,[a("5.1 èŠ‚"),s(n)]),vn,a("ï¼Œå†æ‰§è¡Œ "),e("a",fn,[a("server/api.py"),s(n)]),a(" è„šæœ¬å¯åŠ¨ "),kn,a(" æœåŠ¡ï¼›")]),e("p",null,[a("åœ¨çº¿è°ƒç”¨APIæœåŠ¡çš„æƒ…å†µä¸‹ï¼Œç›´æ¥æ‰§æ‰§è¡Œ "),e("a",En,[a("server/api.py"),s(n)]),a(" è„šæœ¬å¯åŠ¨ "),An,a(" æœåŠ¡ï¼›")]),yn,e("p",null,[a("æŒ‰ç…§ "),e("a",xn,[a("5.2 èŠ‚"),s(n)]),Ln,a("ï¼Œæ‰§è¡Œ "),e("a",Bn,[a("webui.py"),s(n)]),a(" å¯åŠ¨ "),Cn,a(" æœåŠ¡ï¼ˆé»˜è®¤ä½¿ç”¨ç«¯å£ "),In,a("ï¼‰")]),Dn,e("ul",null,[e("li",null,[Mn,e("figure",null,[e("a",wn,[Pn,s(n)]),Fn])]),e("li",null,[Tn,e("figure",null,[e("a",zn,[Un,s(n)]),qn])])]),Nn,e("p",null,[a("å‚è§ "),e("a",Wn,[a("å¸¸è§é—®é¢˜"),s(n)]),a("ã€‚")]),Gn,Rn,Sn,e("ul",null,[$n,Vn,Hn,e("li",null,[a("æ”¯æŒé€šè¿‡è°ƒç”¨ "),e("a",jn,[a("FastChat"),s(n)]),a(" api è°ƒç”¨ llm")]),On,Qn,Kn,Zn,Jn,Yn,Xn]),es,as,ns,ss,ts,ls,e("p",null,[a("å‚è€ƒï¼š"),e("a",is,[a("ä¸­æ–‡ç¾Šé©¼å¤§æ¨¡å‹Alpaca-Plus-13Bã€Alpaca-33Bæ•ˆæœå¤§æ¯”æ‹¼"),s(n)])]),os,e("ul",null,[e("li",null,[e("a",rs,[a("Guanaco, Llama, VicuÃ±a, Alpacaè¯¥æ€ä¹ˆåŒºåˆ«"),s(n)])]),e("li",null,[e("a",cs,[a("å¤§æ¨¡å‹å…¥é—¨ï¼ˆä¸€ï¼‰â€”â€” LLaMa/Alpaca/Vicuna"),s(n)])]),ps]),e("p",null,[a("Vicunaæ˜¯åœ¨LLaMa-13Bçš„åŸºç¡€ä¸Šä½¿ç”¨ç›‘ç£æ•°æ®å¾®è°ƒå¾—åˆ°çš„æ¨¡å‹ï¼Œæ•°æ®é›†æ¥è‡ªäºShareGPT.com äº§ç”Ÿçš„ç”¨æˆ·å¯¹è¯æ•°æ®ï¼Œå…±70Kæ¡ã€‚ä½¿ç”¨Pytorch FSDPåœ¨8å¼ A100ä¸Šè®­ç»ƒäº†ä¸€å¤©ã€‚ç›¸è¾ƒäºAlpacaï¼ŒVicunaåœ¨è®­ç»ƒä¸­å°†åºåˆ—é•¿åº¦ç”±512æ‰©å±•åˆ°äº†2048ï¼Œå¹¶ä¸”é€šè¿‡æ¢¯åº¦æ£€æµ‹å’Œflash attentionæ¥è§£å†³å†…å­˜é—®é¢˜ï¼›è°ƒæ•´è®­ç»ƒæŸå¤±è€ƒè™‘å¤šè½®å¯¹è¯ï¼Œå¹¶ä»…æ ¹æ®æ¨¡å‹çš„è¾“å‡ºè¿›è¡Œå¾®è°ƒã€‚é€šè¿‡GPT4æ¥æ‰“åˆ†è¯„æµ‹ï¼ŒVicunaå¯ä»¥è¾¾åˆ°ChatGPT 90%çš„æ•ˆæœã€‚å¹¶ä¸”è¿˜æä¾›äº†å¯è°ƒç”¨çš„åˆ†å¸ƒå¼èŠå¤©æœåŠ¡"),e("a",hs,[a("FastChat"),s(n)]),a("ã€‚")]),ds])}const vs=l(b,[["render",us],["__file","Langchain-Chatchat.html.vue"]]),fs=JSON.parse('{"path":"/MdNote_Public/01.%20%E8%AE%BE%E8%AE%A1%E5%BC%80%E5%8F%91%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%94%9F%E4%BA%A7/Develop/04.%20Project/Type/Artificial_Intelligence/%E5%AD%97%E5%85%B8%E5%9E%8B/10.%20%E5%B7%A5%E5%85%B7/Langchain-Chatchat.html","title":"Langchain-Chatchat","lang":"zh-CN","frontmatter":{"description":"Langchain-Chatchat ç›®å½• é¡¹ç›®æ–‡æ¡£ç›®å½• FAQ.md Install.md åœ¨Anacondaä¸­ä½¿ç”¨pipå®‰è£…åŒ…çš„é—®é¢˜.md å‘é‡åº“ç¯å¢ƒ docker.md å¯åŠ¨APIæœåŠ¡.md åœ¨Anacondaä¸­ä½¿ç”¨pipå®‰è£…åŒ…æ— æ•ˆé—®é¢˜.md é¡¹ç›®README å‚è€ƒï¼šhttps://github.com/chatchat-space/Langch...","head":[["meta",{"property":"og:url","content":"http://192.168.0.101:8080/MdNote_Public/01.%20%E8%AE%BE%E8%AE%A1%E5%BC%80%E5%8F%91%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%94%9F%E4%BA%A7/Develop/04.%20Project/Type/Artificial_Intelligence/%E5%AD%97%E5%85%B8%E5%9E%8B/10.%20%E5%B7%A5%E5%85%B7/Langchain-Chatchat.html"}],["meta",{"property":"og:site_name","content":"Linc çš„å°ç«™"}],["meta",{"property":"og:title","content":"Langchain-Chatchat"}],["meta",{"property":"og:description","content":"Langchain-Chatchat ç›®å½• é¡¹ç›®æ–‡æ¡£ç›®å½• FAQ.md Install.md åœ¨Anacondaä¸­ä½¿ç”¨pipå®‰è£…åŒ…çš„é—®é¢˜.md å‘é‡åº“ç¯å¢ƒ docker.md å¯åŠ¨APIæœåŠ¡.md åœ¨Anacondaä¸­ä½¿ç”¨pipå®‰è£…åŒ…æ— æ•ˆé—®é¢˜.md é¡¹ç›®README å‚è€ƒï¼šhttps://github.com/chatchat-space/Langch..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://github.com/chatchat-space/Langchain-Chatchat/raw/master/img/webui_0813_0.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:author","content":"LincZero"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Langchain-Chatchat\\",\\"image\\":[\\"https://github.com/chatchat-space/Langchain-Chatchat/raw/master/img/webui_0813_0.png\\",\\"https://github.com/chatchat-space/Langchain-Chatchat/raw/master/img/webui_0813_0.png\\",\\"https://github.com/chatchat-space/Langchain-Chatchat/raw/master/img/webui_0813_1.png\\"],\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"LincZero\\",\\"url\\":\\"https://github.com/LincZero/\\"}]}"]]},"headers":[{"level":1,"title":"Langchain-Chatchat","slug":"langchain-chatchat","link":"#langchain-chatchat","children":[]},{"level":1,"title":"ç›®å½•","slug":"ç›®å½•","link":"#ç›®å½•","children":[]},{"level":1,"title":"é¡¹ç›®README","slug":"é¡¹ç›®readme","link":"#é¡¹ç›®readme","children":[{"level":2,"title":"ä»‹ç»","slug":"ä»‹ç»","link":"#ä»‹ç»","children":[{"level":3,"title":"æ¨¡å‹æ”¯æŒ","slug":"æ¨¡å‹æ”¯æŒ","link":"#æ¨¡å‹æ”¯æŒ","children":[{"level":4,"title":"LLM æ¨¡å‹æ”¯æŒ","slug":"llm-æ¨¡å‹æ”¯æŒ","link":"#llm-æ¨¡å‹æ”¯æŒ","children":[]},{"level":4,"title":"Embedding æ¨¡å‹æ”¯æŒ","slug":"embedding-æ¨¡å‹æ”¯æŒ","link":"#embedding-æ¨¡å‹æ”¯æŒ","children":[]}]}]},{"level":2,"title":"Docker éƒ¨ç½²","slug":"docker-éƒ¨ç½²","link":"#docker-éƒ¨ç½²","children":[]},{"level":2,"title":"å¼€å‘éƒ¨ç½²","slug":"å¼€å‘éƒ¨ç½²","link":"#å¼€å‘éƒ¨ç½²","children":[{"level":3,"title":"ç¯å¢ƒå‡†å¤‡","slug":"ç¯å¢ƒå‡†å¤‡","link":"#ç¯å¢ƒå‡†å¤‡","children":[{"level":4,"title":"ç¯å¢ƒæ£€æŸ¥","slug":"ç¯å¢ƒæ£€æŸ¥","link":"#ç¯å¢ƒæ£€æŸ¥","children":[]},{"level":4,"title":"é¡¹ç›®ä¾èµ–","slug":"é¡¹ç›®ä¾èµ–","link":"#é¡¹ç›®ä¾èµ–","children":[]}]},{"level":3,"title":"æ¨¡å‹ä¸‹è½½ (LLM & Embedding)","slug":"æ¨¡å‹ä¸‹è½½-llm-embedding","link":"#æ¨¡å‹ä¸‹è½½-llm-embedding","children":[]},{"level":3,"title":"é…ç½®é€‰é¡¹","slug":"é…ç½®é€‰é¡¹","link":"#é…ç½®é€‰é¡¹","children":[]},{"level":3,"title":"çŸ¥è¯†åº“åˆå§‹åŒ–ä¸è¿ç§»","slug":"çŸ¥è¯†åº“åˆå§‹åŒ–ä¸è¿ç§»","link":"#çŸ¥è¯†åº“åˆå§‹åŒ–ä¸è¿ç§»","children":[]},{"level":3,"title":"ä¸€é”®å¯åŠ¨API æœåŠ¡æˆ– Web UI","slug":"ä¸€é”®å¯åŠ¨api-æœåŠ¡æˆ–-web-ui","link":"#ä¸€é”®å¯åŠ¨api-æœåŠ¡æˆ–-web-ui","children":[{"level":4,"title":"å¯åŠ¨å‘½ä»¤","slug":"å¯åŠ¨å‘½ä»¤","link":"#å¯åŠ¨å‘½ä»¤","children":[]},{"level":4,"title":"å¯åŠ¨éé»˜è®¤æ¨¡å‹","slug":"å¯åŠ¨éé»˜è®¤æ¨¡å‹","link":"#å¯åŠ¨éé»˜è®¤æ¨¡å‹","children":[]},{"level":4,"title":"å¤šå¡åŠ è½½","slug":"å¤šå¡åŠ è½½","link":"#å¤šå¡åŠ è½½","children":[]},{"level":4,"title":"PEFT åŠ è½½(åŒ…æ‹¬lora,p-tuning,prefix tuning, prompt tuning,ia3ç­‰)","slug":"peft-åŠ è½½-åŒ…æ‹¬lora-p-tuning-prefix-tuning-prompt-tuning-ia3ç­‰","link":"#peft-åŠ è½½-åŒ…æ‹¬lora-p-tuning-prefix-tuning-prompt-tuning-ia3ç­‰","children":[]},{"level":4,"title":"æ³¨æ„äº‹é¡¹","slug":"æ³¨æ„äº‹é¡¹","link":"#æ³¨æ„äº‹é¡¹","children":[]},{"level":4,"title":"å¯åŠ¨ç•Œé¢ç¤ºä¾‹","slug":"å¯åŠ¨ç•Œé¢ç¤ºä¾‹","link":"#å¯åŠ¨ç•Œé¢ç¤ºä¾‹","children":[]}]},{"level":3,"title":"åˆ†æ­¥å¯åŠ¨ API æœåŠ¡æˆ– Web UIï¼ˆä¸€é”®å¯åŠ¨å¿½ç•¥æœ¬èŠ‚ï¼‰","slug":"åˆ†æ­¥å¯åŠ¨-api-æœåŠ¡æˆ–-web-ui-ä¸€é”®å¯åŠ¨å¿½ç•¥æœ¬èŠ‚","link":"#åˆ†æ­¥å¯åŠ¨-api-æœåŠ¡æˆ–-web-ui-ä¸€é”®å¯åŠ¨å¿½ç•¥æœ¬èŠ‚","children":[{"level":4,"title":"å¯åŠ¨ LLM æœåŠ¡ (ä¸‰ç§æ–¹å¼)","slug":"å¯åŠ¨-llm-æœåŠ¡-ä¸‰ç§æ–¹å¼","link":"#å¯åŠ¨-llm-æœåŠ¡-ä¸‰ç§æ–¹å¼","children":[{"level":5,"title":"åŸºäºå¤šè¿›ç¨‹è„šæœ¬ llm_api.py å¯åŠ¨ LLM æœåŠ¡","slug":"åŸºäºå¤šè¿›ç¨‹è„šæœ¬-llm-api-py-å¯åŠ¨-llm-æœåŠ¡","link":"#åŸºäºå¤šè¿›ç¨‹è„šæœ¬-llm-api-py-å¯åŠ¨-llm-æœåŠ¡","children":[]},{"level":5,"title":"åŸºäºå‘½ä»¤è¡Œè„šæœ¬ llm_api_stale.py å¯åŠ¨ LLM æœåŠ¡","slug":"åŸºäºå‘½ä»¤è¡Œè„šæœ¬-llm-api-stale-py-å¯åŠ¨-llm-æœåŠ¡","link":"#åŸºäºå‘½ä»¤è¡Œè„šæœ¬-llm-api-stale-py-å¯åŠ¨-llm-æœåŠ¡","children":[]},{"level":5,"title":"PEFT åŠ è½½(åŒ…æ‹¬lora,p-tuning,prefix tuning, prompt tuning,ia3ç­‰)","slug":"peft-åŠ è½½-åŒ…æ‹¬lora-p-tuning-prefix-tuning-prompt-tuning-ia3ç­‰-1","link":"#peft-åŠ è½½-åŒ…æ‹¬lora-p-tuning-prefix-tuning-prompt-tuning-ia3ç­‰-1","children":[]}]},{"level":4,"title":"å¯åŠ¨ API æœåŠ¡","slug":"å¯åŠ¨-api-æœåŠ¡","link":"#å¯åŠ¨-api-æœåŠ¡","children":[]},{"level":4,"title":"å¯åŠ¨ Web UI æœåŠ¡","slug":"å¯åŠ¨-web-ui-æœåŠ¡","link":"#å¯åŠ¨-web-ui-æœåŠ¡","children":[]}]}]},{"level":2,"title":"å¸¸è§é—®é¢˜","slug":"å¸¸è§é—®é¢˜","link":"#å¸¸è§é—®é¢˜","children":[]},{"level":2,"title":"è·¯çº¿å›¾","slug":"è·¯çº¿å›¾","link":"#è·¯çº¿å›¾","children":[]},{"level":2,"title":"é¡¹ç›®äº¤æµç¾¤","slug":"é¡¹ç›®äº¤æµç¾¤","link":"#é¡¹ç›®äº¤æµç¾¤","children":[]}]},{"level":1,"title":"ä¸ªäººç¯å¢ƒå¤‡æ³¨","slug":"ä¸ªäººç¯å¢ƒå¤‡æ³¨","link":"#ä¸ªäººç¯å¢ƒå¤‡æ³¨","children":[{"level":2,"title":"LLMæ¨¡å‹æ›¿æ¢é—®é¢˜","slug":"llmæ¨¡å‹æ›¿æ¢é—®é¢˜","link":"#llmæ¨¡å‹æ›¿æ¢é—®é¢˜","children":[{"level":3,"title":"æ¢ç”¨æ›´å¤§å‚æ•°é‡çš„æ¨¡å‹","slug":"æ¢ç”¨æ›´å¤§å‚æ•°é‡çš„æ¨¡å‹","link":"#æ¢ç”¨æ›´å¤§å‚æ•°é‡çš„æ¨¡å‹","children":[]},{"level":3,"title":"åŒå‚æ•°é‡çš„æ¨¡å‹ã€é‡åŒ–oré«˜å‚æ•°é‡","slug":"åŒå‚æ•°é‡çš„æ¨¡å‹ã€é‡åŒ–oré«˜å‚æ•°é‡","link":"#åŒå‚æ•°é‡çš„æ¨¡å‹ã€é‡åŒ–oré«˜å‚æ•°é‡","children":[]},{"level":3,"title":"ç¾Šé©¼ç³»æ¨¡å‹","slug":"ç¾Šé©¼ç³»æ¨¡å‹","link":"#ç¾Šé©¼ç³»æ¨¡å‹","children":[]}]},{"level":2,"title":"bug1 æ— æ³•æ‰¾åˆ°æ˜¾å¡é©±åŠ¨","slug":"bug1-æ— æ³•æ‰¾åˆ°æ˜¾å¡é©±åŠ¨","link":"#bug1-æ— æ³•æ‰¾åˆ°æ˜¾å¡é©±åŠ¨","children":[]},{"level":2,"title":"bug2 å›ç­”ä¸ºç©º","slug":"bug2-å›ç­”ä¸ºç©º","link":"#bug2-å›ç­”ä¸ºç©º","children":[]},{"level":2,"title":"bug3 gité—®é¢˜","slug":"bug3-gité—®é¢˜","link":"#bug3-gité—®é¢˜","children":[]},{"level":2,"title":"bug4 æ‰¾ä¸åˆ°å­˜åœ¨çš„è·¯å¾„","slug":"bug4-æ‰¾ä¸åˆ°å­˜åœ¨çš„è·¯å¾„","link":"#bug4-æ‰¾ä¸åˆ°å­˜åœ¨çš„è·¯å¾„","children":[]},{"level":2,"title":"bug5 ä¸€ç›´å¡åœ¨ wait controller running","slug":"bug5-ä¸€ç›´å¡åœ¨-wait-controller-running","link":"#bug5-ä¸€ç›´å¡åœ¨-wait-controller-running","children":[]},{"level":2,"title":"bug6 çˆ†æ˜¾å­˜","slug":"bug6-çˆ†æ˜¾å­˜","link":"#bug6-çˆ†æ˜¾å­˜","children":[]}]}],"git":{"createdTime":null,"updatedTime":null,"contributors":[]},"readingTime":{"minutes":20.85,"words":6255},"filePathRelative":"MdNote_Public/01. è®¾è®¡å¼€å‘ä¸æ•°æ®ç”Ÿäº§/Develop/04. Project/Type/Artificial_Intelligence/å­—å…¸å‹/10. å·¥å…·/Langchain-Chatchat.md","autoDesc":true}');export{vs as comp,fs as data};
