import{_ as l}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as o,o as p,c,b as n,e as s,d as t,a}from"./app-CyJMR3JQ.js";const i={},r=a('<h1 id="_06-编程语言-缺陷篇" tabindex="-1"><a class="header-anchor" href="#_06-编程语言-缺陷篇"><span>06. 编程语言 - 缺陷篇</span></a></h1><h1 id="目录" tabindex="-1"><a class="header-anchor" href="#目录"><span>目录</span></a></h1><p>[toc]</p><h1 id="_0-1-0-2-0-30000000000000004" tabindex="-1"><a class="header-anchor" href="#_0-1-0-2-0-30000000000000004"><span>0.1+0.2 = 0.30000000000000004</span></a></h1><p>参考：https://www.runoob.com/manual/pythontutorial3/docs/html/floatingpoint.html</p>',5),u=a("<li><p>类似情况，相同原理的还有：</p><ul><li>运算结果为0.3时 <ul><li><code>3*0.1 = 0.30000000000000004 != 0.3</code></li></ul></li><li>浮点加减运算 <ul><li><code>50.25f + 11.17f = 61.419998</code></li><li><code>50.25f - 11.14f = 39.080002</code></li></ul></li></ul></li><li><p>普遍性</p><ul><li>所有语言都存在这种问题（亲测<code>python</code>、<code>javascript</code>存在）</li><li>但计算器一般不会这样（亲测<code>casio fx82</code>、<code>uTools计算稿纸</code> 、<code>微软计算器</code>、<code>安卓多多计算器</code>无该问题）</li></ul></li>",2),d=n("li",null,[n("p",null,"原理（以双浮点为例，小数点后面有效数字16位）"),n("ul",null,[n("li",null,"0.1 = 0.0001100110011001"),n("li",null,"0.2 = 0.0011001100110011"),n("li",null,"0.3 = 0.0100110011001100"),n("li",null,"0.1+0.2 = 0.0100110011001100 = 0.3"),n("li",null,[s("即："),n("span",{class:"katex"},[n("span",{class:"katex-mathml"},[n("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[n("semantics",null,[n("mrow",null,[n("mn",null,"0.3"),n("mo",null,"="),n("mn",null,"0.0100110011001100"),n("mo",{mathvariant:"normal"},"≠"),n("mn",null,"0.3")]),n("annotation",{encoding:"application/x-tex"},"0.3 = 0.0100110011001100\\neq 0.3")])])]),n("span",{class:"katex-html","aria-hidden":"true"},[n("span",{class:"base"},[n("span",{class:"strut",style:{height:"0.6444em"}}),n("span",{class:"mord"},"0.3"),n("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),n("span",{class:"mrel"},"="),n("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),n("span",{class:"base"},[n("span",{class:"strut",style:{height:"0.8889em","vertical-align":"-0.1944em"}}),n("span",{class:"mord"},"0.0100110011001100"),n("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),n("span",{class:"mrel"},[n("span",{class:"mrel"},[n("span",{class:"mord vbox"},[n("span",{class:"thinbox"},[n("span",{class:"rlap"},[n("span",{class:"strut",style:{height:"0.8889em","vertical-align":"-0.1944em"}}),n("span",{class:"inner"},[n("span",{class:"mord"},[n("span",{class:"mrel"},"")])]),n("span",{class:"fix"})])])])]),n("span",{class:"mrel"},"=")]),n("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),n("span",{class:"base"},[n("span",{class:"strut",style:{height:"0.6444em"}}),n("span",{class:"mord"},"0.3")])])])])])],-1),m=n("p",null,"解决方案",-1),h={href:"https://docs.python.org/3/library/stdtypes.html#float.as_integer_ratio",target:"_blank",rel:"noopener noreferrer"},g=a(`<div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> x <span class="token operator">=</span> <span class="token number">3.14159</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> x<span class="token punctuation">.</span>as_integer_ratio<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">3537115888337719</span><span class="token punctuation">,</span> <span class="token number">1125899906842624</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> x <span class="token operator">==</span> <span class="token number">3537115888337719</span> <span class="token operator">/</span> <span class="token number">1125899906842624</span>
<span class="token boolean">True</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1),k={href:"https://docs.python.org/3/library/stdtypes.html#float.hex",target:"_blank",rel:"noopener noreferrer"},_=a(`<div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> x<span class="token punctuation">.</span><span class="token builtin">hex</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token string">&#39;0x1.921f9f01b866ep+1&#39;</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> x <span class="token operator">==</span> <span class="token builtin">float</span><span class="token punctuation">.</span>fromhex<span class="token punctuation">(</span><span class="token string">&#39;0x1.921f9f01b866ep+1&#39;</span><span class="token punctuation">)</span>
<span class="token boolean">True</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1),b={href:"https://docs.python.org/3/library/math.html#math.fsum",target:"_blank",rel:"noopener noreferrer"},v=a(`<div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0.1</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1.0</span>
<span class="token boolean">False</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> math<span class="token punctuation">.</span>fsum<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0.1</span><span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1.0</span>
<span class="token boolean">True</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1),E=n("h1",{id:"手持两把锟斤拷-口中疾呼烫烫烫-脚踏千朵屯屯屯-笑看万物锘锘锘",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#手持两把锟斤拷-口中疾呼烫烫烫-脚踏千朵屯屯屯-笑看万物锘锘锘"},[n("span",null,"手持两把锟斤拷 口中疾呼烫烫烫 脚踏千朵屯屯屯 笑看万物锘锘锘")])],-1),y=n("ul",null,[n("li",null,"C语言")],-1);function f(B,x){const e=o("ExternalLinkIcon");return p(),c("div",null,[r,n("ul",null,[u,d,n("li",null,[m,n("ul",null,[n("li",null,[n("p",null,[s("比如Python中，"),n("a",h,[s("float.as_integer_ratio()"),t(e)]),s(" 方法以分数的形式表示一个浮点数的值：")]),g]),n("li",null,[n("p",null,[n("a",k,[s("float.hex()"),t(e)]),s(" 方法以十六进制表示浮点数，给出的同样是计算机存储的精确值：")]),_]),n("li",null,[n("p",null,[s("另外一个有用的工具是 "),n("a",b,[s("math.fsum()"),t(e)]),s(" 函数，它帮助求和过程中减少精度的损失。当数值在不停地相加的时候，它会跟踪“丢弃的数字”。这可以给总体的准确度带来不同，以至于错误不会累积到影响最终结果的点：")]),v])])])]),E,y])}const w=l(i,[["render",f],["__file","06. 编程语言 - 缺陷篇.html.vue"]]),C=JSON.parse('{"path":"/MdNote_Public/01.%20%E8%AE%BE%E8%AE%A1%E5%BC%80%E5%8F%91%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%94%9F%E4%BA%A7/Develop/01.%20Language/%E5%BD%92%E7%BA%B3%E6%80%BB%E7%BB%93/01.%20ALL/06.%20%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%20-%20%E7%BC%BA%E9%99%B7%E7%AF%87.html","title":"06. 编程语言 - 缺陷篇","lang":"zh-CN","frontmatter":{"description":"06. 编程语言 - 缺陷篇 目录 [toc] 0.1+0.2 = 0.30000000000000004 参考：https://www.runoob.com/manual/pythontutorial3/docs/html/floatingpoint.html 类似情况，相同原理的还有： 运算结果为0.3时 3*0.1 = 0.30000000000...","head":[["meta",{"property":"og:url","content":"http://192.168.0.101:8080/MdNote_Public/01.%20%E8%AE%BE%E8%AE%A1%E5%BC%80%E5%8F%91%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%94%9F%E4%BA%A7/Develop/01.%20Language/%E5%BD%92%E7%BA%B3%E6%80%BB%E7%BB%93/01.%20ALL/06.%20%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%20-%20%E7%BC%BA%E9%99%B7%E7%AF%87.html"}],["meta",{"property":"og:site_name","content":"Linc 的小站"}],["meta",{"property":"og:title","content":"06. 编程语言 - 缺陷篇"}],["meta",{"property":"og:description","content":"06. 编程语言 - 缺陷篇 目录 [toc] 0.1+0.2 = 0.30000000000000004 参考：https://www.runoob.com/manual/pythontutorial3/docs/html/floatingpoint.html 类似情况，相同原理的还有： 运算结果为0.3时 3*0.1 = 0.30000000000..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:author","content":"LincZero"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"06. 编程语言 - 缺陷篇\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"LincZero\\",\\"url\\":\\"https://github.com/LincZero/\\"}]}"]]},"headers":[{"level":1,"title":"06. 编程语言 - 缺陷篇","slug":"_06-编程语言-缺陷篇","link":"#_06-编程语言-缺陷篇","children":[]},{"level":1,"title":"目录","slug":"目录","link":"#目录","children":[]},{"level":1,"title":"0.1+0.2 = 0.30000000000000004","slug":"_0-1-0-2-0-30000000000000004","link":"#_0-1-0-2-0-30000000000000004","children":[]},{"level":1,"title":"手持两把锟斤拷 口中疾呼烫烫烫 脚踏千朵屯屯屯 笑看万物锘锘锘","slug":"手持两把锟斤拷-口中疾呼烫烫烫-脚踏千朵屯屯屯-笑看万物锘锘锘","link":"#手持两把锟斤拷-口中疾呼烫烫烫-脚踏千朵屯屯屯-笑看万物锘锘锘","children":[]}],"git":{"createdTime":null,"updatedTime":null,"contributors":[]},"readingTime":{"minutes":1.16,"words":347},"filePathRelative":"MdNote_Public/01. 设计开发与数据生产/Develop/01. Language/归纳总结/01. ALL/06. 编程语言 - 缺陷篇.md","autoDesc":true}');export{w as comp,C as data};
