import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as t,o as r,c as d,a as n,b as e,d as l,e as s}from"./app-Bytj5cc3.js";const o={},c=n("h1",{id:"wsl",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#wsl"},[n("span",null,"WSL")])],-1),p=n("p",null,"参考",-1),u=n("ul",null,[n("li",null,"https://learn.microsoft.com/zh-cn/windows/wsl/install（官网文档，建议看这篇）"),n("li",null,"https://blog.csdn.net/FSKEps/article/details/118493578#22__WSL2_59")],-1),h={href:"https://so.csdn.net/so/search?q=Ubuntu&spm=1001.2101.3001.7020",target:"_blank",rel:"noopener noreferrer"},m=s('<h2 id="wsl-简介" tabindex="-1"><a class="header-anchor" href="#wsl-简介"><span>WSL 简介</span></a></h2><p>什么是 WSL ？ 要想使用 Linux 系统，以前通常有两种方式：</p><ul><li>（1）使用虚拟机 <ul><li>缺点：开销较大</li></ul></li><li>（2）直接使用 Linux 系统 <ul><li>优点：可以带来最流畅的体验</li><li>缺点：与 Windows 系统之间进行切换时比较麻烦，一次只能使用一个系统</li></ul></li></ul><p>为此，微软开发了适用于 Linux 的 Windows 子系统，称为 WSL，可让开发人员按原样运行 GNU/Linux 环境 - 包括大多数命令行工具、实用工具和应用程序 - 且不会产生传统虚拟机或双启动设置开销。</p><p>简单点来说，有了 WSL，就可以在 Windows 系统中<strong>像运行软件一样运行 Linux 系统</strong>。</p><h2 id="比较wsl1与wsl2" tabindex="-1"><a class="header-anchor" href="#比较wsl1与wsl2"><span>比较WSL1与WSL2</span></a></h2>',6),b=n("div",{class:"ab-note drop-shadow"},[n("div",{class:"ab-deco-title"},[n("div",{class:"ab-deco-title-title","title-type":"none"},[n("p",null,"T 总结：除了跨操作系统文件的性能外，WSL2均优秀于WSL1")]),n("div",{class:"markdown-rendered ab-deco-title-content"},[n("div",null,[n("ul",null,[n("li",null,"功能| WSL1| WSL2"),n("li",null,"Windows和LInux之间的集成 | ✅ | ✅"),n("li",null,"启用时间短 | ✅ | ✅"),n("li",null,"与传统虚拟机相比，占用的资源量少 | ✅ | ✅"),n("li",null,"可以与当前版本的VMware和VirtualBox一起运行 | ✅ | ✅"),n("li",null,"托管VM | ❌ | ✅"),n("li",null,"完整的Linux内核 | ❌ | ✅"),n("li",null,"完全的系统调用兼容性 | ❌ | ✅"),n("li",null,"跨OS文件系统的性能 | ✅ | ❌")])])])])],-1),v=s(`<h2 id="安装wsl" tabindex="-1"><a class="header-anchor" href="#安装wsl"><span>安装WSL</span></a></h2><h3 id="安装wsl1" tabindex="-1"><a class="header-anchor" href="#安装wsl1"><span>安装WSL1</span></a></h3><h4 id="_1-启用-适用于-linux-的-windows-子系统-可选功能" tabindex="-1"><a class="header-anchor" href="#_1-启用-适用于-linux-的-windows-子系统-可选功能"><span>（1）启用“适用于 Linux 的 Windows 子系统”可选功能</span></a></h4><p>同样地，可以采用图形界面的操作方式，也可以采用命令行的方式。</p><h5 id="图形界面方式" tabindex="-1"><a class="header-anchor" href="#图形界面方式"><span>图形界面方式</span></a></h5><p>在之前的基础上，勾选【虚拟机平台】。</p><h5 id="命令行方式" tabindex="-1"><a class="header-anchor" href="#命令行方式"><span>命令行方式</span></a></h5><p>以管理员身份打开 PowerShell 并运行：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_2-重启电脑" tabindex="-1"><a class="header-anchor" href="#_2-重启电脑"><span>（2）重启电脑</span></a></h4><h4 id="_3-安装-linux-发行版-如-ubuntu" tabindex="-1"><a class="header-anchor" href="#_3-安装-linux-发行版-如-ubuntu"><span>（3）安装 Linux 发行版，如 Ubuntu</span></a></h4><p>在 Microsoft Store 中下载并安装需要的 Linux 发行版</p><blockquote><p>这里遇到了个个人bug：</p><p>微软商店Microsoft store打不开。“重试该操作 无法加载页面，请稍后重试”</p><p>解决方法：https://zhuanlan.zhihu.com/p/363202465的一楼</p><p>Internet选项 - 连接 - 局域网设置 勾选”自动检测设置“，并取消勾选其他选项</p></blockquote><h4 id="_4-启动-linux-子系统" tabindex="-1"><a class="header-anchor" href="#_4-启动-linux-子系统"><span>（4）启动 Linux 子系统</span></a></h4><p>至此，Linux 子系统就相当于 Windows 系统上安装的一个软件，可以在开始菜单子启动。</p><p>首次启动新安装的 Linux 分发版时，将打开一个控制台窗口，系统会要求你等待一分钟或两分钟，以便文件解压缩并存储到电脑上。 未来的所有启动时间应不到一秒。</p><p>然后，需要为新的 Linux 分发版创建用户帐户和密码。</p><h3 id="更新wsl2" tabindex="-1"><a class="header-anchor" href="#更新wsl2"><span>更新WSL2</span></a></h3><h4 id="_3-下载-linux-内核更新包" tabindex="-1"><a class="header-anchor" href="#_3-下载-linux-内核更新包"><span>（3）下载 Linux 内核更新包</span></a></h4>`,19),x={href:"https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi",target:"_blank",rel:"noopener noreferrer"},L=s(`<p>然后双击运行，安装</p><h4 id="_4-设置-wsl-版本" tabindex="-1"><a class="header-anchor" href="#_4-设置-wsl-版本"><span>（4）设置 WSL 版本</span></a></h4><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>PS C:<span class="token punctuation">\\</span>Users<span class="token punctuation">\\</span>user-name<span class="token operator">&gt;</span> wsl --set-version Ubuntu-20.04 <span class="token number">2</span>
正在进行转换，这可能需要几分钟时间<span class="token punctuation">..</span>.
有关与 WSL <span class="token number">2</span> 的主要区别的信息，请访问 https://aka.ms/wsl2
转换完成。

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>说明：</strong></p><ul><li><p>若要将分发版设置为受某一 WSL 版本支持，请运行：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>wsl --set-version <span class="token operator">&lt;</span>distribution name<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>versionNumber<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul><p>​ 请确保将 <code>&lt;distribution name&gt;</code> 替换为你的分发版的实际名称，并将 <code>&lt;versionNumber&gt;</code> 替换为数字“1”或“2”。 ​ 可以随时更改回 WSL 1，方法是运行与上面相同的命令，但将“2”替换为“1”。</p><ul><li><p>如果要使 WSL 2 成为你的默认体系结构，可以通过此命令执行该操作：</p><div class="language-c++ line-numbers-mode" data-ext="c++" data-title="c++"><pre class="language-c++"><code>wsl --set-default-version 2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>从 WSL 1 更新到 WSL 2 可能需要几分钟才能完成，具体取决于目标分发版的大小。如果--set-default-version 未列出，则表示你的 OS 不支持它，你需要更新到版本 1903（内部版本 18362）或更高版本。</p></li></ul><h2 id="使用-wsl" tabindex="-1"><a class="header-anchor" href="#使用-wsl"><span>使用 WSL</span></a></h2><h3 id="启动和退出-linux-子系统" tabindex="-1"><a class="header-anchor" href="#启动和退出-linux-子系统"><span>启动和退出 Linux 子系统</span></a></h3><p>进入 Linux 子系统有以下几种方式： （1）和正常软件一样启动，如在开始菜单中点击其图标、双击桌面快捷方式 （2）在 Windows 中打开一个终端，如 PowerShell，输入命令wsl （3）在终端中输入命令Linux 发行版名称.exe，如ubuntu20.04.exe</p><p>退出 Linux 子系统的方式： （1）直接关闭终端 （2）在终端中输入命令exit，此时退出了 WSL，然后输入命令 wsl -t Ubuntu-20.04，关闭 ubuntu 子系统。</p><h3 id="文件系统" tabindex="-1"><a class="header-anchor" href="#文件系统"><span>文件系统</span></a></h3><p>...</p><h3 id="换源" tabindex="-1"><a class="header-anchor" href="#换源"><span>换源</span></a></h3><h2 id="安装图形界面" tabindex="-1"><a class="header-anchor" href="#安装图形界面"><span>安装图形界面</span></a></h2><h3 id="xfce4-vcxsrv" tabindex="-1"><a class="header-anchor" href="#xfce4-vcxsrv"><span>Xfce4 + VcXsrv</span></a></h3><h3 id="gnome-vcxsrv" tabindex="-1"><a class="header-anchor" href="#gnome-vcxsrv"><span>Gnome + VcXsrv</span></a></h3><h2 id="常用命令" tabindex="-1"><a class="header-anchor" href="#常用命令"><span>常用命令</span></a></h2><p>（这里有个很烦的点，Windows版本不同，你的命令不一定支持的）</p><p>查看WSL版本，Windows命令行：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>$ wsl <span class="token parameter variable">-help</span> <span class="token comment"># 查看参数命令</span>

$ wsl <span class="token parameter variable">-l</span> <span class="token parameter variable">-v</span>
  NAME            STATE           VERSION
* Ubuntu-20.04    Stopped         <span class="token number">2</span>
 
$ wsl.exe <span class="token parameter variable">--list</span> <span class="token comment"># wsl -l</span>
适用于 Linux 的 Windows 子系统分发版:
Ubuntu-20.04 <span class="token punctuation">(</span>默认<span class="token punctuation">)</span>

$ wsl.exe <span class="token parameter variable">--distribution</span> Ubuntu-20.04 <span class="token comment"># wsl -d Ubuntu-20.04</span>
Welcome to Ubuntu <span class="token number">20.04</span>.6 LTS <span class="token punctuation">(</span>GNU/Linux <span class="token number">5.10</span>.16.3-microsoft-standard-WSL2 x86_64<span class="token punctuation">)</span>

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage

  System information as of Mon Jul <span class="token number">31</span> <span class="token number">21</span>:23:03 CST <span class="token number">2023</span>

  System load:  <span class="token number">0.0</span>                 Processes:             <span class="token number">96</span>
  Usage of /:   <span class="token number">14.5</span>% of <span class="token number">250</span>.98GB   Users logged in:       <span class="token number">0</span>
  Memory usage: <span class="token number">9</span>%                  IPv4 address <span class="token keyword">for</span> eth0: <span class="token number">172.28</span>.82.115
  Swap usage:   <span class="token number">0</span>%

  <span class="token operator">=</span><span class="token operator">&gt;</span> There is <span class="token number">1</span> zombie process.


Expanded Security Maintenance <span class="token keyword">for</span> Applications is not enabled.

<span class="token number">0</span> updates can be applied immediately.

Enable ESM Apps to receive additional future security updates.
See https://ubuntu.com/esm or run: <span class="token function">sudo</span> pro status



This message is shown once a day. To disable it please create the
/home/linczero/.hushlogin file.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,21);function w(S,g){const a=t("ExternalLinkIcon");return r(),d("div",null,[c,p,u,n("p",null,[e("Win10 系统安装 Linux 子系统教程(WSL2 + "),n("a",h,[e("Ubuntu"),l(a)]),e(" 20.04 + Gnome 桌面 ）")]),m,b,v,n("p",null,[e("下载最新包："),n("a",x,[e("适用于 x64 计算机的 WSL Linux 内核更新包"),l(a)])]),L])}const f=i(o,[["render",w],["__file","WSL.html.vue"]]),k=JSON.parse('{"path":"/MdNote_Public/01.%20%E8%AE%BE%E8%AE%A1%E5%BC%80%E5%8F%91%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%94%9F%E4%BA%A7/Virtual/%E8%99%9A%E6%8B%9F%E6%9C%BA/WSL/WSL.html","title":"WSL","lang":"zh-CN","frontmatter":{"description":"WSL 参考 https://learn.microsoft.com/zh-cn/windows/wsl/install（官网文档，建议看这篇） https://blog.csdn.net/FSKEps/article/details/118493578#22__WSL2_59 Win10 系统安装 Linux 子系统教程(WSL2 + Ubuntu ...","head":[["meta",{"property":"og:url","content":"http://192.168.0.101:8080/MdNote_Public/01.%20%E8%AE%BE%E8%AE%A1%E5%BC%80%E5%8F%91%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%94%9F%E4%BA%A7/Virtual/%E8%99%9A%E6%8B%9F%E6%9C%BA/WSL/WSL.html"}],["meta",{"property":"og:site_name","content":"Linc 的小站"}],["meta",{"property":"og:title","content":"WSL"}],["meta",{"property":"og:description","content":"WSL 参考 https://learn.microsoft.com/zh-cn/windows/wsl/install（官网文档，建议看这篇） https://blog.csdn.net/FSKEps/article/details/118493578#22__WSL2_59 Win10 系统安装 Linux 子系统教程(WSL2 + Ubuntu ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:author","content":"LincZero"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"WSL\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"LincZero\\",\\"url\\":\\"https://github.com/LincZero/\\"}]}"]]},"headers":[{"level":1,"title":"WSL","slug":"wsl","link":"#wsl","children":[{"level":2,"title":"WSL 简介","slug":"wsl-简介","link":"#wsl-简介","children":[]},{"level":2,"title":"比较WSL1与WSL2","slug":"比较wsl1与wsl2","link":"#比较wsl1与wsl2","children":[]}]}],"git":{"createdTime":null,"updatedTime":null,"contributors":[]},"readingTime":{"minutes":4.27,"words":1280},"filePathRelative":"MdNote_Public/01. 设计开发与数据生产/Virtual/虚拟机/WSL/WSL.md","autoDesc":true}');export{f as comp,k as data};
