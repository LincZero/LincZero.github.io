import{_ as a,c as s,b as i,a as l,e as n,d,o as r,r as o}from"./app-U5mPla4b.js";const c={};function m(u,e){const t=o("Mermaid");return r(),s("div",null,[e[5]||(e[5]=i('<h1 id="qt" tabindex="-1"><a class="header-anchor" href="#qt"><span>Qt</span></a></h1><h1 id="目录" tabindex="-1"><a class="header-anchor" href="#目录"><span>目录</span></a></h1><h1 id="qt5模型或视图结构" tabindex="-1"><a class="header-anchor" href="#qt5模型或视图结构"><span>Qt5模型或视图结构</span></a></h1><p>（参自《Qt5开发及实例》（第4版）第8章 - P214）</p><h2 id="mvc设计模式-与-interview" tabindex="-1"><a class="header-anchor" href="#mvc设计模式-与-interview"><span>MVC设计模式 与 InterView</span></a></h2><h3 id="mvc设计模式" tabindex="-1"><a class="header-anchor" href="#mvc设计模式"><span>MVC设计模式</span></a></h3><ul><li><p>简概：是起源于Smalltalk的一种与用户界面相关的设计模式，可以有效分离数据和用户界面（类似于Vue框架？）</p></li><li><p>构成：<code>MVC设计模式</code>包括三个元素</p><ul><li>表示数据的模型（<em>Model</em>）</li><li>表示用户界面的视图（<em>View</em>）</li><li>用户在界面上操作的控制器（<em>Controller</em>）</li></ul></li></ul><h3 id="模型-视图结构" tabindex="-1"><a class="header-anchor" href="#模型-视图结构"><span>模型/视图结构</span></a></h3>',8)),l("ul",null,[e[4]||(e[4]=i("<li><p>简概：与MVC设计模式类似，Qt引入了模型/视图结构用于完成数据与界面的分离，即<code>InterView框架</code></p></li><li><p>区别</p><ul><li>Qt的InterView框架把视图和控制器部件结合在一起，使得框架更加简洁</li><li>同时引入了代理，通过代理，能自定义数据条目的显示和编辑方式</li></ul></li><li><p>构成：<code>模型/视图结构</code>分为三个部分</p><ul><li>模型（<em>Model</em>）</li><li>视图（<em>View</em>）</li><li>代理（<em>Delegate</em>）</li></ul></li>",3)),l("li",null,[e[3]||(e[3]=l("p",null,"模型/视图结构与关系",-1)),l("ul",null,[e[1]||(e[1]=l("li",null,[l("p",null,"数据发生改变时，模型发出信号通知视图")],-1)),e[2]||(e[2]=l("li",null,[l("p",null,"用户对界面进行操作，视图发出信号")],-1)),l("li",null,[e[0]||(e[0]=l("p",null,"代理发出信号告知模型和视图编辑器目前的状态",-1)),n(t,{id:"mermaid-114",code:"eJxLL0osyFDwCeJ6NnXDs951urq6z1YsfDqvW1c3KDUltSgzL13haX/vy2Udurp2L5a3PZ29jwum4PmeaS/2TQTqSNR4snvx8wltmiBNeRBdQGGocgBDey/9"})])])])]),e[6]||(e[6]=i('<h2 id="简概" tabindex="-1"><a class="header-anchor" href="#简概"><span>简概</span></a></h2><h3 id="基本概念" tabindex="-1"><a class="header-anchor" href="#基本概念"><span>基本概念</span></a></h3><blockquote><h4 id="模型-model" tabindex="-1"><a class="header-anchor" href="#模型-model"><span>模型（<em>Model</em>）</span></a></h4></blockquote><p>InterView框架中所有模型都基于抽象基类<code>QAbstractItemModel</code></p><p>Inherited By: QAbstractListModel, QAbstractProxyModel, QAbstractTableModel, QConcatenateTablesProxyModel, QDirModel, QFileSystemModel, QStandardItemModel</p><p>继承树</p>',6)),n(t,{id:"mermaid-139",code:"eJxLL0osyFDwCeIqiA50TCouKUpMLvEsSc31zU9JzYnlKtDVtQsMKMqvqAQLaCCxNSGSME0+mcUlYHGg4NOO6S8Wrni2YuHTed26urpPlzUFBpcUZealwxWh6g1JTMpJhWkG6VywB1VzYU5gaWoRxF5UrQj3ANU+2b34+YQ2iNZnXXtfbFz4fONuiHqXzCKYqmfT2p/s3vZ0Us/z2eue7p36fFbL07UznjZB3QtR7paZkxpcWQwLCLiu55t3P989H1mlR2pOgXN+XklqHsRnGhgi0IAKLknMS0ksSoGHLhcAFa+nlA=="}),e[7]||(e[7]=l("blockquote",null,[l("h4",{id:"视图-view",tabindex:"-1"},[l("a",{class:"header-anchor",href:"#视图-view"},[l("span",null,[d("视图（"),l("em",null,"View"),d("）")])])])],-1)),e[8]||(e[8]=l("p",null,[d("InterView框架中所有视图都基于抽象基类"),l("code",null,"QAbstractItemView")],-1)),e[9]||(e[9]=l("p",null,"Inherited By：QColumnView, QHeaderView, QListView, QTableView, QTreeView",-1)),n(t,{id:"mermaid-151",code:"eJxLL0osyFAIceIqiA50TCouKUpMLvEsSc0Ny0wtj+Uq0NW1C3TOzynNzQMJWCfnJBYXKyCJKBSlpkBUeaQmpqQWgcQgfJ/M4hJkPTA+WAcnnAtSGpqXko+sFMbHohTEDs9MSU8t0dXTrUI2GyKqkJRTmgpxQEhiUk4qTB+Yg6kRrgZkFYogpnFFqQjTgGwshkFVoJgFVwkxqkrj6bp5L2e2Pt2+6fnu/qc9rc+61zzZ1fZs6oZnvevi45/NWP9sxcKn87r1Xyxvezp73/Pdy5917n86Z8WTHQ0vtm5/Pqvl+cbdmlDDqyBGcoF5LqlpIHsV0jJzcqyU0yzTdIBxmZ+daqVsbGwMZeuWZ6aUZFiZFFRYIzSBzIDqMktMMk8zJaARAFhp2YM="}),e[10]||(e[10]=i('<p>图例：红色表示<code>项目视图 Item Views(Model-Based)</code>，蓝色表示<code>项目控件 Item Widgets(Item-Based)</code></p><blockquote><h4 id="代理-delegate" tabindex="-1"><a class="header-anchor" href="#代理-delegate"><span>代理（<em>Delegate</em>）</span></a></h4></blockquote><p>InterView框架中所有代理都基于抽象类<code>QAbstractItemDelegate</code></p><p>Inherited By：QItemDelegate、QStyledItemDelegate</p>',4)),n(t,{id:"mermaid-166",code:"eJxLL0osyFAIceIqiA50TCouKUpMLvEsSc11Sc1JTU8sSY3lKtDVtQtEFgLxgwtzglJzEksy8/MScxASui8Wrni+ZNezqRue9a57umvykx1rn7Zufr5595Pdi59PaIOYFVxSmZOagmwiFwBKzTp3"}),e[11]||(e[11]=i(`<blockquote><h4 id="实例" tabindex="-1"><a class="header-anchor" href="#实例"><span>实例</span></a></h4></blockquote><p>QStandardItemModel、QDirModel、QStringListModel、QColumnView、QHeaderView、QListView、QTableView、QTreeView</p><div class="language-c++ line-numbers-mode" data-ext="c++" data-title="c++"><pre class="language-c++"><code>#include &quot;mainwindow.h&quot;
#include &lt;QApplication&gt;
#include &lt;QAbstractItemModel&gt;
#include &lt;QAbstractItemView&gt;
#include &lt;QItemSelectionModel&gt;
#include &lt;QDirModel&gt;
#include &lt;QTreeView&gt;
#include &lt;QListView&gt;
#include &lt;QTableView&gt;
#include &lt;QSplitter&gt;
int main(int argc, char *argv[])
{
    QApplication a(argc, argv);
    QDirModel model;											// 新建一个QDirModel对象，还可以设置过滤器
    // QDirModel类继承自QAbstractItemModel类，为访问本地文件系统提供数据模型提供新建、删除、创建目录等一系列与文件操作相关的函数
    
    /* 新建三种不同的View对象，以便文件目录可以以三种不同的方式显示 */
    QTreeView tree;
    QListView list;
    QTableView table;

    /* 设置视图/模型 */
    tree.setModel(&amp;model);										// 设置View对象的Model
    list.setModel(&amp;model);
    table.setModel(&amp;model);

    /* 设置视图的选择方式 */
    tree.setSelectionMode(QAbstractItemView::MultiSelection);	// 调用setModel(QAbstracItemView::MultiSelection)设置
    list.setSelectionModel(tree.selectionModel());				// 设置QListView对象与QTreeView对象使用相同的选择模型
    table.setSelectionModel(tree.selectionModel());				// 设置TableView对象与QTreeView对象使用相同的选择模型
    /* QTreeView对象的选择方式为多选，提供了五种选择模式。媒体值：
    - QAbstractItemView::SingleSelection
    - QAbstractItemView::ContiguousSelection
    - QAbstractItemView::ExtendedSelection
    - QAbstractItemView::MultiSelection
    - QAbstractItemView::NoSelection

    /* 信号和槽 */
    QObject::connect(&amp;tree,SIGNAL(doubleClicked(QModelIndex)),&amp;list,
                           SLOT(setRootIndex(QModelIndex)));
    QObject::connect(&amp;tree,SIGNAL(doubleClicked(QModelIndex)),&amp;table,
                           SLOT(setRootIndex(QModelIndex)));
    // 为实现双击QTreeView对象的某个目录时，QLestView对象和QTableView对象中显示此选定目录下的所有文件和目录

    /* 布局 */
    QSplitter *splitter = new QSplitter;
    splitter-&gt;addWidget(&amp;tree);
    splitter-&gt;addWidget(&amp;list);
    splitter-&gt;addWidget(&amp;table);
    splitter-&gt;setWindowTitle(QObject::tr(&quot;Model/View&quot;));
    splitter-&gt;show();

    //MainWindow w;
    //w.show();

    return a.exec();
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="模型-model-1" tabindex="-1"><a class="header-anchor" href="#模型-model-1"><span>模型（<em>Model</em>）</span></a></h2><p>自定义模型：可以通过继承<code>QAbstractItemModel</code>或<code>QAbstractListModel</code>和<code>QAbstractTableModel</code>实现</p><h2 id="视图-view-1" tabindex="-1"><a class="header-anchor" href="#视图-view-1"><span>视图（<em>View</em>）</span></a></h2><h2 id="代理-delegate-1" tabindex="-1"><a class="header-anchor" href="#代理-delegate-1"><span>代理（<em>Delegate</em>）</span></a></h2>`,7))])}const p=a(c,[["render",m],["__file","03. Qt5模型或视图结构.html.vue"]]),b=JSON.parse('{"path":"/MdNote_Public/01.%20DesignAndDevelop/Develop/04.%20Project/Platform/Multi/QT%EF%BC%88Cpp%EF%BC%89/02.%20QtGUI%E7%B1%BB/01.%20Widget/02.%20%E6%8E%A7%E4%BB%B6%E7%B1%BB/03.%20Qt5%E6%A8%A1%E5%9E%8B%E6%88%96%E8%A7%86%E5%9B%BE%E7%BB%93%E6%9E%84.html","title":"Qt","lang":"zh-CN","frontmatter":{"description":"Qt 目录 Qt5模型或视图结构 （参自《Qt5开发及实例》（第4版）第8章 - P214） MVC设计模式 与 InterView MVC设计模式 简概：是起源于Smalltalk的一种与用户界面相关的设计模式，可以有效分离数据和用户界面（类似于Vue框架？） 构成：MVC设计模式包括三个元素 表示数据的模型（Model） 表示用户界面的视图（Vie...","head":[["meta",{"property":"og:url","content":"http://192.168.0.101:8080/MdNote_Public/01.%20DesignAndDevelop/Develop/04.%20Project/Platform/Multi/QT%EF%BC%88Cpp%EF%BC%89/02.%20QtGUI%E7%B1%BB/01.%20Widget/02.%20%E6%8E%A7%E4%BB%B6%E7%B1%BB/03.%20Qt5%E6%A8%A1%E5%9E%8B%E6%88%96%E8%A7%86%E5%9B%BE%E7%BB%93%E6%9E%84.html"}],["meta",{"property":"og:site_name","content":"Linc 的小站"}],["meta",{"property":"og:title","content":"Qt"}],["meta",{"property":"og:description","content":"Qt 目录 Qt5模型或视图结构 （参自《Qt5开发及实例》（第4版）第8章 - P214） MVC设计模式 与 InterView MVC设计模式 简概：是起源于Smalltalk的一种与用户界面相关的设计模式，可以有效分离数据和用户界面（类似于Vue框架？） 构成：MVC设计模式包括三个元素 表示数据的模型（Model） 表示用户界面的视图（Vie..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:author","content":"LincZero"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Qt\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"LincZero\\",\\"url\\":\\"https://github.com/LincZero/\\"}]}"]]},"headers":[{"level":1,"title":"Qt","slug":"qt","link":"#qt","children":[]},{"level":1,"title":"目录","slug":"目录","link":"#目录","children":[]},{"level":1,"title":"Qt5模型或视图结构","slug":"qt5模型或视图结构","link":"#qt5模型或视图结构","children":[{"level":2,"title":"MVC设计模式 与 InterView","slug":"mvc设计模式-与-interview","link":"#mvc设计模式-与-interview","children":[{"level":3,"title":"MVC设计模式","slug":"mvc设计模式","link":"#mvc设计模式","children":[]},{"level":3,"title":"模型/视图结构","slug":"模型-视图结构","link":"#模型-视图结构","children":[]}]},{"level":2,"title":"简概","slug":"简概","link":"#简概","children":[{"level":3,"title":"基本概念","slug":"基本概念","link":"#基本概念","children":[]}]},{"level":2,"title":"模型（Model）","slug":"模型-model-1","link":"#模型-model-1","children":[]},{"level":2,"title":"视图（View）","slug":"视图-view-1","link":"#视图-view-1","children":[]},{"level":2,"title":"代理（Delegate）","slug":"代理-delegate-1","link":"#代理-delegate-1","children":[]}]}],"git":{"createdTime":null,"updatedTime":null,"contributors":[]},"readingTime":{"minutes":3.34,"words":1001},"filePathRelative":"MdNote_Public/01. DesignAndDevelop/Develop/04. Project/Platform/Multi/QT（Cpp）/02. QtGUI类/01. Widget/02. 控件类/03. Qt5模型或视图结构.md","excerpt":"\\n<h1>目录</h1>\\n<h1>Qt5模型或视图结构</h1>\\n<p>（参自《Qt5开发及实例》（第4版）第8章 - P214）</p>\\n<h2>MVC设计模式 与 InterView</h2>\\n<h3>MVC设计模式</h3>\\n<ul>\\n<li>\\n<p>简概：是起源于Smalltalk的一种与用户界面相关的设计模式，可以有效分离数据和用户界面（类似于Vue框架？）</p>\\n</li>\\n<li>\\n<p>构成：<code>MVC设计模式</code>包括三个元素</p>\\n<ul>\\n<li>表示数据的模型（<em>Model</em>）</li>\\n<li>表示用户界面的视图（<em>View</em>）</li>\\n<li>用户在界面上操作的控制器（<em>Controller</em>）</li>\\n</ul>\\n</li>\\n</ul>","autoDesc":true}');export{p as comp,b as data};
