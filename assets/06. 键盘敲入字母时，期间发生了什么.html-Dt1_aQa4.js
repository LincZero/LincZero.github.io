import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as E,c as t,a as l}from"./app-5ajJQ-aM.js";const o={},i=l('<h1 id="键盘敲入a字母时-操作系统期间发生了什么" tabindex="-1"><a class="header-anchor" href="#键盘敲入a字母时-操作系统期间发生了什么"><span>键盘敲入A字母时，操作系统期间发生了什么</span></a></h1><h2 id="先引知识" tabindex="-1"><a class="header-anchor" href="#先引知识"><span>先引知识</span></a></h2><p>键盘可以说是我们最常使用的输入硬件设备了，但身为程序员的你，你知道「<strong>键盘敲入A 字母时，操作系统期间发生了什么吗</strong>」？</p><p>那要想知道这个发生的过程，我们得 <em>先了解了解「操作系统是如何管理多种多样的的输入输出设备」</em> 的，等了解完这个后，我们再来看看这个问题，你就会发现问题已经被迎刃而解了。</p><h2 id="硬件架构图、三条总线" tabindex="-1"><a class="header-anchor" href="#硬件架构图、三条总线"><span>硬件架构图、三条总线</span></a></h2><p>（现在我默认你看完了该笔记文件所在文件夹的其他笔记，我们再回来看这这问题）</p><p>看完前面的内容，相信你对输入输出设备的管理有了一定的认识，那接下来就从操作系统的角度回答开头的问题「键盘敲入字母时，操作系统期间发生了什么？」</p><p>我们先来看看 CPU 的硬件架构图：</p><p>![CPU 的硬件架构图](06.%20键盘敲入字母时，期间发生了什么.assets/CPU 硬件总线图.png)</p><p>CPU 里面的内存接口，直接和系统总线通信，然后系统总线再接入一个 I/O 桥接器，这个 I/O 桥接器，另一边接入了内存总线，使得 CPU 和内存通信。再另一边，又接入了一个 I/O 总线，用来连接 I/O 设备，比如键盘、显示器等。</p><h2 id="完整工作流程" tabindex="-1"><a class="header-anchor" href="#完整工作流程"><span>完整工作流程</span></a></h2><ol><li><p>键盘控制器工作，并通过中断信号 Call CPU</p><ol><li>那当用户输入了键盘字符，<strong>键盘控制器</strong> 就会产生扫描码数据，并将其缓冲在键盘控制器的寄存器中</li><li>紧接着键盘控制器通过总线给 CPU 发送 <strong>中断请求</strong></li></ol></li><li><p>CPU调用中断处理程序</p><ul><li>CPU 收到中断请求后，操作系统会 <strong>保存被中断进程的 CPU 上下文</strong>，然后调用键盘的 <strong>中断处理程序</strong>。</li><li>其中中断处理程序的工作：（键盘的中断处理程序是在键盘驱动程序<strong>初始化时注册</strong>的） <ol><li><strong>从键盘控制器的寄存器的缓冲区读取扫描码</strong>，再根据扫描码找到用户在键盘输入的字符；</li><li>如果输入的字符是显示字符，那就会把扫描码翻译成对应显示字符的 ASCII 码。比如用户在键盘输入的是字母 A，是显示字符，于是就会把扫描码翻译成 A 字符的 ASCII 码。</li><li>得到了显示字符的 ASCII 码后，就会把 ASCII 码放到「读缓冲区队列」，接下来就是要把显示字符显示屏幕了</li></ol></li></ul></li><li><p>显示设备驱动定时工作</p><ol><li>显示设备的驱动程序会定时从「读缓冲区队列」读取数据放到「写缓冲区队列」</li><li>最后把「写缓冲区队列」的数据一个一个写入到显示设备的控制器的寄存器中的数据缓冲区，最后将这些数据显示在屏幕里。</li></ol></li><li><p>恢复</p><ul><li><p>显示出结果后，恢复被中断进程的上下文</p><p>（这里没解释清楚，而且感觉有问题。CPU将ASCII放到读缓冲队列的时候，中断程序处理完后就可以开始恢复了吧，而不是这里说的 “显示出结果” 后。而且这里说显示设备的调用是定时工作……）</p></li></ul></li></ol>',12),n=[i];function r(a,B){return E(),t("div",null,n)}const s=e(o,[["render",r],["__file","06. 键盘敲入字母时，期间发生了什么.html.vue"]]),c=JSON.parse('{"path":"/MdNote_Public/01.%20%E8%AE%BE%E8%AE%A1%E5%BC%80%E5%8F%91%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%94%9F%E4%BA%A7/Develop/02.%20Theory/Computer/03.%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%20-%20%E7%BA%BF%E6%80%A7%E5%AD%A6%E4%B9%A0%E7%89%88/%E3%80%8A%E5%B0%8F%E6%9E%97coding_%E5%9B%BE%E8%A7%A3%E7%B3%BB%E5%88%97%E3%80%8B/01.%20%E5%9B%BE%E8%A7%A3%E7%B3%BB%E7%BB%9F/08.%20%E8%AE%BE%E5%A4%87%E7%AE%A1%E7%90%86/06.%20%E9%94%AE%E7%9B%98%E6%95%B2%E5%85%A5%E5%AD%97%E6%AF%8D%E6%97%B6%EF%BC%8C%E6%9C%9F%E9%97%B4%E5%8F%91%E7%94%9F%E4%BA%86%E4%BB%80%E4%B9%88.html","title":"键盘敲入A字母时，操作系统期间发生了什么","lang":"zh-CN","frontmatter":{"description":"键盘敲入A字母时，操作系统期间发生了什么 先引知识 键盘可以说是我们最常使用的输入硬件设备了，但身为程序员的你，你知道「键盘敲入A 字母时，操作系统期间发生了什么吗」？ 那要想知道这个发生的过程，我们得 先了解了解「操作系统是如何管理多种多样的的输入输出设备」 的，等了解完这个后，我们再来看看这个问题，你就会发现问题已经被迎刃而解了。 硬件架构图、三条...","head":[["meta",{"property":"og:url","content":"http://192.168.0.101:8080/MdNote_Public/01.%20%E8%AE%BE%E8%AE%A1%E5%BC%80%E5%8F%91%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%94%9F%E4%BA%A7/Develop/02.%20Theory/Computer/03.%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%20-%20%E7%BA%BF%E6%80%A7%E5%AD%A6%E4%B9%A0%E7%89%88/%E3%80%8A%E5%B0%8F%E6%9E%97coding_%E5%9B%BE%E8%A7%A3%E7%B3%BB%E5%88%97%E3%80%8B/01.%20%E5%9B%BE%E8%A7%A3%E7%B3%BB%E7%BB%9F/08.%20%E8%AE%BE%E5%A4%87%E7%AE%A1%E7%90%86/06.%20%E9%94%AE%E7%9B%98%E6%95%B2%E5%85%A5%E5%AD%97%E6%AF%8D%E6%97%B6%EF%BC%8C%E6%9C%9F%E9%97%B4%E5%8F%91%E7%94%9F%E4%BA%86%E4%BB%80%E4%B9%88.html"}],["meta",{"property":"og:site_name","content":"Linc 的小站"}],["meta",{"property":"og:title","content":"键盘敲入A字母时，操作系统期间发生了什么"}],["meta",{"property":"og:description","content":"键盘敲入A字母时，操作系统期间发生了什么 先引知识 键盘可以说是我们最常使用的输入硬件设备了，但身为程序员的你，你知道「键盘敲入A 字母时，操作系统期间发生了什么吗」？ 那要想知道这个发生的过程，我们得 先了解了解「操作系统是如何管理多种多样的的输入输出设备」 的，等了解完这个后，我们再来看看这个问题，你就会发现问题已经被迎刃而解了。 硬件架构图、三条..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:author","content":"LincZero"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"键盘敲入A字母时，操作系统期间发生了什么\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"LincZero\\",\\"url\\":\\"https://github.com/LincZero/\\"}]}"]]},"headers":[{"level":1,"title":"键盘敲入A字母时，操作系统期间发生了什么","slug":"键盘敲入a字母时-操作系统期间发生了什么","link":"#键盘敲入a字母时-操作系统期间发生了什么","children":[{"level":2,"title":"先引知识","slug":"先引知识","link":"#先引知识","children":[]},{"level":2,"title":"硬件架构图、三条总线","slug":"硬件架构图、三条总线","link":"#硬件架构图、三条总线","children":[]},{"level":2,"title":"完整工作流程","slug":"完整工作流程","link":"#完整工作流程","children":[]}]}],"git":{"createdTime":null,"updatedTime":null,"contributors":[]},"readingTime":{"minutes":2.96,"words":888},"filePathRelative":"MdNote_Public/01. 设计开发与数据生产/Develop/02. Theory/Computer/03. 计算机系统 - 线性学习版/《小林coding_图解系列》/01. 图解系统/08. 设备管理/06. 键盘敲入字母时，期间发生了什么.md","autoDesc":true}');export{s as comp,c as data};
