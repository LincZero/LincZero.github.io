import{_ as i,c as l,d as t,e as o,a,b as s,o as r,r as d}from"./app-Ci64BYEV.js";const m="/assets/model_merging_basic-CWah1xXj.png",p="/assets/model_merging_3_checkpoints-YnaUd_-G.png",h="/assets/model_merging_lora-Dft1-Cai.png",g="/assets/model_merging_inpaint-QfoEFMqA.png",c="/assets/model_merging_cosxl-DoBqK774.png",u={},f={href:"https://github.com/comfyanonymous/ComfyUI",target:"_blank",rel:"noopener noreferrer"},x={href:"https://huggingface.co/stabilityai/cosxl",target:"_blank",rel:"noopener noreferrer"},y={href:"https://huggingface.co/stabilityai/stable-diffusion-xl-base-1.0/blob/main/sd_xl_base_1.0_0.9vae.safetensors",target:"_blank",rel:"noopener noreferrer"},w={href:"https://civitai.com/models/140737/albedobase-xl",target:"_blank",rel:"noopener noreferrer"};function b(k,e){const n=d("ExternalLinkIcon");return r(),l("div",null,[e[10]||(e[10]=t("h1",{id:"model-merging-examples",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#model-merging-examples"},[t("span",null,"Model Merging Examples")])],-1)),e[11]||(e[11]=t("p",null,"The idea behind these workflows is that you can do complex workflows with multiple model merges, test them and then save the checkpoint by unmuting the CheckpointSave node once you are happy with the results. By default the CheckpointSave node saves checkpoints to the output/checkpoints/ folder.",-1)),e[12]||(e[12]=t("p",null,"You can find these nodes in: advanced->model_merging",-1)),e[13]||(e[13]=t("p",null,"This first example is a basic example of a simple merge between two different checkpoints.",-1)),t("p",null,[e[1]||(e[1]=o("You can Load these images in ")),t("a",f,[e[0]||(e[0]=o("ComfyUI")),a(n)]),e[2]||(e[2]=o(" to get the full workflow."))]),e[14]||(e[14]=s('<p><img src="'+m+'" alt="Example" loading="lazy"></p><p>In ComfyUI the saved checkpoints contain the full workflow used to generate them so they can be loaded in the UI just like images to get the full workflow that was used to create them.</p><p>This example is an example of merging 3 different checkpoints using simple block merging where the input, middle and output blocks of the unet can have a different ratio:</p><p><img src="'+p+'" alt="Example" loading="lazy"></p><p>Since Loras are a patch on the model weights they can also be merged into the model:</p><p><img src="'+h+'" alt="Example" loading="lazy"></p><p>You can also subtract models weights and add them like in this example used to create an inpaint model from a non inpaint model with the formula: <code>(inpaint_model - base_model) * 1.0 + other_model</code> If you are familiar with the &quot;Add Difference&quot; option in other UIs this is how to do it in ComfyUI.</p><p><img src="'+g+'" alt="Example" loading="lazy"></p><p>One important thing you should note is that models are merged and saved in the precision that is used for inference on your hardware so usually it will be 16 bit float. If you want do do merges in 32 bit float launch ComfyUI with: --force-fp32</p><h3 id="advanced-merging" tabindex="-1"><a class="header-anchor" href="#advanced-merging"><span>Advanced Merging</span></a></h3><h4 id="cosxl" tabindex="-1"><a class="header-anchor" href="#cosxl"><span>CosXL</span></a></h4>',11)),t("p",null,[e[6]||(e[6]=o("Here is an example of how to create a CosXL model from a regular SDXL model with merging. The requirements are the ")),t("a",x,[e[3]||(e[3]=o("CosXL base model")),a(n)]),e[7]||(e[7]=o(", the ")),t("a",y,[e[4]||(e[4]=o("SDXL base model")),a(n)]),e[8]||(e[8]=o(" and the SDXL model you want to convert. In this example I used ")),t("a",w,[e[5]||(e[5]=o("albedobase-xl")),a(n)]),e[9]||(e[9]=o("."))]),e[15]||(e[15]=t("p",null,[t("img",{src:c,alt:"Example",loading:"lazy"})],-1))])}const v=i(u,[["render",b],["__file","index.html.vue"]]),C=JSON.parse('{"path":"/MdNote_Other/ComfyUI_examples/model_merging/","title":"Model Merging Examples","lang":"zh-CN","frontmatter":{"description":"Model Merging Examples The idea behind these workflows is that you can do complex workflows with multiple model merges, test them and then save the checkpoint by unmuting the Ch...","head":[["meta",{"property":"og:url","content":"http://192.168.0.101:8080/MdNote_Other/ComfyUI_examples/model_merging/"}],["meta",{"property":"og:site_name","content":"Linc 的小站"}],["meta",{"property":"og:title","content":"Model Merging Examples"}],["meta",{"property":"og:description","content":"Model Merging Examples The idea behind these workflows is that you can do complex workflows with multiple model merges, test them and then save the checkpoint by unmuting the Ch..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:author","content":"LincZero"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Model Merging Examples\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"LincZero\\",\\"url\\":\\"https://github.com/LincZero/\\"}]}"]]},"headers":[{"level":1,"title":"Model Merging Examples","slug":"model-merging-examples","link":"#model-merging-examples","children":[{"level":3,"title":"Advanced Merging","slug":"advanced-merging","link":"#advanced-merging","children":[{"level":4,"title":"CosXL","slug":"cosxl","link":"#cosxl","children":[]}]}]}],"git":{"createdTime":null,"updatedTime":null,"contributors":[]},"readingTime":{"minutes":1.11,"words":334},"filePathRelative":"MdNote_Other/ComfyUI_examples/model_merging/README.md","excerpt":"\\n<p>The idea behind these workflows is that you can do complex workflows with multiple model merges, test them and then save the checkpoint by unmuting the CheckpointSave node once you are happy with the results. By default the CheckpointSave node saves checkpoints to the output/checkpoints/ folder.</p>","autoDesc":true}');export{v as comp,C as data};
