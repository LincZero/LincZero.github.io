import{_ as n}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as a,c as s,a as t}from"./app-CyJMR3JQ.js";const e={},p=t(`<h1 id="javascript" tabindex="-1"><a class="header-anchor" href="#javascript"><span>JavaScript</span></a></h1><h1 id="目录" tabindex="-1"><a class="header-anchor" href="#目录"><span>目录</span></a></h1><h1 id="对象和类" tabindex="-1"><a class="header-anchor" href="#对象和类"><span>对象和类</span></a></h1><h2 id="基于类-vs-基于对象" tabindex="-1"><a class="header-anchor" href="#基于类-vs-基于对象"><span>基于类 vs 基于对象</span></a></h2><p>对于C++程序员，JavaScript最难的就是它的<code>对象模型</code></p><ul><li>基于对象的面向对象语言（<em>object-based</em>）：JavaScript</li><li>基于 类 的面向对象语言：C++、C#、Java、Simula、Smalltalk</li></ul><hr><p>基于对象的面向对象语言，一些<strong>具体体现</strong></p><ul><li>对象本质上是一个属性集，属性随时可以被添加、删除、修改</li><li>对于C++和Java开发者来说，一个普遍的错误就是在访问对象属性时忘记使用this关键字</li><li>typeof 与 instanceof <ul><li><code>var shape = new Shape(10,20);</code>中，如果在shape变量使用<code>typeof操作符</code>，则数据类型是Object而不是Shape</li><li>如果想确定Shape构造函数是否创建了对象，可以使用<code>instanceof操作符</code>：<code>shape instanceof Shape;</code>返回true</li></ul></li><li>允许任何函数作为构造函数，构造函数也可以作为普通函数得到调用</li><li>ECMAScript中，函数被看作一等公民（Python也是，C/C++或Java不是）</li><li>对象实例与备份 <ul><li>JavaScript <ul><li>创建对象时每个实例都保存属性集（包括数据和函数的全部属性）的一个备份</li><li>但应用中对于里面的一些像函数的属性，往往只需要保存一次而不是保存在每个实例中</li><li>这时可以用<code>原型法</code>来达到这个目的：<code>Shape.prototype.manhattanPos = function(){...}</code></li><li>原型（<em>prototype</em>）的使用详见 “原型与原型链” 一章</li></ul></li><li>C++（函数不是一等公民） <ul><li>类的<strong>函数</strong>实现（.cpp）整个程序只保存一份</li><li>类的头文件（.h）保存在每个调用的cpp文件中</li><li>头文件定义的<strong>成员变量</strong>数据保存在每个实例中</li><li>头文件定义的<strong>静态成员变量</strong>整个程序只保存一份（枚举也是）</li></ul></li><li>注意项 <ul><li>这种区别，与函数在JavaScript中是【一等公民】而在C++中不是有关（C++中函数与数据被 “分别对待”）</li><li>js中原型法对只读属性（包括成员函数）有用，然而不能给共享变量赋新值，取而代之的是可以创建一个新的同名变量以覆盖原型中的原有属性</li></ul></li></ul></li><li>继承 <ul><li>基于类中可以使用类继承</li><li>ECMAScript基于对象中可以使用原型链达到类似的效果</li><li>可以使用instanceof操作遍历原型链，以判断哪个构造函数被调用了</li></ul></li></ul><p>举例（配合上面的具体体现来看）</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Shape</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span><span class="token punctuation">{</span>	<span class="token comment">// 构造函数</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x
    <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">manhattanPos</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token punctuation">)</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">translate</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">dx<span class="token punctuation">,</span> dy</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">+=</span> dx
        <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">+=</span> dy
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> shape <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Shape</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>
shape<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">print</span><span class="token punctuation">(</span>shape<span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span> <span class="token operator">+</span> shape<span class="token punctuation">.</span>y <span class="token operator">+</span> <span class="token string">&quot;(&quot;</span> <span class="token operator">+</span> shape<span class="token punctuation">.</span><span class="token function">manhattanPos</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="对象与类" tabindex="-1"><a class="header-anchor" href="#对象与类"><span>对象与类</span></a></h2><p>（无需定义类可直接创建对象，JS中几乎“所有事物”都是对象）</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">var</span> person<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
person<span class="token punctuation">.</span>firstname<span class="token operator">=</span><span class="token string">&quot;Bill&quot;</span>
<span class="token keyword">var</span> person2 <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">firstName</span><span class="token operator">:</span><span class="token string">&quot;Bill&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>JavaScript</code>有点令人困惑，因为它是动态的，并且本身不提供一个<code>class</code>实现</p><blockquote><h3 id="class" tabindex="-1"><a class="header-anchor" href="#class"><span>Class</span></a></h3></blockquote><p>JavaScript 语言中，生成实例对象的传统方法是通过构造函数。下面是一个例子。</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Point</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">Point</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">toString</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token string">&#39;(&#39;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token string">&#39;, &#39;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">+</span> <span class="token string">&#39;)&#39;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Point</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>而函数的原型链又类似于类继承一样的东西</p><p>上面这种写法跟传统的面向对象语言（比如 C++ 和 Java）差异很大，很容易让新学习这门语言的程序员感到困惑。</p><p>在 ES2015/ES6 中引入了 class 关键字，但那只是语法糖，JavaScript 仍然是基于原型的</p><p>ES6：</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// 构造器</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
        <span class="token keyword">this</span><span class="token punctuation">,</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span> <span class="token comment">// 继承</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,23),o=[p];function c(l,i){return a(),s("div",null,o)}const d=n(e,[["render",c],["__file","01. 对象和类.html.vue"]]),k=JSON.parse('{"path":"/MdNote_Public/01.%20%E8%AE%BE%E8%AE%A1%E5%BC%80%E5%8F%91%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%94%9F%E4%BA%A7/Develop/01.%20Language/JavaScript/06.%20%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/01.%20%E5%AF%B9%E8%B1%A1%E5%92%8C%E7%B1%BB.html","title":"JavaScript","lang":"zh-CN","frontmatter":{"description":"JavaScript 目录 对象和类 基于类 vs 基于对象 对于C++程序员，JavaScript最难的就是它的对象模型 基于对象的面向对象语言（object-based）：JavaScript 基于 类 的面向对象语言：C++、C#、Java、Simula、Smalltalk 基于对象的面向对象语言，一些具体体现 对象本质上是一个属性集，属性随时可...","head":[["meta",{"property":"og:url","content":"http://192.168.0.101:8080/MdNote_Public/01.%20%E8%AE%BE%E8%AE%A1%E5%BC%80%E5%8F%91%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%94%9F%E4%BA%A7/Develop/01.%20Language/JavaScript/06.%20%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/01.%20%E5%AF%B9%E8%B1%A1%E5%92%8C%E7%B1%BB.html"}],["meta",{"property":"og:site_name","content":"Linc 的小站"}],["meta",{"property":"og:title","content":"JavaScript"}],["meta",{"property":"og:description","content":"JavaScript 目录 对象和类 基于类 vs 基于对象 对于C++程序员，JavaScript最难的就是它的对象模型 基于对象的面向对象语言（object-based）：JavaScript 基于 类 的面向对象语言：C++、C#、Java、Simula、Smalltalk 基于对象的面向对象语言，一些具体体现 对象本质上是一个属性集，属性随时可..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:author","content":"LincZero"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"JavaScript\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"LincZero\\",\\"url\\":\\"https://github.com/LincZero/\\"}]}"]]},"headers":[{"level":1,"title":"JavaScript","slug":"javascript","link":"#javascript","children":[]},{"level":1,"title":"目录","slug":"目录","link":"#目录","children":[]},{"level":1,"title":"对象和类","slug":"对象和类","link":"#对象和类","children":[{"level":2,"title":"基于类 vs 基于对象","slug":"基于类-vs-基于对象","link":"#基于类-vs-基于对象","children":[]},{"level":2,"title":"对象与类","slug":"对象与类","link":"#对象与类","children":[]}]}],"git":{"createdTime":null,"updatedTime":null,"contributors":[]},"readingTime":{"minutes":2.95,"words":886},"filePathRelative":"MdNote_Public/01. 设计开发与数据生产/Develop/01. Language/JavaScript/06. 面向对象/01. 对象和类.md","autoDesc":true}');export{d as comp,k as data};
