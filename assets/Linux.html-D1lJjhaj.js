import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as e,c as n,a}from"./app-CyJMR3JQ.js";const d="/assets/clipboard-1597625906777-H6L3m-ku.png",s="/assets/clipboard-1597625925931-B88kuAgH.png",i="/assets/clipboard-1597625929958-Bjf9zSNh.png",l="/assets/clipboard-1597625934498-HlXQhZGr.png",o="/assets/clipboard-1597632058944-D7mO8OFV.png",r="/assets/clipboard-1597632064542-By-Px0wm.png",c="/assets/clipboard-1597632367227-BwjSxlaZ.png",p={},u=a('<h1 id="linux" tabindex="-1"><a class="header-anchor" href="#linux"><span>Linux</span></a></h1><h1 id="目录" tabindex="-1"><a class="header-anchor" href="#目录"><span>目录</span></a></h1><p>[TOC]</p><h1 id="linu终端" tabindex="-1"><a class="header-anchor" href="#linu终端"><span>Linu终端</span></a></h1><h2 id="linux发展历史" tabindex="-1"><a class="header-anchor" href="#linux发展历史"><span>Linux发展历史</span></a></h2><ul><li><p><strong>Unix</strong></p><p><code>1968</code>Multics项目（MIT，Bell，美国通用电气有限公司）</p><p><code>1970</code>Unix诞生（汇编语言）</p><p><code>1973</code>C语言重写Unix</p></li><li><p><strong>Linux</strong></p><p><code>1991</code>Linux之父——Linus</p></li><li><p><strong>Linux与GNU协议</strong></p><p>GNU开源协议 Linux特点</p><p>开源、多用户(同时)，多任务，稳定性好</p></li><li><p><strong>Linux分支</strong></p><p>Ubuntu，debian，centOS(redhat分支)，redhat，suse等</p></li><li><p><strong>Linux其他</strong></p><p>“Linux一切皆文件”</p></li></ul><h2 id="虚拟机相关" tabindex="-1"><a class="header-anchor" href="#虚拟机相关"><span>虚拟机相关</span></a></h2><p>虚拟机备份</p><blockquote><p><code>快照</code>又称还原点，侧重短期，无需关闭Linux)</p><p><code>克隆</code>侧重长期，要关闭Linux</p></blockquote><h2 id="linux文件目录1" tabindex="-1"><a class="header-anchor" href="#linux文件目录1"><span>Linux文件目录1</span></a></h2><p>计算机</p><blockquote><p>驱动器</p><p>文件系统</p></blockquote><p>文件系统</p><table><thead><tr><th>目录名称</th><th>英文全拼</th><th>说明</th></tr></thead><tbody><tr><td><strong>bin -&gt; usr/bin</strong></td><td>binary</td><td>二进制文件</td></tr><tr><td>boot</td><td></td><td>启动Linux时使用的一些核心文件，包括一些链接文件以及镜像文件</td></tr><tr><td><strong>dev</strong></td><td>device</td><td>外接设备</td></tr><tr><td><strong>etc</strong></td><td></td><td>配置文件</td></tr><tr><td><strong>home</strong></td><td></td><td>家，类似windows的<code>C:\\User</code></td></tr><tr><td><strong>lib -&gt; usr/bin</strong></td><td></td><td>有着系统最基本的动态链接共享库，其作用类似于Windows里的DLL文件</td></tr><tr><td><strong>lib64 -&gt; usr/bin64</strong></td><td></td><td></td></tr><tr><td>lost+found</td><td></td><td>一般情况下是空的，当系统非法关机后，这里就存放了一些文件</td></tr><tr><td>media</td><td></td><td></td></tr><tr><td>misc</td><td></td><td></td></tr><tr><td><strong>mnt</strong></td><td></td><td>有四个目录，外接设备挂载的地方。如将光驱挂载在<code>/mnt/cdrom</code>上，然后就可以查看里面内容</td></tr><tr><td>net</td><td></td><td></td></tr><tr><td>opt</td><td></td><td></td></tr><tr><td><strong>proc</strong></td><td>process</td><td>进程</td></tr><tr><td><strong>root</strong></td><td></td><td>roor用户的“home”</td></tr><tr><td><strong>sbin -&gt; usr/sbin</strong></td><td>super binary</td><td>super权限的二进制文件</td></tr><tr><td>selinux</td><td></td><td>安全策略/防火墙</td></tr><tr><td>srv</td><td></td><td></td></tr><tr><td>sys</td><td></td><td></td></tr><tr><td><strong>tmp</strong></td><td>temporary</td><td>临时文件，类似windows的<code>C:\\Windows\\Temp</code></td></tr><tr><td><strong>usr</strong></td><td></td><td>用户安装的软件，类似windows的<code>C:\\Program Files</code></td></tr><tr><td><strong>var</strong></td><td></td><td>系统日志</td></tr></tbody></table><h2 id="linux文件目录2" tabindex="-1"><a class="header-anchor" href="#linux文件目录2"><span>Linux文件目录2</span></a></h2><figure><img src="'+d+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><blockquote><p><strong>bin</strong></p><p>boot</p><p>data</p><p>dev</p><p>etc</p><p>home</p><p><strong>lib</strong> -&gt; usr/lib</p><p><strong>lib64</strong> -&gt; usr/lib64</p><p>lost+found</p><p>media</p><p>mnt</p><p>opt</p><p>proc</p><p>root</p><p>run</p><p><strong>sbin</strong> -&gt; usr/sbin</p><p>srv</p><p>sys</p><p><strong>tmp</strong> -&gt; 多个/tmp</p><p>usr</p><p>var</p></blockquote><h2 id="软件安装路径" tabindex="-1"><a class="header-anchor" href="#软件安装路径"><span>软件安装路径</span></a></h2><ul><li>图1</li></ul><figure><img src="'+s+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><ul><li>图2</li></ul><figure><img src="'+i+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><ul><li>图3</li></ul><figure><img src="'+l+`" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h1 id="linux指令" tabindex="-1"><a class="header-anchor" href="#linux指令"><span>Linux指令</span></a></h1><p>通用格式：指令主体 [选项] [操作对象]</p><p>指令网站：man.linuxde.net</p><h2 id="基础命令" tabindex="-1"><a class="header-anchor" href="#基础命令"><span>基础命令</span></a></h2><h3 id="终端操作" tabindex="-1"><a class="header-anchor" href="#终端操作"><span>终端操作</span></a></h3><table><thead><tr><th>指令</th><th>说明</th><th>参数</th></tr></thead><tbody><tr><td>clear/ctrl+L</td><td>伪·清除终端信息</td><td></td></tr></tbody></table><h3 id="系统操作" tabindex="-1"><a class="header-anchor" href="#系统操作"><span>系统操作</span></a></h3><p>关机（很少用）</p><table><thead><tr><th>指令</th><th>说明</th></tr></thead><tbody><tr><td>shutdown</td><td>关机(正常关机)，或<code>shutdown -h now</code></td></tr><tr><td>halt</td><td>关机(关闭内存)</td></tr><tr><td>inito</td><td>关机(一般不用)</td></tr></tbody></table><h3 id="路径操作" tabindex="-1"><a class="header-anchor" href="#路径操作"><span>路径操作</span></a></h3><table><thead><tr><th>命令</th><th>英语</th><th>说明</th><th>参数</th></tr></thead><tbody><tr><td>ls [-lah] [路径]</td><td>list</td><td>查看当前目录<br>技巧：ls -l可简写为ll<br>路径可接筛选文件名！</td><td><code>-l</code>以列表形式显示<br><code>-a</code>包含隐藏文件<br><code>-h</code>可读性优化显示</td></tr><tr><td>pwd</td><td>print working directory</td><td>查看当前路径</td><td></td></tr><tr><td>cd [路径]</td><td>change directory</td><td>定位到路径</td><td></td></tr></tbody></table><h3 id="文件操作" tabindex="-1"><a class="header-anchor" href="#文件操作"><span>文件操作</span></a></h3><table><thead><tr><th>命令</th><th>英语</th><th>说明</th><th>参数</th></tr></thead><tbody><tr><td>mkdir [-p] [路径1 路径2]</td><td>make directory</td><td>创建目录</td><td><code>-p</code>一次创建多层目录</td></tr><tr><td>touch [路径n]</td><td>touch</td><td>创建文件</td><td></td></tr><tr><td>cp [-r] [原路径 目标路径]</td><td>copy</td><td>复制</td><td><code>-r</code>递归复制(recursion)</td></tr><tr><td>mv [原路径 目标路径]</td><td>move</td><td>移动 / 重命名</td><td>话说这个没有递归</td></tr><tr><td>rm [-rf] [路径n]</td><td>remove</td><td>删除</td><td><code>-r</code>递归(recursion)<br><code>-f</code>不提示-强制删除(force)</td></tr></tbody></table><p>补充：<code>chmod 000 文件名</code>，设置文件权限为最高级（常用其他权限参数：777、754）</p><h3 id="文件内容操作" tabindex="-1"><a class="header-anchor" href="#文件内容操作"><span>文件内容操作</span></a></h3><table><thead><tr><th>命令</th><th>说明</th><th>参数</th></tr></thead><tbody><tr><td>vim [路径]<br> <br>简写：<br>vi [路径]</td><td>查看文件<br>文件可以有也可以没有<br><code>vim</code>是进入文件读取内容<br><code>cat</code>是在终端显示文件内容<br>前者一般用来编辑，后者用来查看</td><td><code>esc</code>退出阅读模式 / 命令模式<br><code>Shift + :</code>进入编辑模式<br><code>q + Enter</code>执行退出命令<br><code>wq + Enter</code>保存退出<br><code>q! + Enter</code>强制退出</td></tr><tr><td>cat [路径]</td><td>查看文件</td><td></td></tr></tbody></table><p>Vim更多退出操作（以下操作要先按<code>esc</code>退出某些状态（编辑）后才能输入）</p><ul><li><code>i</code>，插入模式，即编辑模式</li><li><code>:w</code>，保存文件但不退出vi</li><li><code>:w file</code>，将修改另外保存到file中，不退出vi</li><li><code>:w!</code>，强制保存，不推出vi</li><li><code>:wq</code>，保存文件并退出vi</li><li><code>:wq!</code>，强制保存文件，并退出vi</li><li><code>:q</code>，不保存文件，退出vi</li><li><code>:q!</code>，不保存文件，强制退出vi</li><li><code>:e!</code>，放弃所有修改，从上次保存文件开始再编辑命令历史</li></ul><h3 id="辅助操作" tabindex="-1"><a class="header-anchor" href="#辅助操作"><span>辅助操作</span></a></h3><table><thead><tr><th>指令</th><th>说明</th></tr></thead><tbody><tr><td>[指令] &gt; [路径]</td><td>输出重定向 —— 覆盖输出，文件不存在则新建</td></tr><tr><td>[指令] &gt;&gt;[路径]</td><td>输出重定向 —— 追加输出，文件不存在则新建</td></tr></tbody></table><h2 id="进阶指令" tabindex="-1"><a class="header-anchor" href="#进阶指令"><span>进阶指令</span></a></h2><h3 id="系统操作-1" tabindex="-1"><a class="header-anchor" href="#系统操作-1"><span>系统操作</span></a></h3><table><thead><tr><th>指令</th><th>说明</th><th>参数</th></tr></thead><tbody><tr><td>df [-h]</td><td>查看磁盘空间</td><td><code>-h</code>可读性优化显示</td></tr><tr><td>free [-h-m-g]</td><td>查看内存空间</td><td><code>-h</code>可读性优化（旧版不能）<br><code>-m</code>兆字节<br><code>-g</code>吉字节</td></tr></tbody></table><h3 id="文件内容高级操作" tabindex="-1"><a class="header-anchor" href="#文件内容高级操作"><span>文件内容高级操作</span></a></h3><table><thead><tr><th>指令</th><th>说明</th><th>参数</th></tr></thead><tbody><tr><td>head [-数字] [路径]</td><td>查看文件的前n行，默认10行</td><td></td></tr><tr><td>tail [-数字-f-F] [路径]</td><td>查看文件的后n行，默认10行</td><td><code>-f</code>查看文件的动态变化<br>但这个变化内容不能是用户手动修改<br>一般用来查看系统日志</td></tr><tr><td>less</td><td>查看文件并以较少内容输出</td><td>辅助键：数字+Enter、空格+上下方向键</td></tr><tr><td>wc [-lwc]</td><td>统计文件内容信息</td><td><code>-l</code>行数<code>line</code><br><code>-w</code>单词数<code>words</code><br><code>-c</code>字节数<code>bytes</code></td></tr></tbody></table><h3 id="日期编辑类【重点】" tabindex="-1"><a class="header-anchor" href="#日期编辑类【重点】"><span>日期编辑类【重点】</span></a></h3><table><thead><tr><th>指令</th><th>说明</th><th>参数</th></tr></thead><tbody><tr><td>data [&quot;+%F %T&quot;]<br>data -d &quot;+1 day&quot; &quot;+%F %T&quot;</td><td>操作时间和日期<br>可现实当前 / 指定某刻的数据<br><code>+%F %T</code>等价于<code>+%Y-%m-%d %H:%M:%S</code></td><td><code>%F</code>年月日<code>%T</code>时分秒<br><code>%Y</code>年<code>%m</code>月<code>%d</code>日<code>%H</code>时<code>%M</code>分<code>%S</code>秒<br><code>+</code>前<code>-</code>后<code>day</code>日<code>month</code>月<code>year</code>年</td></tr><tr><td>cal [-数字-y 年份]</td><td>操作日历</td><td><code>-1</code>当月，<code>-3</code>上本下月，<code>-y</code>一年12个月<br><code>-s</code>周日开始<code>-m</code>周一开始</td></tr></tbody></table><h3 id="管道符" tabindex="-1"><a class="header-anchor" href="#管道符"><span>管道符 &quot;|&quot;</span></a></h3><table><thead><tr><th>功能</th><th>例子</th><th>作用</th></tr></thead><tbody><tr><td>过滤</td><td>ls /</td><td>过滤为有&#39;y&#39;的文件，grep为过滤指令</td></tr><tr><td>特殊</td><td>cat 路径|less</td><td>实现less的等价效果</td></tr><tr><td>扩展处理</td><td>ls/ |wc -l</td><td>统计某个目录下文档个数，前面的输出作为后面的输入</td></tr></tbody></table><h2 id="高级指令" tabindex="-1"><a class="header-anchor" href="#高级指令"><span>高级指令</span></a></h2><h3 id="文件高级操作" tabindex="-1"><a class="header-anchor" href="#文件高级操作"><span>文件高级操作</span></a></h3><table><thead><tr><th>指令</th><th>说明</th><th>参数</th></tr></thead><tbody><tr><td>du [-sh]</td><td>查看目录真实大</td><td><code>-s</code>只显示汇总大小(summaries)<br><code>-h</code>高可读性显示</td></tr><tr><td>find [路径] [选项]</td><td>查找文件<br>例：\`find /etc -name *.conf</td><td>wc -f\`</td></tr></tbody></table><h3 id="系统与进程操作" tabindex="-1"><a class="header-anchor" href="#系统与进程操作"><span>系统与进程操作</span></a></h3><table><thead><tr><th>指令</th><th>说明</th><th>参数</th></tr></thead><tbody><tr><td>hostname [-f]</td><td>操作服务器主机名</td><td><code>-f</code>输出主机名中的FQDN(全限定域名)</td></tr><tr><td>id [用户名]</td><td>查看用户的一些基本信息</td><td>用户id,用户组id,附加组id<br>验证用户信息：/etc/passwd<br>验证用户组信息：/etc/group</td></tr><tr><td>whoami</td><td>who am i<br>显示当前用户名，一般用于shell脚本来记录日志</td><td></td></tr><tr><td>ps [-ef]</td><td>【重点】查看服务器进程信息<br>具体见下</td><td><code>-e</code>列出前部进程，等价于<code>-A</code><br><code>-f</code>显示全部列(字段)</td></tr><tr><td>top</td><td>(动态显示)进程状态<br>具体见下</td><td><code>按M</code>(MEM)内存排序<br><code>按P</code>(CPU)CPU排序<br><code>按1</code>CPU分核显示<br><code>按q</code>退出</td></tr><tr><td>service [服务名] [操作]</td><td>【重要】控制软件服务<br>例：<code>service httpd start</code></td><td>start启动，stop停止，restart重启</td></tr><tr><td>kill [进程PID]</td><td>杀死进程，配合ps -ef使用</td><td></td></tr><tr><td>killall [进程名称]</td><td>杀死进程</td><td></td></tr></tbody></table><ul><li>ps [-ef] 的额外补充</li></ul><blockquote><p><code>UID</code>用户id</p><p><code>PID</code>进程id</p><p><code>STMIE</code>启动时间</p><p><code>PPID</code>进程的父级进程(父级没了就是僵尸进程)</p><p><code>C</code>CPU占用率</p><p><code>TTY</code>发起进程的终端设备(?表示非终端发起的)</p><p><code>TIME</code>执行时间</p><p><code>CMD</code>进程名称</p><p>案例：<code>ps -ef | grep gnome-panel</code></p></blockquote><ul><li>top的额外补充</li></ul><blockquote><p><code>sleeping</code>睡眠进程</p><p><code>zombie</code>僵尸进程(plants vs zombies里的zombie)</p><p><code>S/R</code>进程状态(<code>S</code>睡眠,<code>R</code>运行)</p><p><code>PR</code>优先级(权重)</p><p><code>VIRT</code>虚拟内存</p><p><code>RES</code>常驻(虚拟)内存</p><p><code>SHR</code>共享内存(和依赖相关)</p><p>注：一个进程实际使用的内存 = <code>RES</code>常驻内存 - <code>SHR</code>共享内存</p><p><code>%CPU</code>是CPU占用</p><p><code>%MEM</code>是内存占用比</p><p><code>TIME+</code>是执行时间</p><p><code>COMMAND</code>进程名或路径</p></blockquote><h1 id="linux下的包管理" tabindex="-1"><a class="header-anchor" href="#linux下的包管理"><span>Linux下的包管理</span></a></h1><h2 id="node篇" tabindex="-1"><a class="header-anchor" href="#node篇"><span>Node篇</span></a></h2><p>安装Nodejs</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>yum <span class="token function">install</span> <span class="token parameter variable">-y</span> nodejs
node-v
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="node-js保持后台运行" tabindex="-1"><a class="header-anchor" href="#node-js保持后台运行"><span>Node.js保持后台运行</span></a></h3><h4 id="【方案1】forever" tabindex="-1"><a class="header-anchor" href="#【方案1】forever"><span>【方案1】forever</span></a></h4><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>// 安装forever
<span class="token function">sudo</span> <span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-g</span> forever
// 使用forever开启nodejs程序
forever start xxx.js
// 【或】使用forever开启npm程序
forever start <span class="token parameter variable">-c</span> <span class="token string">&quot;npm start&quot;</span> 路径
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="【方案2】【更高级】pm2" tabindex="-1"><a class="header-anchor" href="#【方案2】【更高级】pm2"><span>【方案2】【更高级】pm2</span></a></h4><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>// 安装
<span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-g</span> pm2

// 运行
pm2 start app.js

// 一些命令
pm2 list  查看应用运行状态
pm2 monit  追踪资源运行情况
pm2 describe <span class="token punctuation">[</span>app id<span class="token punctuation">]</span>  查看应用详细部署状态
pm2 logs  查看日志
pm2 restart <span class="token punctuation">[</span>app id<span class="token punctuation">]</span>  重启应用
pm2 stop <span class="token punctuation">[</span>app id<span class="token punctuation">]</span>  停止应用
pm2 web  开启api访问
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="更新node-处理pm2报错-spawning-pm2-daemon-with-pm2" tabindex="-1"><a class="header-anchor" href="#更新node-处理pm2报错-spawning-pm2-daemon-with-pm2"><span>更新Node &amp;&amp; 处理pm2报错：spawning pm2 daemon with pm2</span></a></h4><ol><li><p>查看报错内容</p><blockquote><p>vim pm2.log</p><p>有可能是node版本过低</p></blockquote></li><li><p>安装新版node</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>~$ <span class="token function">wget</span> https://npm.taobao.org/mirrors/node/v10.13.0/node-v10.13.0-linux-x64.tar.xz  //下载nodejs
~$ <span class="token function">tar</span> <span class="token parameter variable">-xvf</span> node-v10.13.0-linux-x64.tar.xz  //下载nodejs安装文件node-v10.13.0-linux-x64.tar.xz
~$ <span class="token builtin class-name">cd</span> node-v10.13.0-linux-x64/bin <span class="token operator">&amp;&amp;</span> <span class="token function">ls</span>  //测试是否安装成功
	<span class="token function">node</span>  <span class="token function">npm</span>  npx
bin$ ./node <span class="token parameter variable">-v</span>  //./的意思是当前文件夹下，现在 <span class="token function">node</span> 和 <span class="token function">npm</span> 还不能全局使用
	v10.13.0
bin$ <span class="token builtin class-name">pwd</span>  //pwd查看当前目录，记住这个目录，我们下面要用
	/root/node-v10.13.0-linux-x64/bin
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>全局使用node、npm</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>bin$ <span class="token builtin class-name">cd</span> ~  //回到~目录
~$ <span class="token function">vim</span> .bashrc  //打开.bashrc文件夹
    i  //进入编辑模式
    <span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span>/root/node-v10.13.0-linux-x64/bin/:<span class="token environment constant">$PATH</span>  // 插入该语句
    编辑完成后，按esc键退出编辑状态，再输入<span class="token punctuation">(</span>shift<span class="token punctuation">)</span>:wq保存并退出文件
~$ <span class="token builtin class-name">source</span> .bashrc  // 使环境变量生效
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>检查</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>~$ <span class="token function">node</span> <span class="token parameter variable">-v</span>
	v10.13.0
~$ <span class="token function">npm</span> <span class="token parameter variable">-v</span>
	<span class="token number">6.4</span>.1
~$ pm2 <span class="token parameter variable">-v</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h4 id="方案比较" tabindex="-1"><a class="header-anchor" href="#方案比较"><span>方案比较</span></a></h4><figure><img src="`+o+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><figure><img src="'+r+`" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h3 id="踩坑nodejs-fs路径问题" tabindex="-1"><a class="header-anchor" href="#踩坑nodejs-fs路径问题"><span>踩坑Nodejs - Fs路径问题</span></a></h3><p>问题所在</p><blockquote><p>fs模块读取文件的相对路径是以<code>启动server.js的位置</code>为基准的，而不是以server.js文件的位置！</p><p>即在本地调试时使用<code>npm run server</code>时，<code>./public/video</code>是指向<code>public</code>的静态资源里的</p><p>而在服务器中使用<code>pm2 start www</code>时，需要<code>../public/video</code>来指向<code>public</code></p></blockquote><p>解决方案：使用绝对路径</p><p>nodejs官方也推荐在使用fs模块读取文件时使用绝对路径，而不是相对路径</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span> <span class="token comment">// 先引path包，这包还可以获取扩展名path.extname()</span>
<span class="token keyword">let</span> <span class="token constant">PUBLIC_PATH</span> <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;../public&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="yum篇" tabindex="-1"><a class="header-anchor" href="#yum篇"><span>Yum篇</span></a></h2><h3 id="apache的使用" tabindex="-1"><a class="header-anchor" href="#apache的使用"><span>Apache的使用</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>// 安装Apache
yum <span class="token function">install</span> <span class="token parameter variable">-y</span> httpd
apachectl <span class="token parameter variable">-v</span>

// 启动Apache
apachectl start

// 测试Apache
<span class="token function">curl</span> <span class="token parameter variable">-l</span> localhost

// 其他命令
apachectl stop  停止Apache

// 如果apache安装成为linux的服务的话，可以用以下命令操作：
<span class="token function">service</span> httpd start 启动
<span class="token function">service</span> httpd restart 重新启动
<span class="token function">service</span> httpd stop 停止服务

// 一键安装Lamp环境
yum <span class="token function">install</span> <span class="token parameter variable">-y</span> mysql* httpd* php*
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="yum命令报错file-usr-bin-yum-line-30-except-keyboardinterrupt-e" tabindex="-1"><a class="header-anchor" href="#yum命令报错file-usr-bin-yum-line-30-except-keyboardinterrupt-e"><span>yum命令报错File &quot;/usr/bin/yum&quot;, line 30 except KeyboardInterrupt, e:</span></a></h3><p>两种解决方案</p><figure><img src="`+c+`" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h2 id="pip与python篇" tabindex="-1"><a class="header-anchor" href="#pip与python篇"><span>Pip与Python篇</span></a></h2><h3 id="python" tabindex="-1"><a class="header-anchor" href="#python"><span>Python</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">wget</span> https://www.python.org/ftp/python/3.7.2/Python-3.7.2.tgz  <span class="token comment"># 下载</span>
<span class="token function">tar</span>  <span class="token parameter variable">-xf</span>    ***.gz  <span class="token comment"># 解压</span>
./configure <span class="token operator">&amp;&amp;</span> <span class="token function">make</span> <span class="token operator">&amp;&amp;</span> <span class="token function">make</span> <span class="token function">install</span>  <span class="token comment"># 编译</span>

<span class="token comment"># 这个时候要删除之前 装好的软连接，再添加的软连接里</span>

<span class="token function">ln</span> <span class="token parameter variable">-s</span> /usr/local/bin/python3.7 /usr/bin/python  <span class="token comment"># 创建软连接</span>

<span class="token comment"># 【【会有BUG】】yum用python2编写，这样改会导致yum不可用。方案：这里用python3软连接或改yum配置</span>

<span class="token function">ln</span> <span class="token parameter variable">-s</span> /usr/local/bin/python3.7-config /usr/bin/python-config

python <span class="token parameter variable">-V</span>  <span class="token comment"># 再次查看py的版本号</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="pip" tabindex="-1"><a class="header-anchor" href="#pip"><span>pip</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">curl</span> https://bootstrap.pypa.io/get-pip.py <span class="token parameter variable">-o</span> get-pip.py   <span class="token comment"># 下载安装脚本</span>
<span class="token function">sudo</span> python get-pip.py    <span class="token comment"># 运行安装脚本</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="杂记" tabindex="-1"><a class="header-anchor" href="#杂记"><span>杂记</span></a></h1><h2 id="linux下-bin和-usr-bin和-usr-local-bin的区别" tabindex="-1"><a class="header-anchor" href="#linux下-bin和-usr-bin和-usr-local-bin的区别"><span>linux下/bin和/usr/bin和/usr/local/bin的区别</span></a></h2><blockquote><p>/bin 是所有用户都可以访问并执行的可执行程序。包括超级用户及一般用户</p><p>/usr/bin 是系统安装时自带的一些可执行程序。即系统程序，轻易不要去动里面的东西，容易入坑</p><p>/usr/local/bin 是用户自行编译安装时默认的可执行程序的安装位置，这个不小心误删点什么，不会影响大局</p></blockquote>`,96),h=[u];function b(m,v){return e(),n("div",null,h)}const k=t(p,[["render",b],["__file","Linux.html.vue"]]),f=JSON.parse('{"path":"/MdNote_Public/01.%20%E8%AE%BE%E8%AE%A1%E5%BC%80%E5%8F%91%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%94%9F%E4%BA%A7/Develop/02.%20Theory/Computer/04.%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%BF%E7%94%A8/%E8%AE%A1%E7%AE%97%E6%9C%BA%20Linux%E7%B3%BB%E7%BB%9F/Linux%E5%AD%A6%E4%B9%A01/Linux.html","title":"Linux","lang":"zh-CN","frontmatter":{"description":"Linux 目录 [TOC] Linu终端 Linux发展历史 Unix 1968Multics项目（MIT，Bell，美国通用电气有限公司） 1970Unix诞生（汇编语言） 1973C语言重写Unix Linux 1991Linux之父——Linus Linux与GNU协议 GNU开源协议 Linux特点 开源、多用户(同时)，多任务，稳定性好 L...","head":[["meta",{"property":"og:url","content":"http://192.168.0.101:8080/MdNote_Public/01.%20%E8%AE%BE%E8%AE%A1%E5%BC%80%E5%8F%91%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%94%9F%E4%BA%A7/Develop/02.%20Theory/Computer/04.%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%BF%E7%94%A8/%E8%AE%A1%E7%AE%97%E6%9C%BA%20Linux%E7%B3%BB%E7%BB%9F/Linux%E5%AD%A6%E4%B9%A01/Linux.html"}],["meta",{"property":"og:site_name","content":"Linc 的小站"}],["meta",{"property":"og:title","content":"Linux"}],["meta",{"property":"og:description","content":"Linux 目录 [TOC] Linu终端 Linux发展历史 Unix 1968Multics项目（MIT，Bell，美国通用电气有限公司） 1970Unix诞生（汇编语言） 1973C语言重写Unix Linux 1991Linux之父——Linus Linux与GNU协议 GNU开源协议 Linux特点 开源、多用户(同时)，多任务，稳定性好 L..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:author","content":"LincZero"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Linux\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"LincZero\\",\\"url\\":\\"https://github.com/LincZero/\\"}]}"]]},"headers":[{"level":1,"title":"Linux","slug":"linux","link":"#linux","children":[]},{"level":1,"title":"目录","slug":"目录","link":"#目录","children":[]},{"level":1,"title":"Linu终端","slug":"linu终端","link":"#linu终端","children":[{"level":2,"title":"Linux发展历史","slug":"linux发展历史","link":"#linux发展历史","children":[]},{"level":2,"title":"虚拟机相关","slug":"虚拟机相关","link":"#虚拟机相关","children":[]},{"level":2,"title":"Linux文件目录1","slug":"linux文件目录1","link":"#linux文件目录1","children":[]},{"level":2,"title":"Linux文件目录2","slug":"linux文件目录2","link":"#linux文件目录2","children":[]},{"level":2,"title":"软件安装路径","slug":"软件安装路径","link":"#软件安装路径","children":[]}]},{"level":1,"title":"Linux指令","slug":"linux指令","link":"#linux指令","children":[{"level":2,"title":"基础命令","slug":"基础命令","link":"#基础命令","children":[{"level":3,"title":"终端操作","slug":"终端操作","link":"#终端操作","children":[]},{"level":3,"title":"系统操作","slug":"系统操作","link":"#系统操作","children":[]},{"level":3,"title":"路径操作","slug":"路径操作","link":"#路径操作","children":[]},{"level":3,"title":"文件操作","slug":"文件操作","link":"#文件操作","children":[]},{"level":3,"title":"文件内容操作","slug":"文件内容操作","link":"#文件内容操作","children":[]},{"level":3,"title":"辅助操作","slug":"辅助操作","link":"#辅助操作","children":[]}]},{"level":2,"title":"进阶指令","slug":"进阶指令","link":"#进阶指令","children":[{"level":3,"title":"系统操作","slug":"系统操作-1","link":"#系统操作-1","children":[]},{"level":3,"title":"文件内容高级操作","slug":"文件内容高级操作","link":"#文件内容高级操作","children":[]},{"level":3,"title":"日期编辑类【重点】","slug":"日期编辑类【重点】","link":"#日期编辑类【重点】","children":[]},{"level":3,"title":"管道符 \\"|\\"","slug":"管道符","link":"#管道符","children":[]}]},{"level":2,"title":"高级指令","slug":"高级指令","link":"#高级指令","children":[{"level":3,"title":"文件高级操作","slug":"文件高级操作","link":"#文件高级操作","children":[]},{"level":3,"title":"系统与进程操作","slug":"系统与进程操作","link":"#系统与进程操作","children":[]}]}]},{"level":1,"title":"Linux下的包管理","slug":"linux下的包管理","link":"#linux下的包管理","children":[{"level":2,"title":"Node篇","slug":"node篇","link":"#node篇","children":[{"level":3,"title":"Node.js保持后台运行","slug":"node-js保持后台运行","link":"#node-js保持后台运行","children":[{"level":4,"title":"【方案1】forever","slug":"【方案1】forever","link":"#【方案1】forever","children":[]},{"level":4,"title":"【方案2】【更高级】pm2","slug":"【方案2】【更高级】pm2","link":"#【方案2】【更高级】pm2","children":[]},{"level":4,"title":"更新Node && 处理pm2报错：spawning pm2 daemon with pm2","slug":"更新node-处理pm2报错-spawning-pm2-daemon-with-pm2","link":"#更新node-处理pm2报错-spawning-pm2-daemon-with-pm2","children":[]},{"level":4,"title":"方案比较","slug":"方案比较","link":"#方案比较","children":[]}]},{"level":3,"title":"踩坑Nodejs - Fs路径问题","slug":"踩坑nodejs-fs路径问题","link":"#踩坑nodejs-fs路径问题","children":[]}]},{"level":2,"title":"Yum篇","slug":"yum篇","link":"#yum篇","children":[{"level":3,"title":"Apache的使用","slug":"apache的使用","link":"#apache的使用","children":[]},{"level":3,"title":"yum命令报错File \\"/usr/bin/yum\\", line 30 except KeyboardInterrupt, e:","slug":"yum命令报错file-usr-bin-yum-line-30-except-keyboardinterrupt-e","link":"#yum命令报错file-usr-bin-yum-line-30-except-keyboardinterrupt-e","children":[]}]},{"level":2,"title":"Pip与Python篇","slug":"pip与python篇","link":"#pip与python篇","children":[{"level":3,"title":"Python","slug":"python","link":"#python","children":[]},{"level":3,"title":"pip","slug":"pip","link":"#pip","children":[]}]}]},{"level":1,"title":"杂记","slug":"杂记","link":"#杂记","children":[{"level":2,"title":"linux下/bin和/usr/bin和/usr/local/bin的区别","slug":"linux下-bin和-usr-bin和-usr-local-bin的区别","link":"#linux下-bin和-usr-bin和-usr-local-bin的区别","children":[]}]}],"git":{"createdTime":null,"updatedTime":null,"contributors":[]},"readingTime":{"minutes":9.73,"words":2918},"filePathRelative":"MdNote_Public/01. 设计开发与数据生产/Develop/02. Theory/Computer/04. 计算机使用/计算机 Linux系统/Linux学习1/Linux.md","autoDesc":true}');export{k as comp,f as data};
