import{_ as o,c as p,e,a as s,d as a,b as i,o as l,r as c}from"./app-D9x9tU0e.js";const r={},u={href:"https://github.com/LincZero/LincZero.github.io/tree/main/src/.vuepress/plugin/ABConvertManager",target:"_blank",rel:"noopener noreferrer"};function d(m,n){const t=c("ExternalLinkIcon");return l(),p("div",null,[n[4]||(n[4]=e('<h1 id="安装使用-vuepress版" tabindex="-1"><a class="header-anchor" href="#安装使用-vuepress版"><span>安装使用_VuePress版</span></a></h1><p>该插件一开始是在Obsidian开发的，后来被我迁移到在 Markdown-it 里也能用，即支持使用mdit的 VuePress/VitePress 都能通用的</p><h2 id="使用方式" tabindex="-1"><a class="header-anchor" href="#使用方式"><span>使用方式</span></a></h2><p>暂时还没封装和上传npm，想要提前用的直接去我github的网页项目里把ABConvertManager文件夹取出来，当普通mdit插件用就行。</p><h3 id="源码版安装" tabindex="-1"><a class="header-anchor" href="#源码版安装"><span>源码版安装</span></a></h3><p>以vuepress为例：</p><p>基本使用：</p>',7)),s("ol",null,[s("li",null,[n[1]||(n[1]=a("把 ")),s("a",u,[n[0]||(n[0]=a("ABConvertManager")),i(t)]),n[2]||(n[2]=a(" 文件夹单独拿出来，并放在你项目中"))]),n[3]||(n[3]=s("li",null,[a("在 vuepress 项目中的 "),s("code",null,".vuepress/config.ts"),a(" 文件中，添加：(有 "),s("code",null,"+"),a(" 的是新增内容)")],-1))]),n[5]||(n[5]=e(`<div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> ab_mdit <span class="token keyword">from</span> <span class="token string">&quot;./plugin/ABConvertManager/src/index_mdit&quot;</span> <span class="token comment">// + 路径是：你拷贝后的文件夹所在路径/src/index_midt</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineUserConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">extendsMarkdown</span><span class="token operator">:</span> <span class="token punctuation">(</span>md<span class="token operator">:</span> markdownit<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">// + 就像使用普通的mdit插件那样使用</span>
    md<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>ab_mdit<span class="token punctuation">)</span>                      <span class="token comment">// +</span>
  <span class="token punctuation">}</span>                                      <span class="token comment">// +</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>然后正常编译使用</li></ol><p>依赖补充：</p><ol><li>通过源码进行的安装方式，不像npm版那样自动安装依赖。所以手动安装就好。可能缺少的依赖：</li></ol><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token string-property property">&quot;jsdom&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^24.1.1&quot;</span><span class="token punctuation">,</span>
<span class="token string-property property">&quot;markdown-it-container&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.0.0&quot;</span><span class="token punctuation">,</span>
<span class="token string-property property">&quot;markmap-lib&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^0.17.0&quot;</span><span class="token punctuation">,</span>
<span class="token string-property property">&quot;mermaid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^10.9.1&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>如果你遇到了一些依赖问题，可以将 AnyBlock 部分功能禁用，以避免干扰方便调试。</li></ol><ul><li>若你这样做，着插件的很多依赖就变得“不再依赖”。这可能可以解决一些由于依赖所引起的bug 将 <code>index_mdit.ts</code> 文件中的部分行注释掉：(对应的文件也可以暂时删除掉)<div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token string">&quot;./converter/abc_list&quot;</span>
<span class="token keyword">import</span> <span class="token string">&quot;./converter/abc_c2list&quot;</span>
<span class="token keyword">import</span> <span class="token string">&quot;./converter/abc_table&quot;</span>
<span class="token keyword">import</span> <span class="token string">&quot;./converter/abc_dir_tree&quot;</span>
<span class="token keyword">import</span> <span class="token string">&quot;./converter/abc_deco&quot;</span>
<span class="token keyword">import</span> <span class="token string">&quot;./converter/abc_ex&quot;</span>
<span class="token keyword">import</span> <span class="token string">&quot;./converter/abc_mdit_container&quot;</span>
<span class="token keyword">import</span> <span class="token string">&quot;./converter/abc_plantuml&quot;</span> <span class="token comment">// 可选建议：</span>
<span class="token keyword">import</span> <span class="token string">&quot;./converter/abc_mermaid&quot;</span>  <span class="token comment">// 可选建议：7.1MB</span>
<span class="token keyword">import</span> <span class="token string">&quot;./converter/abc_markmap&quot;</span>  <span class="token comment">// 可选建议：1.3MB</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><ol start="3"><li>伴侣插件。有一些插件可以和 AnyBlock 很好地配合：</li></ol><ul><li>如 hopeTheme 配置中的 plugins/mdEnhance 中的：<s>alert</s>、tabs、<s>demo</s>、<s>codetabs</s>、mermaid、markmap</li></ul><h3 id="npm版安装" tabindex="-1"><a class="header-anchor" href="#npm版安装"><span>npm版安装</span></a></h3><p>（注意，该版本由于未解决的bug，不支持markmap）</p><p>先安装：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token variable">$pnpm</span> <span class="token function">install</span> <span class="token parameter variable">-D</span> jsdom
<span class="token variable">$pnpm</span> <span class="token function">install</span> <span class="token parameter variable">-D</span> any-block-converter-markdown-it@3.1.3-beta11 <span class="token comment"># 不能低于这个版本，否则不可用</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>在 vuepress 项目中的 <code>.vuepress/config.ts</code> 文件中，添加：</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> ab_mdit <span class="token keyword">from</span> <span class="token string">&quot;any-block-converter-markdown-it&quot;</span> <span class="token comment">// +</span>

<span class="token comment">// + 这里需要自 pnpm install jsdom，不知道为什么这部分不能在模块里依赖，会有bug......</span>
<span class="token keyword">import</span> jsdom <span class="token keyword">from</span> <span class="token string">&quot;jsdom&quot;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token constant">JSDOM</span> <span class="token punctuation">}</span> <span class="token operator">=</span> jsdom
<span class="token keyword">const</span> dom <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token constant">JSDOM</span></span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt;</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  url<span class="token operator">:</span> <span class="token string">&#39;http://localhost/&#39;</span><span class="token punctuation">,</span> <span class="token comment">// @warn 若缺少该行，则在mdit+build环境下，编译报错</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// @ts-ignore 不能将类型“DOMWindow”分配给类型“Window &amp; typeof globalThis”</span>
global<span class="token punctuation">.</span>window <span class="token operator">=</span> dom<span class="token punctuation">.</span>window
global<span class="token punctuation">.</span>history <span class="token operator">=</span> dom<span class="token punctuation">.</span>window<span class="token punctuation">.</span>history <span class="token comment">// @warn 若缺少该行，则在mdit+build环境下，编译报错：ReferenceError: history is not defined</span>
global<span class="token punctuation">.</span>document <span class="token operator">=</span> dom<span class="token punctuation">.</span>window<span class="token punctuation">.</span>document
global<span class="token punctuation">.</span>NodeList <span class="token operator">=</span> dom<span class="token punctuation">.</span>window<span class="token punctuation">.</span>NodeList
global<span class="token punctuation">.</span>HTMLElement <span class="token operator">=</span> dom<span class="token punctuation">.</span>window<span class="token punctuation">.</span>HTMLElement
global<span class="token punctuation">.</span>HTMLDivElement <span class="token operator">=</span> dom<span class="token punctuation">.</span>window<span class="token punctuation">.</span>HTMLDivElement
global<span class="token punctuation">.</span>HTMLPreElement <span class="token operator">=</span> dom<span class="token punctuation">.</span>window<span class="token punctuation">.</span>HTMLPreElement
global<span class="token punctuation">.</span>HTMLQuoteElement <span class="token operator">=</span> dom<span class="token punctuation">.</span>window<span class="token punctuation">.</span>HTMLQuoteElement
global<span class="token punctuation">.</span>HTMLTableElement <span class="token operator">=</span> dom<span class="token punctuation">.</span>window<span class="token punctuation">.</span>HTMLTableElement
global<span class="token punctuation">.</span>HTMLUListElement <span class="token operator">=</span> dom<span class="token punctuation">.</span>window<span class="token punctuation">.</span>HTMLUListElement
global<span class="token punctuation">.</span>HTMLScriptElement <span class="token operator">=</span> dom<span class="token punctuation">.</span>window<span class="token punctuation">.</span>HTMLScriptElement
dom<span class="token punctuation">.</span>window<span class="token punctuation">.</span><span class="token function-variable function">scrollTo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// @warn 若缺少该行，编译警告：Error: Not implemented: window.scrollTo*/</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineUserConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">extendsMarkdown</span><span class="token operator">:</span> <span class="token punctuation">(</span>md<span class="token operator">:</span> markdownit<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">// + 就像使用普通的mdit插件那样使用</span>
    md<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>ab_mdit<span class="token punctuation">)</span>                      <span class="token comment">// +</span>
  <span class="token punctuation">}</span>                                      <span class="token comment">// +</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="demo" tabindex="-1"><a class="header-anchor" href="#demo"><span>Demo</span></a></h2><ul><li>https://github.com/any-block/VuepressDemo 提供了一个使用AnyBlock的最小仓库 (<strong>vuepress2</strong> 环境，使用npm安装)，并列出了从零构建该仓库的某一步的过程</li><li>https://github.com/any-block/VitePressDemo 提供了一个使用AnyBlock的最小仓库 (<strong>vitepress</strong> 环境，使用npm安装)，并列出了从零构建该仓库的某一步的过程</li><li>https://github.com/LincZero/LincZero.github.io 提供了一个使用AnyBlock的仓库 (<strong>vuepress-theme-hope</strong> 环境，使用源码方案，但这个仓库不是demo仓库，有很多其他的东西可能会影响参考)</li></ul><h2 id="常见问题" tabindex="-1"><a class="header-anchor" href="#常见问题"><span>常见问题</span></a></h2><h3 id="不生效" tabindex="-1"><a class="header-anchor" href="#不生效"><span>不生效</span></a></h3><p>注意是 <code>extendsMarkdown</code> (有 <code>s</code>) 还是 <code>extendMarkdown</code></p><p>这不仅仅是书写错误，主要是后者是真实存在的关键字。</p><p>https://vuepress.github.io/zh/guide/migration.html#%E7%94%A8%E6%88%B7%E9%85%8D%E7%BD%AE%E5%8F%98%E6%9B%B4 中写了：</p><blockquote><p>markdown.extendMarkdown</p><p>移除。</p><p>使用 extendsMarkdown Hook</p></blockquote><p>一般我们用的是V2，是有 <code>s</code> 的</p><h3 id="样式" tabindex="-1"><a class="header-anchor" href="#样式"><span>样式</span></a></h3><p>mdit无法直接嵌入样式，或者说只能在dom中直接嵌入样式，会导致后期用户很难修改</p><p>需要手动去使用对应项目的 scss/css</p>`,27))])}const v=o(r,[["render",d],["__file","04. 安装使用_VuePress版.html.vue"]]),b=JSON.parse('{"path":"/MdNote_Public/ProductDoc/AnyBlock/docs/zh/04.%20%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8_VuePress%E7%89%88.html","title":"安装使用_VuePress版","lang":"zh-CN","frontmatter":{"description":"安装使用_VuePress版 该插件一开始是在Obsidian开发的，后来被我迁移到在 Markdown-it 里也能用，即支持使用mdit的 VuePress/VitePress 都能通用的 使用方式 暂时还没封装和上传npm，想要提前用的直接去我github的网页项目里把ABConvertManager文件夹取出来，当普通mdit插件用就行。 源码...","head":[["meta",{"property":"og:url","content":"https://LincZero.github.io/MdNote_Public/ProductDoc/AnyBlock/docs/zh/04.%20%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8_VuePress%E7%89%88.html"}],["meta",{"property":"og:site_name","content":"Linc 的小站"}],["meta",{"property":"og:title","content":"安装使用_VuePress版"}],["meta",{"property":"og:description","content":"安装使用_VuePress版 该插件一开始是在Obsidian开发的，后来被我迁移到在 Markdown-it 里也能用，即支持使用mdit的 VuePress/VitePress 都能通用的 使用方式 暂时还没封装和上传npm，想要提前用的直接去我github的网页项目里把ABConvertManager文件夹取出来，当普通mdit插件用就行。 源码..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:author","content":"LincZero"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"安装使用_VuePress版\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"LincZero\\",\\"url\\":\\"https://github.com/LincZero/\\"}]}"]]},"headers":[{"level":1,"title":"安装使用_VuePress版","slug":"安装使用-vuepress版","link":"#安装使用-vuepress版","children":[{"level":2,"title":"使用方式","slug":"使用方式","link":"#使用方式","children":[{"level":3,"title":"源码版安装","slug":"源码版安装","link":"#源码版安装","children":[]},{"level":3,"title":"npm版安装","slug":"npm版安装","link":"#npm版安装","children":[]}]},{"level":2,"title":"Demo","slug":"demo","link":"#demo","children":[]},{"level":2,"title":"常见问题","slug":"常见问题","link":"#常见问题","children":[{"level":3,"title":"不生效","slug":"不生效","link":"#不生效","children":[]},{"level":3,"title":"样式","slug":"样式","link":"#样式","children":[]}]}]}],"git":{"createdTime":null,"updatedTime":null,"contributors":[]},"readingTime":{"minutes":3.1,"words":931},"filePathRelative":"MdNote_Public/ProductDoc/AnyBlock/docs/zh/04. 安装使用_VuePress版.md","excerpt":"\\n<p>该插件一开始是在Obsidian开发的，后来被我迁移到在 Markdown-it 里也能用，即支持使用mdit的 VuePress/VitePress 都能通用的</p>\\n<h2>使用方式</h2>\\n<p>暂时还没封装和上传npm，想要提前用的直接去我github的网页项目里把ABConvertManager文件夹取出来，当普通mdit插件用就行。</p>\\n<h3>源码版安装</h3>\\n<p>以vuepress为例：</p>\\n<p>基本使用：</p>\\n<ol>\\n<li>把 <a href=\\"https://github.com/LincZero/LincZero.github.io/tree/main/src/.vuepress/plugin/ABConvertManager\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">ABConvertManager</a> 文件夹单独拿出来，并放在你项目中</li>\\n<li>在 vuepress 项目中的 <code>.vuepress/config.ts</code> 文件中，添加：(有 <code>+</code> 的是新增内容)</li>\\n</ol>","autoDesc":true}');export{v as comp,b as data};
