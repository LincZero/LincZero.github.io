import{_ as a,c as s,a as e,o as t}from"./app-HXGboUmJ.js";const l={};function i(c,n){return t(),s("div",null,n[0]||(n[0]=[e(`<ul><li>随时暂停以查看线程树</li><li>一些断点技巧 <ul><li>add to watches 以随时查看单例模式</li></ul></li></ul><h2 id="add-to-watches-以随时查看单例模式" tabindex="-1"><a class="header-anchor" href="#add-to-watches-以随时查看单例模式"><span>add to watches 以随时查看单例模式</span></a></h2><p>中途踩了个坑：</p><h3 id="坑一" tabindex="-1"><a class="header-anchor" href="#坑一"><span>坑一</span></a></h3><div class="language-cpp line-numbers-mode" data-ext="cpp" data-title="cpp"><pre class="language-cpp"><code>RecorderControl<span class="token operator">*</span> <span class="token class-name">RecorderControl</span><span class="token double-colon punctuation">::</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>instance<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">RecorderControl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 我在这里设置断点，但是看不到instance的值</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> instance<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>解决方法：</p><p>请确保在 <code>Variables</code> 窗口中找到并展开 <code>instance</code> 变量。如果你无法找到<code>instance</code>变量，请在<code>Watches</code>窗口中添加一个表达式<code>instance</code>，以便在调试过程中实时查看它的值。</p><h3 id="坑二" tabindex="-1"><a class="header-anchor" href="#坑二"><span>坑二</span></a></h3><p>我 add to watches 后，在程序中途pause后，变量查看不了。显示红色的：-var-create: unable to create vaiable object</p><p>解决方法：</p><p>之前 add to watch 的不对，应该直接在 <code>Watches</code> 窗口打：<code>RecorderControl::instance</code> 追踪，而不是在断点时打 <code>instance</code>。 另外其实并不需要额外断点</p><h2 id="clion五种运行模式" tabindex="-1"><a class="header-anchor" href="#clion五种运行模式"><span>clion五种运行模式</span></a></h2><ul><li>普通运行 <ul><li>提示：Run &#39;ProjectName&#39;</li><li>图标：三角形</li></ul></li><li>普通调试 <ul><li>提示：Debug &#39;ProjectName&#39;</li><li>图标：虫子</li></ul></li><li>0 <ul><li>提示：Run &#39;ProjectName&#39; with Coverage</li><li>图标：盾牌+三角</li></ul></li><li>0 <ul><li>提示：Profile &#39;ProjectName&#39;</li><li>图标：时钟+三角</li></ul></li><li>0 <ul><li>提示：Run &#39;ProjectName&#39; with Valgrind Memcheck</li><li>图标：内存+三角</li><li>功能：可以帮助检测内存错误</li></ul></li></ul><h2 id="clion的git栏" tabindex="-1"><a class="header-anchor" href="#clion的git栏"><span>clion的git栏</span></a></h2><p>右上角一共五个图标，还有左下角的一个git页面展开</p><h2 id="clion交叉编译-wsl" tabindex="-1"><a class="header-anchor" href="#clion交叉编译-wsl"><span>clion交叉编译（wsl）</span></a></h2><h3 id="clion准备" tabindex="-1"><a class="header-anchor" href="#clion准备"><span>clion准备</span></a></h3><p>clion中打开 File -&gt; Settings -&gt; Build, Execution, Deployment -&gt; 设置WSL的工具链</p><p>刚开始可能会发生一些问题，找不到对应的东西</p><ul><li>找不到 Toolset，则需要在windows上安装一个wsl。教程见后文</li><li>找不到 CMake，则需要在WSL里面安装一个。教程见后文</li><li>找不到 Build Tool、C编译器、C++编译器。同理在WSL里面安装</li><li>找不到 Debugger GDB。同理在WSL里面安装</li></ul><p>设置页面工具都找到了，也可能会遇到编译不了的问题</p><ul><li>例如版本不对，需要升级cmake版本</li></ul><h3 id="安装wsl" tabindex="-1"><a class="header-anchor" href="#安装wsl"><span>安装WSL</span></a></h3><p>略，上网找教程</p><h3 id="wsl上安装cmake" tabindex="-1"><a class="header-anchor" href="#wsl上安装cmake"><span>WSL上安装CMake</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>$ <span class="token function">sudo</span> <span class="token function">passwd</span> root <span class="token comment"># 创建root用户 </span>
$ <span class="token function">su</span> <span class="token comment"># 切换成root用户（回车后填密码）</span>

$ <span class="token function">sudo</span> <span class="token function">apt-get</span> update <span class="token comment"># 最好先更新一下apt版本，不然后面的安装可能会报错</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>Ubuntu Linux 有一个与众不同的特点，那就是初次使用时，你无法作为 root 来登录系统，为什么会这样？这就要从系统的安装说起。对于其他 Linux 系统来说，一般在安装过程就设定 root 密码，这样用户就能用它登录 root 帐户或使用 su [<strong>su - root</strong>] 命令转换到超级用户身份。</p><p>与之相反，Ubuntu 默认安装时，并没有给 root 用户设置口令，也没有启用 root 帐户。问题是要想作为 root 用户来运行命令该怎么办呢？没关系，我们可以使用 sudo 命令达此目的。</p><p>sudo 是 linux 下常用的允许普通用户使用超级用户权限的工具，该命令为管理员提供了一种细颗粒度的访问控制方法，通过它人们既可以作为超级用户又可以作为其它类型的用户来访问系统。这样做的好处是，管理员能够在不告诉用户 root 密码的前提下，授予他们某些特定类型的超级用户权限，这正是许多系统管理员所梦寐以求的。</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>$ camke <span class="token parameter variable">--version</span> <span class="token comment"># 查看下版本，顺便获取安装提示</span>
$ <span class="token function">apt</span> <span class="token function">install</span> cmake <span class="token comment"># 安装cmake</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="wsl上安装-build-tool、c编译器、c-编译器" tabindex="-1"><a class="header-anchor" href="#wsl上安装-build-tool、c编译器、c-编译器"><span>WSL上安装 Build Tool、C编译器、C++编译器</span></a></h3><p>c编译器和c++编译器通常为gcc.exe和g++.exe</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>$ gcc <span class="token parameter variable">--version</span>
$ <span class="token function">apt</span> <span class="token function">install</span> gcc
$ g++ <span class="token parameter variable">--version</span>
$ <span class="token function">apt</span> <span class="token function">install</span> g++
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="wsl上安装gdp" tabindex="-1"><a class="header-anchor" href="#wsl上安装gdp"><span>WSL上安装gdp</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>$ gdb <span class="token parameter variable">--version</span> <span class="token comment"># 查看下版本，顺便获取安装提示</span>
$ <span class="token function">apt</span> <span class="token function">install</span> gdb
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="wsl升级cmake" tabindex="-1"><a class="header-anchor" href="#wsl升级cmake"><span>WSL升级cmake</span></a></h3><p>cmake官网：https://cmake.org/files/（可找对应版本的二进制）</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>$ cmake <span class="token parameter variable">--version</span>
$ <span class="token function">rm</span> <span class="token parameter variable">-rf</span> /usr/bin/cmake <span class="token comment"># 卸载cmake。不要用 \`apt-get autoremove cmake\`，可能会将之前安装的ros很多库都删除了</span>
$ <span class="token function">wget</span> https://cmake.org/files/v3.16/cmake-3.16.8-Linux-x86_64.tar.gz <span class="token comment"># 下载cmake的安装包</span>
<span class="token comment"># https://cmake.org/files/v3.23/cmake-3.23.0-linux-x86_64.tar.gz，备用，3.23版本的</span>
$ <span class="token function">tar</span> zxvf cmake-3.16.8-Linux-x86_64.tar.gz <span class="token comment"># 解压，注意压缩包内容编译过了，解压即可用</span>
$ <span class="token function">sudo</span> <span class="token function">ln</span> /home/shl/tools/cmake-3.16.8-Linux-x86_64/bin/cmake /usr/bin/cmake <span class="token comment"># 建立硬链接，不要加-s变成软链接，clion好像识别不到</span>
$ cmake <span class="token parameter variable">--version</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>更新cmake以后可能有个bug：c工具报错：<code>Test CMake run finished with error</code>。应该是版本不对的原因</p><h3 id="wsl升级其他" tabindex="-1"><a class="header-anchor" href="#wsl升级其他"><span>WSL升级其他</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># 首先，确保你使用的是 WSL2 ，而不是 WSL1。如果你没有安装或更新到 WSL2，请按照[微软官方文档](https://docs.microsoft.com/zh-cn/windows/wsl/install-win10)进行配置。</span>

<span class="token function">sudo</span> <span class="token function">apt</span> update
<span class="token function">sudo</span> <span class="token function">apt</span> upgrade

<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> build-essential <span class="token comment"># 安装或更新 GCC 和 G++</span>

gcc <span class="token parameter variable">--version</span>
g++ <span class="token parameter variable">--version</span>
cmake <span class="token parameter variable">--version</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="高效断点技巧" tabindex="-1"><a class="header-anchor" href="#高效断点技巧"><span>高效断点技巧</span></a></h2><p>参考：B站“聊聊编程”</p><ol><li>条件断点，在断点的红点上右键，可以输入例如 <code>i==5</code>，这样可以在循环的某个part快速断点</li><li>根据线程断点，断点Config为 <code>Thread.currentThread().getName().equals(&quot;Thread1)&quot;</code></li></ol><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token class-name">Thread</span> thread1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>myThread<span class="token punctuation">,</span> <span class="token string">&quot;Thread1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;进入=====&quot;</span><span class="token punctuation">)</span> <span class="token comment">// 断点行</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>集合的Stream， 在开始调试后，可以点击 <code>IJ</code>(idea) 下面的一个按钮 <code>Trace Current Stream Chain</code>，会弹出一个窗口。然后会呈现出这个流的各种操作 <strong>（可以看到 map、filter、map、collect 的每一步的过程）</strong></li></ol><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span>string<span class="token punctuation">&gt;</span></span> clooect <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 断点行</span>
	<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">Interger</span><span class="token operator">::</span><span class="token function">parseInt</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>map<span class="token operator">::</span><span class="token function">containsKey</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>map<span class="token operator">::</span><span class="token function">get</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>collect<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="wsl" tabindex="-1"><a class="header-anchor" href="#wsl"><span>WSL</span></a></h2><p>我将他们都手动指定路径了：</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>Name: WSL
Toolset: Ubuntu-20.04
CMake: /usr/bin/cmake
Build Tool: /usr/bin/make
C Compiler: /usr/bin/gcc
C++ Compiler: /usr/bin/g++
Debugger: /usr/bin/gbd
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>但是会有错误：Test CMake run finished with errors</p><p>尝试手动安装cmake：https://github.com/Kitware/CMake/releases/download/v3.26.4/cmake-3.26.4-linux-x86_64.tar.gz</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>wget https://github.com/Kitware/CMake/releases/download/v3.23.0/cmake-3.23.0-linux-x86_64.tar.gz
tar -zxvf cmake-3.23.0-linux-x86_64.tar.gz
sudo mv cmake-3.23.0-linux-x86_64 /opt/cmake-3.23.0
sudo ln -s /opt/cmake-3.23.0/bin/* /usr/local/bin
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,51)]))}const p=a(l,[["render",i],["__file","调试技巧（clion）.html.vue"]]),d=JSON.parse('{"path":"/MdNote_Public/01.%20DesignAndDevelop/Develop/03.%20Tools/03.%20%E5%BC%80%E5%8F%91%E5%B1%82/%E8%B0%83%E8%AF%95%E5%B7%A5%E5%85%B7/IDE%E8%B0%83%E8%AF%95%E5%B7%A5%E5%85%B7/%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7%EF%BC%88clion%EF%BC%89.html","title":"","lang":"zh-CN","frontmatter":{"description":"随时暂停以查看线程树 一些断点技巧 add to watches 以随时查看单例模式 add to watches 以随时查看单例模式 中途踩了个坑： 坑一 解决方法： 请确保在 Variables 窗口中找到并展开 instance 变量。如果你无法找到instance变量，请在Watches窗口中添加一个表达式instance，以便在调试过程中实时...","head":[["meta",{"property":"og:url","content":"https://LincZero.github.io/MdNote_Public/01.%20DesignAndDevelop/Develop/03.%20Tools/03.%20%E5%BC%80%E5%8F%91%E5%B1%82/%E8%B0%83%E8%AF%95%E5%B7%A5%E5%85%B7/IDE%E8%B0%83%E8%AF%95%E5%B7%A5%E5%85%B7/%E8%B0%83%E8%AF%95%E6%8A%80%E5%B7%A7%EF%BC%88clion%EF%BC%89.html"}],["meta",{"property":"og:site_name","content":"Linc 的小站"}],["meta",{"property":"og:description","content":"随时暂停以查看线程树 一些断点技巧 add to watches 以随时查看单例模式 add to watches 以随时查看单例模式 中途踩了个坑： 坑一 解决方法： 请确保在 Variables 窗口中找到并展开 instance 变量。如果你无法找到instance变量，请在Watches窗口中添加一个表达式instance，以便在调试过程中实时..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:author","content":"LincZero"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"LincZero\\",\\"url\\":\\"https://github.com/LincZero/\\"}]}"]]},"headers":[{"level":2,"title":"add to watches 以随时查看单例模式","slug":"add-to-watches-以随时查看单例模式","link":"#add-to-watches-以随时查看单例模式","children":[{"level":3,"title":"坑一","slug":"坑一","link":"#坑一","children":[]},{"level":3,"title":"坑二","slug":"坑二","link":"#坑二","children":[]}]},{"level":2,"title":"clion五种运行模式","slug":"clion五种运行模式","link":"#clion五种运行模式","children":[]},{"level":2,"title":"clion的git栏","slug":"clion的git栏","link":"#clion的git栏","children":[]},{"level":2,"title":"clion交叉编译（wsl）","slug":"clion交叉编译-wsl","link":"#clion交叉编译-wsl","children":[{"level":3,"title":"clion准备","slug":"clion准备","link":"#clion准备","children":[]},{"level":3,"title":"安装WSL","slug":"安装wsl","link":"#安装wsl","children":[]},{"level":3,"title":"WSL上安装CMake","slug":"wsl上安装cmake","link":"#wsl上安装cmake","children":[]},{"level":3,"title":"WSL上安装 Build Tool、C编译器、C++编译器","slug":"wsl上安装-build-tool、c编译器、c-编译器","link":"#wsl上安装-build-tool、c编译器、c-编译器","children":[]},{"level":3,"title":"WSL上安装gdp","slug":"wsl上安装gdp","link":"#wsl上安装gdp","children":[]},{"level":3,"title":"WSL升级cmake","slug":"wsl升级cmake","link":"#wsl升级cmake","children":[]},{"level":3,"title":"WSL升级其他","slug":"wsl升级其他","link":"#wsl升级其他","children":[]}]},{"level":2,"title":"高效断点技巧","slug":"高效断点技巧","link":"#高效断点技巧","children":[]},{"level":2,"title":"WSL","slug":"wsl","link":"#wsl","children":[]}],"git":{"createdTime":null,"updatedTime":null,"contributors":[]},"readingTime":{"minutes":4.7,"words":1411},"filePathRelative":"MdNote_Public/01. DesignAndDevelop/Develop/03. Tools/03. 开发层/调试工具/IDE调试工具/调试技巧（clion）.md","excerpt":"<ul>\\n<li>随时暂停以查看线程树</li>\\n<li>一些断点技巧\\n<ul>\\n<li>add to watches 以随时查看单例模式</li>\\n</ul>\\n</li>\\n</ul>\\n<h2>add to watches 以随时查看单例模式</h2>\\n<p>中途踩了个坑：</p>\\n<h3>坑一</h3>\\n<div class=\\"language-cpp\\" data-ext=\\"cpp\\" data-title=\\"cpp\\"><pre class=\\"language-cpp\\"><code>RecorderControl<span class=\\"token operator\\">*</span> <span class=\\"token class-name\\">RecorderControl</span><span class=\\"token double-colon punctuation\\">::</span><span class=\\"token function\\">getInstance</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">{</span>\\n    <span class=\\"token keyword\\">if</span><span class=\\"token punctuation\\">(</span><span class=\\"token operator\\">!</span>instance<span class=\\"token punctuation\\">)</span> <span class=\\"token punctuation\\">{</span>\\n        instance <span class=\\"token operator\\">=</span> <span class=\\"token keyword\\">new</span> <span class=\\"token function\\">RecorderControl</span><span class=\\"token punctuation\\">(</span><span class=\\"token punctuation\\">)</span><span class=\\"token punctuation\\">;</span>  <span class=\\"token comment\\">// 我在这里设置断点，但是看不到instance的值</span>\\n    <span class=\\"token punctuation\\">}</span>\\n    <span class=\\"token keyword\\">return</span> instance<span class=\\"token punctuation\\">;</span>\\n<span class=\\"token punctuation\\">}</span>\\n</code></pre></div>","autoDesc":true}');export{p as comp,d as data};
