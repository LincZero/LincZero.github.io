import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as t,c as i,e as l}from"./app-CoO7IlkE.js";const r="/assets/Image00009-BeSAHdha.jpg",a="/assets/Image00012-D1DDjjgy.jpg",n="/assets/Image00016-Cc93Y9QO.jpg",o={},s=l('<h1 id="主流包处理硬件平台" tabindex="-1"><a class="header-anchor" href="#主流包处理硬件平台"><span>主流包处理硬件平台</span></a></h1><h2 id="三种硬件平台-简概" tabindex="-1"><a class="header-anchor" href="#三种硬件平台-简概"><span>三种硬件平台 - 简概</span></a></h2><h3 id="各有优势" tabindex="-1"><a class="header-anchor" href="#各有优势"><span>各有优势</span></a></h3><p>而对于<strong>数据包处理</strong>，主流硬件平台大致可分为三个方向，各有优势：</p><ul><li>硬件加速器 <ul><li>对于本身规模化的固化功能具有高性能低成本的特点</li></ul></li><li>网络处理器（NPU，Network Processer Unit） <ul><li>提供了包处理逻辑软件可编程的能力，在获得灵活性的同时兼顾了高性能的硬件包处理</li></ul></li><li>多核处理器 <ul><li>在更为复杂多变的高层包处理上拥有优势，随着包处理的开源生态系统逐渐丰富，以及近年来性能的不断提升，其为软件定义的包处理提供了快速迭代的平台</li><li><strong>DPDK所属类别</strong></li></ul></li></ul><h3 id="三种平台的融合" tabindex="-1"><a class="header-anchor" href="#三种平台的融合"><span>三种平台的融合</span></a></h3><p>随着现代处理器的创新与发展（如异构化），开始集成新的加速处理与高速IO单元，它们互相之间不断地融合。</p><p>在一些<em>多核处理器</em>中，已能看到<em>硬件加速单元</em>的身影。</p><ul><li>从软件包处理的角度，可以卸载部分功能到那些硬件加速单元进一步提升性能瓶颈；</li><li>从硬件包处理的流水线来看，多核上运行的软件完成了难以固化的上层多变逻辑的任务；</li></ul><p>二者相得益彰。</p><h2 id="三种硬件平台-详细" tabindex="-1"><a class="header-anchor" href="#三种硬件平台-详细"><span>三种硬件平台 - 详细</span></a></h2><h3 id="硬件加速器" tabindex="-1"><a class="header-anchor" href="#硬件加速器"><span>硬件加速器</span></a></h3><p>硬件加速器被广泛应用于包处理领域，ASIC 和 FPGA 是其中最广为采用的器件。</p><ul><li><p><strong>专用集成电路（ASIC，Application-Specific Integrated Circuit）</strong></p><ul><li>特点：是一种应特定用户要求和特定电子系统的需要而设计、制造的集成电路。</li><li>优点：ASIC的优点是面向特定用户的需求，在批量生产时与通用集成电路相比体积更小、功耗更低、可靠性提高、性能提高、保密性增强、成本降低等。</li><li>缺点：但ASIC的缺点也很明显，它的灵活性和扩展性不够、开发费用高、开发周期长。 为了弥补本身的一些缺点，ASIC越来越多地按照加速引擎的思路来构建，结合通用处理器的特点，融合成片上系统（SoC）提供异构处理能力，使得ASIC带上了智能（Smart）的标签。</li></ul></li><li><p><strong>可编程门阵列（FPGA，Field-Programmable Gate Array）</strong></p><ul><li><p>特点：它作为ASIC领域中的一种<strong>半定制电路</strong>而出现。</p><p>FPGA以并行运算为主，其开发相对于传统PC、单片机的开发有很大不同，以硬件描述语言（Verilog或VHDL）来实现。相比于PC或单片机（无论是冯·诺依曼结构还是哈佛结构）的顺序操作有很大区别。</p></li><li><p>优点：与ASIC的区别是用户不需要介入芯片的布局布线和工艺问题，而且可以随时改变其逻辑功能，使用灵活。</p></li><li><p>场景：全可编程FPGA概念的提出，使FPGA朝着进一步软化的方向持续发展，其并行化整数运算的能力将进一步在通用计算定制化领域得到挖掘，近年来在数据中心中取得了很大进展，比如应用于机器学习场合。我们预计FPGA在包处理的应用场景将会从通信领域（CT）越来越多地走向数据中心和云计算领域。</p></li></ul></li></ul><h3 id="网络处理器-npu-network-processer-unit-粗" tabindex="-1"><a class="header-anchor" href="#网络处理器-npu-network-processer-unit-粗"><span>网络处理器（NPU，Network Processer Unit）（粗）</span></a></h3><p>网络处理器是专门为处理数据包而设计的可编程通用处理器，采用多内核并行处理结构，其常被应用于通信领域的各种任务，比如包处理、协议分析、路由查找、声音/数据的汇聚、防火墙、QoS等。其通用性表现在执行逻辑由运行时加载的软件决定，用户使用专用指令集即微码（microcode）进行开发。其硬件体系结构大多采用高速的接口技术和总线规范，具有较高的I/O能力，使得包处理能力得到很大提升。除了这些特点外，NPU一般还包含多种不同性能的存储结构，对数据进行分类存储以适应不同的应用目的。NPU中也越来越多地集成进了一些专用硬件协处理器，可进一步提高片内系统性能。</p><p>图1-1是NP-5处理器架构框图，以EZCHIP公司的NP-5处理器架构为例，TOP部分为可编程部分，根据需要通过编写微码快速实现业务相关的包处理逻辑。NPU拥有高性能和高可编程性等诸多优点，但其成本和特定领域的特性限制了它的市场规模（一般应用于专用通信设备）。而不同厂商不同架构的NPU遵循的微码规范不尽相同，开发人员的成长以及生态系统的构建都比较困难。虽然一些NPU的微码也开始支持由高级语言（例如C）编译生成，但由于结构化语言本身原语并未面向包处理，使得转换后的效率并不理想。</p><figure><img src="'+r+'" alt="NP-5处理器架构框图" tabindex="0" loading="lazy"><figcaption>NP-5处理器架构框图</figcaption></figure><p>随着SDN对于可编程网络，特别是可编程数据面的要求，网络处理器也可能会迎来新的发展机遇，但依然需要解决好不同架构的底层抽象以及上层业务的语义抽象。</p><h3 id="多核处理器-粗" tabindex="-1"><a class="header-anchor" href="#多核处理器-粗"><span>多核处理器（粗）</span></a></h3><p>现代CPU性能的扩展主要通过<strong>多核</strong>的方式进行演进。这样利用通用处理器同样可以在一定程度上并行地处理网络负载。由于多核处理器在逻辑负载复杂的协议及应用层面上的处理优势，以及越来越强劲的数据面的支持能力，它在多种业务领域得到广泛的采用。再加上多年来围绕CPU已经建立起的大量成熟软件生态，多核处理器发展的活力和热度也是其他形态很难比拟的。图1-2是Intel双路服务器平台框图，描述了一个典型的双路服务器平台的多个模块，CPU、芯片组C612、内存和以太网控制器XL710构成了主要的数据处理通道。基于PCIe总线的I/O接口提供了大量的系统接口，为服务器平台引入了差异化的设计。</p><p>当前的多核处理器也正在走向<strong>SoC化</strong>，针对网络的SoC往往集成内存控制器、网络控制器，甚至是一些硬件加速处理引擎。</p><p>这里列出了一些主流厂商的多核处理器的SoC平台。</p><ul><li>IA multi-core Xeon</li><li>Tilear-TILE-Gx</li><li>Cavium Network-OCTEON&amp;OCTEON II</li><li>Freescale-QorIQ</li><li>NetLogic Microsystem-XLP</li></ul><figure><img src="'+a+'" alt="Intel双路服务器平台框图" tabindex="0" loading="lazy"><figcaption>Intel双路服务器平台框图</figcaption></figure><p>图1-3的Cavium OCTEON处理器框图以Cavium OCTEON多核处理器为例，它集成多个CPU核以及众多加速单元和网络接口，组成了一个片上系统（SoC）。在这些SoC上，对于可固化的处理（例如，流分类，QoS）交由加速单元完成，而对于灵活的业务逻辑则由众多的通用处理器完成，这种方式有效地融合了软硬件各自的优势。随着软件（例如，DPDK）在I/O性能提升上的不断创新，将多核处理器的竞争力提升到一个前所未有的高度，网络负载与虚拟化的融合又催生了NFV的潮流。</p><figure><img src="'+n+'" alt="Cavium OCTEON处理器框图" tabindex="0" loading="lazy"><figcaption>Cavium OCTEON处理器框图</figcaption></figure><p>更多内容请参考相关Cavium和Ezchip的信息（［Ref1-3］和［Ref1-4］）。</p>',28),E=[s];function p(c,B){return t(),i("div",null,E)}const A=e(o,[["render",p],["__file","01. 主流包处理硬件平台.html.vue"]]),d=JSON.parse('{"path":"/MdNote_Public/01.%20%E8%AE%BE%E8%AE%A1%E5%BC%80%E5%8F%91%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%94%9F%E4%BA%A7/Develop/02.%20Theory/Computer/03.%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%20-%20%E4%B8%93%E9%A2%98%E6%88%96%E5%AD%90%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%AD%97%E5%85%B8%E7%89%88/%E4%B8%8B%E5%B1%82%E7%9B%B8%E5%85%B3/Network/%E3%80%8ANFV%E7%9A%84%E5%9F%BA%E7%9F%B3_%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BADPDK%E3%80%8B/01.%20%E8%AE%A4%E8%AF%86DPDK/01.%20%E4%B8%BB%E6%B5%81%E5%8C%85%E5%A4%84%E7%90%86%E7%A1%AC%E4%BB%B6%E5%B9%B3%E5%8F%B0.html","title":"主流包处理硬件平台","lang":"zh-CN","frontmatter":{"description":"主流包处理硬件平台 三种硬件平台 - 简概 各有优势 而对于数据包处理，主流硬件平台大致可分为三个方向，各有优势： 硬件加速器 对于本身规模化的固化功能具有高性能低成本的特点 网络处理器（NPU，Network Processer Unit） 提供了包处理逻辑软件可编程的能力，在获得灵活性的同时兼顾了高性能的硬件包处理 多核处理器 在更为复杂多变的高层...","head":[["meta",{"property":"og:url","content":"http://192.168.0.101:8080/MdNote_Public/01.%20%E8%AE%BE%E8%AE%A1%E5%BC%80%E5%8F%91%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%94%9F%E4%BA%A7/Develop/02.%20Theory/Computer/03.%20%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%20-%20%E4%B8%93%E9%A2%98%E6%88%96%E5%AD%90%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%AD%97%E5%85%B8%E7%89%88/%E4%B8%8B%E5%B1%82%E7%9B%B8%E5%85%B3/Network/%E3%80%8ANFV%E7%9A%84%E5%9F%BA%E7%9F%B3_%E6%B7%B1%E5%85%A5%E6%B5%85%E5%87%BADPDK%E3%80%8B/01.%20%E8%AE%A4%E8%AF%86DPDK/01.%20%E4%B8%BB%E6%B5%81%E5%8C%85%E5%A4%84%E7%90%86%E7%A1%AC%E4%BB%B6%E5%B9%B3%E5%8F%B0.html"}],["meta",{"property":"og:site_name","content":"Linc 的小站"}],["meta",{"property":"og:title","content":"主流包处理硬件平台"}],["meta",{"property":"og:description","content":"主流包处理硬件平台 三种硬件平台 - 简概 各有优势 而对于数据包处理，主流硬件平台大致可分为三个方向，各有优势： 硬件加速器 对于本身规模化的固化功能具有高性能低成本的特点 网络处理器（NPU，Network Processer Unit） 提供了包处理逻辑软件可编程的能力，在获得灵活性的同时兼顾了高性能的硬件包处理 多核处理器 在更为复杂多变的高层..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:author","content":"LincZero"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"主流包处理硬件平台\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"LincZero\\",\\"url\\":\\"https://github.com/LincZero/\\"}]}"]]},"headers":[{"level":1,"title":"主流包处理硬件平台","slug":"主流包处理硬件平台","link":"#主流包处理硬件平台","children":[{"level":2,"title":"三种硬件平台 - 简概","slug":"三种硬件平台-简概","link":"#三种硬件平台-简概","children":[{"level":3,"title":"各有优势","slug":"各有优势","link":"#各有优势","children":[]},{"level":3,"title":"三种平台的融合","slug":"三种平台的融合","link":"#三种平台的融合","children":[]}]},{"level":2,"title":"三种硬件平台 - 详细","slug":"三种硬件平台-详细","link":"#三种硬件平台-详细","children":[{"level":3,"title":"硬件加速器","slug":"硬件加速器","link":"#硬件加速器","children":[]},{"level":3,"title":"网络处理器（NPU，Network Processer Unit）（粗）","slug":"网络处理器-npu-network-processer-unit-粗","link":"#网络处理器-npu-network-processer-unit-粗","children":[]},{"level":3,"title":"多核处理器（粗）","slug":"多核处理器-粗","link":"#多核处理器-粗","children":[]}]}]}],"git":{"createdTime":null,"updatedTime":null,"contributors":[]},"readingTime":{"minutes":6.63,"words":1989},"filePathRelative":"MdNote_Public/01. 设计开发与数据生产/Develop/02. Theory/Computer/03. 计算机系统 - 专题或子系统的字典版/下层相关/Network/《NFV的基石_深入浅出DPDK》/01. 认识DPDK/01. 主流包处理硬件平台.md","autoDesc":true}');export{A as comp,d as data};
