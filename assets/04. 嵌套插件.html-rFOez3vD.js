import{_ as n,e as o,f as i,g as a,j as t,h as l,i as p,r,o as d}from"./app-EuS-Ookm.js";const h={};function k(B,e){const s=r("RouteLink");return d(),o("div",null,[e[5]||(e[5]=i("h1",{id:"嵌套插件",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#嵌套插件"},[i("span",null,"嵌套插件")])],-1)),e[6]||(e[6]=i("p",null,"NoneBot 支持嵌套插件，即一个插件可以包含其他插件。通过这种方式，我们可以将一个大型插件拆分成多个功能子插件，使得插件更加清晰、易于维护。我们可以直接在插件中使用 NoneBot 加载插件的方法来加载子插件。",-1)),e[7]||(e[7]=i("h2",{id:"创建嵌套插件",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#创建嵌套插件"},[i("span",null,"创建嵌套插件")])],-1)),i("p",null,[e[1]||(e[1]=t("我们可以在使用 ")),e[2]||(e[2]=i("code",null,"nb-cli",-1)),e[3]||(e[3]=t(" 命令")),l(s,{to:"/MdNote_Public/01.%20DesignAndDevelop/Develop/04.%20Project/Platform/SoftCode/ChatBot/NoneBot2/version-2.4.1/02.%20%E6%8C%87%E5%8D%97/04.%20%E6%8F%92%E4%BB%B6%E7%BC%96%E5%86%99%E5%87%86%E5%A4%87.html#%E5%88%9B%E5%BB%BA%E6%8F%92%E4%BB%B6"},{default:p(()=>e[0]||(e[0]=[t("创建插件")])),_:1}),e[4]||(e[4]=t("时，选择直接通过模板创建一个嵌套插件："))]),e[8]||(e[8]=a(`<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nb</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> plugin</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> create</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[?] 插件名称: parent</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[?] 使用嵌套插件? (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">y/N</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) Y</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[?] 输出目录: awesome_bot/plugins</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>或者使用 <code>nb plugin create --sub-plugin</code> 选项直接创建一个嵌套插件。</p><h2 id="已有插件" tabindex="-1"><a class="header-anchor" href="#已有插件"><span>已有插件</span></a></h2><p>如果你已经有一个插件，想要在其中嵌套加载子插件，可以在插件的 <code>__init__.py</code> 中添加如下代码：</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" data-title="python" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> nonebot</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> pathlib </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> Path</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">sub_plugins </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> nonebot.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">load_plugins</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">    str</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">Path</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">__file__</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).parent.</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">joinpath</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;plugins&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">resolve</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">())</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这样，<code>parent</code> 插件就会加载 <code>parent/plugins</code> 目录下的所有插件。NoneBot 会正确识别这些插件的父子关系，你可以在 <code>parent</code> 的插件信息中看到这些子插件的信息，也可以在子插件信息中看到它们的父插件信息。</p>`,6))])}const g=n(h,[["render",k],["__file","04. 嵌套插件.html.vue"]]),v=JSON.parse('{"path":"/MdNote_Public/01.%20DesignAndDevelop/Develop/04.%20Project/Platform/SoftCode/ChatBot/NoneBot2/version-2.4.1/04.%20%E8%BF%9B%E9%98%B6/04.%20%E5%B5%8C%E5%A5%97%E6%8F%92%E4%BB%B6.html","title":"嵌套插件","lang":"zh-CN","frontmatter":{"sidebar_position":3,"description":"编写与加载嵌套插件","options":{"menu":[{"category":"advanced","weight":40}]},"head":[["meta",{"property":"og:url","content":"https://LincZero.github.io/MdNote_Public/01.%20DesignAndDevelop/Develop/04.%20Project/Platform/SoftCode/ChatBot/NoneBot2/version-2.4.1/04.%20%E8%BF%9B%E9%98%B6/04.%20%E5%B5%8C%E5%A5%97%E6%8F%92%E4%BB%B6.html"}],["meta",{"property":"og:site_name","content":"Linc 的小站"}],["meta",{"property":"og:title","content":"嵌套插件"}],["meta",{"property":"og:description","content":"编写与加载嵌套插件"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"嵌套插件\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"LincZero\\",\\"url\\":\\"https://github.com/LincZero/\\"}]}"]]},"git":{},"readingTime":{"minutes":1.12,"words":336},"filePathRelative":"MdNote_Public/01. DesignAndDevelop/Develop/04. Project/Platform/SoftCode/ChatBot/NoneBot2/version-2.4.1/04. 进阶/04. 嵌套插件.md","excerpt":"\\n<p>NoneBot 支持嵌套插件，即一个插件可以包含其他插件。通过这种方式，我们可以将一个大型插件拆分成多个功能子插件，使得插件更加清晰、易于维护。我们可以直接在插件中使用 NoneBot 加载插件的方法来加载子插件。</p>\\n<h2>创建嵌套插件</h2>\\n<p>我们可以在使用 <code>nb-cli</code> 命令<a href=\\"/MdNote_Public/01.%20DesignAndDevelop/Develop/04.%20Project/Platform/SoftCode/ChatBot/NoneBot2/version-2.4.1/02.%20%E6%8C%87%E5%8D%97/04.%20%E6%8F%92%E4%BB%B6%E7%BC%96%E5%86%99%E5%87%86%E5%A4%87.html#%E5%88%9B%E5%BB%BA%E6%8F%92%E4%BB%B6\\" target=\\"_blank\\">创建插件</a>时，选择直接通过模板创建一个嵌套插件：</p>","bioChainData":{"outlink":[{"title":"04. 插件编写准备","link":"MdNote_Public/01. DesignAndDevelop/Develop/04. Project/Platform/SoftCode/ChatBot/NoneBot2/version-2.4.1/02. 指南/04. 插件编写准备.html"}],"backlink":[{"title":"04. 插件编写准备","link":"MdNote_Public/01. DesignAndDevelop/Develop/04. Project/Platform/SoftCode/ChatBot/NoneBot2/version-2.4.1/02. 指南/04. 插件编写准备.html"}],"localMap":{"nodes":[{"id":"MdNote_Public/01. DesignAndDevelop/Develop/04. Project/Platform/SoftCode/ChatBot/NoneBot2/version-2.4.1/04. 进阶/04. 嵌套插件.md","value":{"title":"04. 嵌套插件","path":"MdNote_Public/01. DesignAndDevelop/Develop/04. Project/Platform/SoftCode/ChatBot/NoneBot2/version-2.4.1/04. 进阶/04. 嵌套插件.md","outlink":["MdNote_Public/01. DesignAndDevelop/Develop/04. Project/Platform/SoftCode/ChatBot/NoneBot2/version-2.4.1/02. 指南/04. 插件编写准备.md"],"backlink":["MdNote_Public/01. DesignAndDevelop/Develop/04. Project/Platform/SoftCode/ChatBot/NoneBot2/version-2.4.1/02. 指南/04. 插件编写准备.md"]}},{"id":"MdNote_Public/01. DesignAndDevelop/Develop/04. Project/Platform/SoftCode/ChatBot/NoneBot2/version-2.4.1/02. 指南/04. 插件编写准备.md","value":{"title":"04. 插件编写准备","path":"MdNote_Public/01. DesignAndDevelop/Develop/04. Project/Platform/SoftCode/ChatBot/NoneBot2/version-2.4.1/02. 指南/04. 插件编写准备.md","outlink":[],"backlink":[]}}],"links":[{"source":"MdNote_Public/01. DesignAndDevelop/Develop/04. Project/Platform/SoftCode/ChatBot/NoneBot2/version-2.4.1/04. 进阶/04. 嵌套插件.md","target":"MdNote_Public/01. DesignAndDevelop/Develop/04. Project/Platform/SoftCode/ChatBot/NoneBot2/version-2.4.1/02. 指南/04. 插件编写准备.md"},{"source":"MdNote_Public/01. DesignAndDevelop/Develop/04. Project/Platform/SoftCode/ChatBot/NoneBot2/version-2.4.1/02. 指南/04. 插件编写准备.md","target":"MdNote_Public/01. DesignAndDevelop/Develop/04. Project/Platform/SoftCode/ChatBot/NoneBot2/version-2.4.1/04. 进阶/04. 嵌套插件.md"}]}}}');export{g as comp,v as data};
