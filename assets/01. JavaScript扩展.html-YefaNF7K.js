import{_ as i,c as r,a as s,b as a,d as t,e as o,o as l,r as c}from"./app-m8pBmpZD.js";const p={},d={href:"https://docs.comfy.org/essentials/javascript_hooks",target:"_blank",rel:"noopener noreferrer"},u={href:"https://docs.comfy.org/essentials/javascript_objects_and_hijacking",target:"_blank",rel:"noopener noreferrer"},v={href:"https://docs.comfy.org/essentials/javascript_examples",target:"_blank",rel:"noopener noreferrer"};function h(m,e){const n=c("ExternalLinkIcon");return l(),r("div",null,[e[7]||(e[7]=s('<h1 id="javascript-扩展" tabindex="-1"><a class="header-anchor" href="#javascript-扩展"><span>JavaScript 扩展</span></a></h1><h2 id="扩展舒适的客户端" tabindex="-1"><a class="header-anchor" href="#扩展舒适的客户端"><span>扩展舒适的客户端</span></a></h2><p>Comfy 可以通过扩展机制进行修改。要添加扩展，您需要：</p><ul><li>从 Python 模块导出 <code>WEB_DIRECTORY</code></li><li>将一个或多个 <code>.js</code> 文件放入该目录</li><li>用 <code>app.registerExtension</code> 注册您的扩展</li></ul>',4)),a("p",null,[e[3]||(e[3]=t("这三个步骤如下。一旦您知道如何添加扩展，请查看可以调用您代码的 ")),a("a",d,[e[0]||(e[0]=t("钩子")),o(n)]),e[4]||(e[4]=t("、您可能需要的各种 ")),a("a",u,[e[1]||(e[1]=t("Comfy 对象")),o(n)]),e[5]||(e[5]=t(" 的描述，或者直接跳转到一些 ")),a("a",v,[e[2]||(e[2]=t("示例代码片段")),o(n)]),e[6]||(e[6]=t("。"))]),e[8]||(e[8]=s(`<h3 id="导出-web-directory" tabindex="-1"><a class="header-anchor" href="#导出-web-directory"><span>导出 <code>WEB_DIRECTORY</code></span></a></h3><p>Comfy Web 客户端可以通过在自定义节点目录中创建一个子目录（通常称为 <code>js</code>）并导出 <code>WEB_DIRECTORY</code> 来扩展 - 因此您的 <code>__init_.py</code> 将包含类似以下内容的内容：</p><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code>WEB_DIRECTORY <span class="token operator">=</span> <span class="token string">&quot;./js&quot;</span>
__all__ <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;NODE_CLASS_MAPPINGS&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;NODE_DISPLAY_NAME_MAPPINGS&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;WEB_DIRECTORY&quot;</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="包含-js-文件" tabindex="-1"><a class="header-anchor" href="#包含-js-文件"><span>包含 <code>.js</code> 文件</span></a></h3><div class="callout" data-callout="tip"><div class="callout-title"><div class="callout-title-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-flame"><path d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z"></path></svg></div><div class="callout-title-inner">Tip</div></div><div class="callout-content"><p>所有 <code>Javascript.js</code> 文件将在 Comfy 网页加载时由浏览器加载。您不需要指定扩展程序所在的文件。</p></div></div><p><em>仅</em> <code>.js</code> 文件会添加到网页。其他资源（如 <code>.css</code> 文件）可以在 <code>extensions/custom_node_subfolder/the_file.css</code> 中访问并以编程方式添加</p><div class="callout" data-callout="warning"><div class="callout-title"><div class="callout-title-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-alert-triangle"><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"></path><path d="M12 9v4"></path><path d="M12 17h.01"></path></svg></div><div class="callout-title-inner">Warning</div></div><div class="callout-content"><p>该路径<em>不</em>包含子文件夹的名称。<code>WEB_DIRECTORY</code> 的值由服务器插入</p></div></div><h3 id="注册扩展" tabindex="-1"><a class="header-anchor" href="#注册扩展"><span>注册扩展</span></a></h3><p>扩展的基本结构如下：导入主 Comfy <code>app</code> 对象，然后调用 <code>app.registerExtension</code>，传递一个包含唯一 <code>name</code> 的字典，以及由 Comfy 代码中的钩子调用的一个或多个函数</p><p>一个完整的、繁琐的、烦人的扩展可能看起来像这样：</p><div class="language-Javascript line-numbers-mode" data-ext="Javascript" data-title="Javascript"><pre class="language-Javascript"><code>import { app } from &quot;../../scripts/app.js&quot;;
app.registerExtension({ 
	name: &quot;a.unique.name.for.a.useless.extension&quot;,
	async setup() { 
		alert(&quot;Setup complete!&quot;)
	},
})
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,11))])}const _=i(p,[["render",h],["__file","01. JavaScript扩展.html.vue"]]),f=JSON.parse('{"path":"/MdNote_Public/01.%20DesignAndDevelop/Develop/04.%20Project/Type/Script/Plugin_ComfyUI/03.%20%E5%AE%A2%E6%88%B7%E7%AB%AF%20(Javascript)/01.%20JavaScript%E6%89%A9%E5%B1%95.html","title":"JavaScript 扩展","lang":"zh-CN","frontmatter":{"description":"JavaScript 扩展 扩展舒适的客户端 Comfy 可以通过扩展机制进行修改。要添加扩展，您需要： 从 Python 模块导出 WEB_DIRECTORY 将一个或多个 .js 文件放入该目录 用 app.registerExtension 注册您的扩展 这三个步骤如下。一旦您知道如何添加扩展，请查看可以调用您代码的 钩子、您可能需要的各种 Co...","head":[["meta",{"property":"og:url","content":"https://LincZero.github.io/MdNote_Public/01.%20DesignAndDevelop/Develop/04.%20Project/Type/Script/Plugin_ComfyUI/03.%20%E5%AE%A2%E6%88%B7%E7%AB%AF%20(Javascript)/01.%20JavaScript%E6%89%A9%E5%B1%95.html"}],["meta",{"property":"og:site_name","content":"Linc 的小站"}],["meta",{"property":"og:title","content":"JavaScript 扩展"}],["meta",{"property":"og:description","content":"JavaScript 扩展 扩展舒适的客户端 Comfy 可以通过扩展机制进行修改。要添加扩展，您需要： 从 Python 模块导出 WEB_DIRECTORY 将一个或多个 .js 文件放入该目录 用 app.registerExtension 注册您的扩展 这三个步骤如下。一旦您知道如何添加扩展，请查看可以调用您代码的 钩子、您可能需要的各种 Co..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:author","content":"LincZero"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"JavaScript 扩展\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"LincZero\\",\\"url\\":\\"https://github.com/LincZero/\\"}]}"]]},"headers":[{"level":1,"title":"JavaScript 扩展","slug":"javascript-扩展","link":"#javascript-扩展","children":[{"level":2,"title":"扩展舒适的客户端","slug":"扩展舒适的客户端","link":"#扩展舒适的客户端","children":[{"level":3,"title":"导出 WEB_DIRECTORY","slug":"导出-web-directory","link":"#导出-web-directory","children":[]},{"level":3,"title":"包含 .js 文件","slug":"包含-js-文件","link":"#包含-js-文件","children":[]},{"level":3,"title":"注册扩展","slug":"注册扩展","link":"#注册扩展","children":[]}]}]}],"git":{"createdTime":null,"updatedTime":null,"contributors":[]},"readingTime":{"minutes":1.26,"words":378},"filePathRelative":"MdNote_Public/01. DesignAndDevelop/Develop/04. Project/Type/Script/Plugin_ComfyUI/03. 客户端 (Javascript)/01. JavaScript扩展.md","excerpt":"\\n<h2>扩展舒适的客户端</h2>\\n<p>Comfy 可以通过扩展机制进行修改。要添加扩展，您需要：</p>\\n<ul>\\n<li>从 Python 模块导出 <code>WEB_DIRECTORY</code></li>\\n<li>将一个或多个 <code>.js</code> 文件放入该目录</li>\\n<li>用 <code>app.registerExtension</code> 注册您的扩展</li>\\n</ul>\\n<p>这三个步骤如下。一旦您知道如何添加扩展，请查看可以调用您代码的 <a href=\\"https://docs.comfy.org/essentials/javascript_hooks\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">钩子</a>、您可能需要的各种 <a href=\\"https://docs.comfy.org/essentials/javascript_objects_and_hijacking\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">Comfy 对象</a> 的描述，或者直接跳转到一些 <a href=\\"https://docs.comfy.org/essentials/javascript_examples\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">示例代码片段</a>。</p>","autoDesc":true}');export{_ as comp,f as data};
