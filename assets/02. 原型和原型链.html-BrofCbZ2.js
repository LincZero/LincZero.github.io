import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as p,o,c,b as a,d as n,e as l,a as s}from"./app-CsHIiQ5U.js";const i="/assets/850375-20190708151024134-512558007-mMSEF3Ki.png",r="/assets/850375-20190708151322530-1608157973-DCI-oGUI.png",u="/assets/850375-20190708151615691-1017611190-CSKULcKm.png",d="/assets/850375-20190708152327825-11086376-uDhl6vX1.png",v="/assets/850375-20190708153139577-2105652554-DOIiLSln.png",k={},h=s(`<h1 id="javascript" tabindex="-1"><a class="header-anchor" href="#javascript"><span>JavaScript</span></a></h1><h1 id="目录" tabindex="-1"><a class="header-anchor" href="#目录"><span>目录</span></a></h1><h1 id="原型与原型链" tabindex="-1"><a class="header-anchor" href="#原型与原型链"><span>原型与原型链</span></a></h1><p>这算是JavaScript的一大特色 —— 继承与原型链</p><p>不同于基于类的语言 （如 Java 或 C++）。它是动态的，并且本身不提供一个 class 实现。 （在 ES2015/ES6 中引入了 class 关键字，但那只是语法糖，JavaScript 仍然是基于原型的）</p><ul><li>原型链</li></ul><p>每个实例对象（<code>object</code>）都有一个私有属性（称之为<code>__proto__</code>）指向它的构造函数的原型对象（<code>prototype</code>）</p><p>该原型对象也有一个自己的原型对象( <code>__proto__ </code>) ，层层向上直到一个对象的原型对象为<code>null</code></p><p>根据定义，<code>null</code>没有原型，并作为这个原型链中的最后一个环节</p><p>几乎所有<code>JavaScript</code>中的对象都是位于原型链顶端的<code>Object</code>的实例</p><ul><li>补充</li></ul><p>尽管这种原型继承通常被认为是 JavaScript 的弱点之一，但是原型继承模型本身实际上比经典模型更强大</p><p>例如，在原型模型的基础上构建经典模型相当简单</p><h2 id="prototype" tabindex="-1"><a class="header-anchor" href="#prototype"><span>prototype</span></a></h2><h3 id="概念" tabindex="-1"><a class="header-anchor" href="#概念"><span>概念</span></a></h3><p>在JavaScript中，每个函数都有一个prototype属性，这个属性指向函数的原型对象。</p><p>例如：</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age       
<span class="token punctuation">}</span>
<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;kavin&#39;</span>
<span class="token keyword">var</span> person1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> person2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person1<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">//kavin</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person2<span class="token punctuation">.</span>name<span class="token punctuation">)</span>  <span class="token comment">//kavin</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>上述例子中，函数的prototype指向了一个对象，而这个对象正是调用构造函数时创建的实例的原型，也就是person1和person2的原型</p><p>原型的概念：每一个javascript对象(除null外)创建的时候，就会与之关联另一个对象，这个对象就是我们所说的原型，每一个对象都会从原型中“继承”属性</p><h3 id="关系图" tabindex="-1"><a class="header-anchor" href="#关系图"><span>关系图</span></a></h3><figure><img src="`+i+`" alt="850375-20190708151024134-512558007" tabindex="0" loading="lazy"><figcaption>850375-20190708151024134-512558007</figcaption></figure><h2 id="proto" tabindex="-1"><a class="header-anchor" href="#proto"><span><code>__proto__</code></span></a></h2><h3 id="概念-1" tabindex="-1"><a class="header-anchor" href="#概念-1"><span>概念</span></a></h3><p>这是每个对象(除null外)都会有的属性，叫做<code>__proto__</code>，这个属性会指向该对象的原型</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>
<span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="关系图-1" tabindex="-1"><a class="header-anchor" href="#关系图-1"><span>关系图</span></a></h3><figure><img src="`+r+`" alt="850375-20190708151322530-1608157973" tabindex="0" loading="lazy"><figcaption>850375-20190708151322530-1608157973</figcaption></figure><h3 id="补充说明" tabindex="-1"><a class="header-anchor" href="#补充说明"><span>补充说明</span></a></h3><p>绝大部分浏览器都支持这个非标准的方法访问原型</p><p>然而它并不存在于<code>Person.prototype</code>中，实际上，它是来自于<code>Object.prototype</code>，与其说是一个属性，不如说是一个<code>getter/setter</code></p><p>当使用<code>obj.__proto__</code>时，可以理解成返回了<code>Object.getPrototypeOf(obj)</code></p><h2 id="constructor" tabindex="-1"><a class="header-anchor" href="#constructor"><span>constructor</span></a></h2><h3 id="概念-2" tabindex="-1"><a class="header-anchor" href="#概念-2"><span>概念</span></a></h3><p>每个原型都有一个constructor属性，指向该关联的构造函数。</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Person<span class="token operator">===</span><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor<span class="token punctuation">)</span>  <span class="token comment">//true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="关系图-2" tabindex="-1"><a class="header-anchor" href="#关系图-2"><span>关系图</span></a></h3><figure><img src="`+u+`" alt="850375-20190708151615691-1017611190" tabindex="0" loading="lazy"><figcaption>850375-20190708151615691-1017611190</figcaption></figure><h3 id="总结" tabindex="-1"><a class="header-anchor" href="#总结"><span>总结</span></a></h3><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>

<span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>__proto__ <span class="token operator">==</span> <span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">==</span> Person<span class="token punctuation">)</span> <span class="token comment">// true</span>
<span class="token comment">// 顺便学习一个ES5的方法,可以获得对象的原型</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="补充说明-1" tabindex="-1"><a class="header-anchor" href="#补充说明-1"><span>补充说明</span></a></h3><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>function Person() {

}
var person = new Person();
console.log(person.constructor === Person); // true
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>当获取<code>person.constructor</code>时，其实 person 中并没有 constructor 属性</p><p>当不能读取到constructor 属性时，会从 person 的原型也就是<code>Person.prototype</code>中读取，正好原型中有该属性</p><p>所以：</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>person.constructor === Person.prototype.constructor
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="实例与原型" tabindex="-1"><a class="header-anchor" href="#实例与原型"><span>实例与原型</span></a></h2><p>当读取实例的属性时，如果找不到，就会查找与对象关联的原型中的属性，如果还查不到，就去找原型的原型，一直找到最顶层为止。</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>

<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;Kevin&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

person<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&#39;Daisy&#39;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// Daisy</span>

<span class="token keyword">delete</span> person<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="原型的原型" tabindex="-1"><a class="header-anchor" href="#原型的原型"><span>原型的原型</span></a></h2><h3 id="概念-3" tabindex="-1"><a class="header-anchor" href="#概念-3"><span>概念</span></a></h3><p>在前面，我们已经讲了原型也是一个对象，既然是对象，我们就可以用最原始的方式创建它，那就是：</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>var obj = new Object();
obj.name = &#39;Kevin&#39;
console.log(obj.name) // Kevin
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>其实原型对象就是通过 Object 构造函数生成的，结合之前所讲，实例的 <strong>proto</strong> 指向构造函数的 prototype</p><h3 id="关系图-3" tabindex="-1"><a class="header-anchor" href="#关系图-3"><span>关系图</span></a></h3><figure><img src="`+d+`" alt="850375-20190708152327825-11086376" tabindex="0" loading="lazy"><figcaption>850375-20190708152327825-11086376</figcaption></figure><h2 id="原型链" tabindex="-1"><a class="header-anchor" href="#原型链"><span>原型链</span></a></h2><h3 id="概念-4" tabindex="-1"><a class="header-anchor" href="#概念-4"><span>概念</span></a></h3><blockquote><p>简单的回顾一下构造函数、原型和实例的关系：</p><p>每个构造函数都有一个原型对象，原型对象都包含一个指向构造函数的指针，而实例都包含一个指向原型对象的内部指针。</p><p>那么假如我们让原型对象等于另一个类型的实例，结果会怎样？</p><p>显然，此时的原型对象将包含一个指向另一个原型的指针，相应地，另一个原型中也包含着一个指向另一个构造函数的指针。</p><p>假如另一个原型又是另一个类型的实例，那么上述关系依然成立。</p><p>如此层层递进，就构成了实例与原型的链条。这就是所谓的原型链的基本概念。</p><p>——摘自《javascript高级程序设计》</p></blockquote><h3 id="null" tabindex="-1"><a class="header-anchor" href="#null"><span>NULL</span></a></h3><p>Object.prototype 的原型呢？</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,62),m={href:"http://www.ruanyifeng.com/blog/2014/03/undefined-vs-null.html",target:"_blank",rel:"noopener noreferrer"},g=s('<blockquote><p>null 表示“没有对象”，即该处不应该有值。</p></blockquote><p>所以<code>Object.prototype.__proto__</code>的值为<code>null</code>，跟<code>Object.prototype</code>没有原型，其实表达了一个意思。</p><p>所以查找属性的时候查到 Object.prototype 就可以停止查找了。</p><h3 id="关系图-4" tabindex="-1"><a class="header-anchor" href="#关系图-4"><span>关系图</span></a></h3><figure><img src="'+v+'" alt="850375-20190708153139577-2105652554" tabindex="0" loading="lazy"><figcaption>850375-20190708153139577-2105652554</figcaption></figure><p>图中由相互关联的原型组成的链状结构就是原型链，也就是蓝色的这条线。</p>',6);function b(_,f){const e=p("ExternalLinkIcon");return o(),c("div",null,[h,a("p",null,[n("引用阮一峰老师的 "),a("a",m,[n("《undefined与null的区别》"),l(e)]),n(" 就是：")]),g])}const x=t(k,[["render",b],["__file","02. 原型和原型链.html.vue"]]),j=JSON.parse('{"path":"/MdNote_Public/01.%20%E8%AE%BE%E8%AE%A1%E5%BC%80%E5%8F%91%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%94%9F%E4%BA%A7/Develop/01.%20Language/JavaScript/06.%20%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/02.%20%E5%8E%9F%E5%9E%8B%E5%92%8C%E5%8E%9F%E5%9E%8B%E9%93%BE.html","title":"JavaScript","lang":"zh-CN","frontmatter":{"description":"JavaScript 目录 原型与原型链 这算是JavaScript的一大特色 —— 继承与原型链 不同于基于类的语言 （如 Java 或 C++）。它是动态的，并且本身不提供一个 class 实现。 （在 ES2015/ES6 中引入了 class 关键字，但那只是语法糖，JavaScript 仍然是基于原型的） 原型链 每个实例对象（object）...","head":[["meta",{"property":"og:url","content":"http://192.168.0.101:8080/MdNote_Public/01.%20%E8%AE%BE%E8%AE%A1%E5%BC%80%E5%8F%91%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%94%9F%E4%BA%A7/Develop/01.%20Language/JavaScript/06.%20%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/02.%20%E5%8E%9F%E5%9E%8B%E5%92%8C%E5%8E%9F%E5%9E%8B%E9%93%BE.html"}],["meta",{"property":"og:site_name","content":"Linc 的小站"}],["meta",{"property":"og:title","content":"JavaScript"}],["meta",{"property":"og:description","content":"JavaScript 目录 原型与原型链 这算是JavaScript的一大特色 —— 继承与原型链 不同于基于类的语言 （如 Java 或 C++）。它是动态的，并且本身不提供一个 class 实现。 （在 ES2015/ES6 中引入了 class 关键字，但那只是语法糖，JavaScript 仍然是基于原型的） 原型链 每个实例对象（object）..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:author","content":"LincZero"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"JavaScript\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"LincZero\\",\\"url\\":\\"https://github.com/LincZero/\\"}]}"]]},"headers":[{"level":1,"title":"JavaScript","slug":"javascript","link":"#javascript","children":[]},{"level":1,"title":"目录","slug":"目录","link":"#目录","children":[]},{"level":1,"title":"原型与原型链","slug":"原型与原型链","link":"#原型与原型链","children":[{"level":2,"title":"prototype","slug":"prototype","link":"#prototype","children":[{"level":3,"title":"概念","slug":"概念","link":"#概念","children":[]},{"level":3,"title":"关系图","slug":"关系图","link":"#关系图","children":[]}]},{"level":2,"title":"__proto__","slug":"proto","link":"#proto","children":[{"level":3,"title":"概念","slug":"概念-1","link":"#概念-1","children":[]},{"level":3,"title":"关系图","slug":"关系图-1","link":"#关系图-1","children":[]},{"level":3,"title":"补充说明","slug":"补充说明","link":"#补充说明","children":[]}]},{"level":2,"title":"constructor","slug":"constructor","link":"#constructor","children":[{"level":3,"title":"概念","slug":"概念-2","link":"#概念-2","children":[]},{"level":3,"title":"关系图","slug":"关系图-2","link":"#关系图-2","children":[]},{"level":3,"title":"总结","slug":"总结","link":"#总结","children":[]},{"level":3,"title":"补充说明","slug":"补充说明-1","link":"#补充说明-1","children":[]}]},{"level":2,"title":"实例与原型","slug":"实例与原型","link":"#实例与原型","children":[]},{"level":2,"title":"原型的原型","slug":"原型的原型","link":"#原型的原型","children":[{"level":3,"title":"概念","slug":"概念-3","link":"#概念-3","children":[]},{"level":3,"title":"关系图","slug":"关系图-3","link":"#关系图-3","children":[]}]},{"level":2,"title":"原型链","slug":"原型链","link":"#原型链","children":[{"level":3,"title":"概念","slug":"概念-4","link":"#概念-4","children":[]},{"level":3,"title":"NULL","slug":"null","link":"#null","children":[]},{"level":3,"title":"关系图","slug":"关系图-4","link":"#关系图-4","children":[]}]}]}],"git":{"createdTime":null,"updatedTime":null,"contributors":[]},"readingTime":{"minutes":4.22,"words":1267},"filePathRelative":"MdNote_Public/01. 设计开发与数据生产/Develop/01. Language/JavaScript/06. 面向对象/02. 原型和原型链.md","autoDesc":true}');export{x as comp,j as data};
