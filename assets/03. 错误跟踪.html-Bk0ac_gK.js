import{_ as s,e as r,g as t,f as n,j as o,h as l,i as a,r as d,o as c}from"./app-EuS-Ookm.js";const p={};function h(m,e){const i=d("RouteLink");return c(),r("div",null,[e[5]||(e[5]=t('<h1 id="错误跟踪" tabindex="-1"><a class="header-anchor" href="#错误跟踪"><span>错误跟踪</span></a></h1><p>在应用实际运行过程中，可能会出现各种各样的错误。可能是由于代码逻辑错误，也可能是由于用户输入错误，甚至是由于第三方服务的错误。这些错误都会导致应用的运行出现问题，这时候就需要对错误进行跟踪，以便及时发现问题并进行修复。NoneBot 提供了 <code>nonebot-plugin-sentry</code> 插件，支持 <a href="https://sentry.io/" target="_blank" rel="noopener noreferrer">sentry</a> 平台，可以方便地进行错误跟踪。</p><h2 id="安装插件" tabindex="-1"><a class="header-anchor" href="#安装插件"><span>安装插件</span></a></h2>',3)),n("p",null,[e[1]||(e[1]=o("在使用前请先安装 ")),e[2]||(e[2]=n("code",null,"nonebot-plugin-sentry",-1)),e[3]||(e[3]=o(" 插件至项目环境中，可参考")),l(i,{to:"/MdNote_Public/01.%20DesignAndDevelop/Develop/04.%20Project/Platform/SoftCode/ChatBot/NoneBot2/version-2.4.1/02.%20%E6%8C%87%E5%8D%97/03.%20%E8%8E%B7%E5%8F%96%E5%95%86%E5%BA%97%E5%86%85%E5%AE%B9.mdx.html#%E5%AE%89%E8%A3%85%E6%8F%92%E4%BB%B6"},{default:a(()=>e[0]||(e[0]=[o("获取商店插件")])),_:1}),e[4]||(e[4]=o("来了解并选择安装插件的方式。如："))]),e[6]||(e[6]=t('<p>在<strong>项目目录</strong>下执行以下命令：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">nb</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> plugin</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nonebot-plugin-sentry</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="使用插件" tabindex="-1"><a class="header-anchor" href="#使用插件"><span>使用插件</span></a></h2><p>在安装完成之后，仅需要对插件进行简单的配置即可使用。</p><h3 id="获取-sentry-dsn" tabindex="-1"><a class="header-anchor" href="#获取-sentry-dsn"><span>获取 sentry DSN</span></a></h3><p>前往 <a href="https://sentry.io/" target="_blank" rel="noopener noreferrer">sentry</a> 平台，注册并创建一个新的项目，然后在项目设置中找到 <code>Client Keys (DSN)</code>，复制其中的 <code>DSN</code> 值。</p><h3 id="配置插件" tabindex="-1"><a class="header-anchor" href="#配置插件"><span>配置插件</span></a></h3><div class="hint-container caution"><p class="hint-container-title">注意</p><p>错误跟踪通常在生产环境中使用，因此开发环境中 <code>sentry_dsn</code> 留空即会停用插件。</p></div><p>在项目 dotenv 配置文件中添加以下配置即可使用：</p><div class="language-dotenv line-numbers-mode" data-highlighter="shiki" data-ext="dotenv" data-title="dotenv" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">SENTRY_DSN</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;your_sentry_dsn&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="配置项" tabindex="-1"><a class="header-anchor" href="#配置项"><span>配置项</span></a></h2><p>配置项具体含义参考 <a href="https://docs.sentry.io/platforms/python/configuration/options/" target="_blank" rel="noopener noreferrer">Sentry Docs</a>。</p><ul><li><code>sentry_dsn: str</code></li><li><code>sentry_debug: bool = False</code></li><li><code>sentry_release: str | None = None</code></li><li><code>sentry_release: str | None = None</code></li><li><code>sentry_environment: str | None = nonebot env</code></li><li><code>sentry_server_name: str | None = None</code></li><li><code>sentry_sample_rate: float = 1.</code></li><li><code>sentry_max_breadcrumbs: int = 100</code></li><li><code>sentry_attach_stacktrace: bool = False</code></li><li><code>sentry_send_default_pii: bool = False</code></li><li><code>sentry_in_app_include: List[str] = Field(default_factory=list)</code></li><li><code>sentry_in_app_exclude: List[str] = Field(default_factory=list)</code></li><li><code>sentry_request_bodies: str = &quot;medium&quot;</code></li><li><code>sentry_with_locals: bool = True</code></li><li><code>sentry_ca_certs: str | None = None</code></li><li><code>sentry_before_send: Callable[[Any, Any], Any | None] | None = None</code></li><li><code>sentry_before_breadcrumb: Callable[[Any, Any], Any | None] | None = None</code></li><li><code>sentry_transport: Any | None = None</code></li><li><code>sentry_http_proxy: str | None = None</code></li><li><code>sentry_https_proxy: str | None = None</code></li><li><code>sentry_shutdown_timeout: int = 2</code></li></ul>',13))])}const u=s(p,[["render",h],["__file","03. 错误跟踪.html.vue"]]),b=JSON.parse('{"path":"/MdNote_Public/01.%20DesignAndDevelop/Develop/04.%20Project/Platform/SoftCode/ChatBot/NoneBot2/version-2.4.1/05.%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/03.%20%E9%94%99%E8%AF%AF%E8%B7%9F%E8%B8%AA.html","title":"错误跟踪","lang":"zh-CN","frontmatter":{"sidebar_position":2,"description":"使用 sentry 进行错误跟踪","head":[["meta",{"property":"og:url","content":"https://LincZero.github.io/MdNote_Public/01.%20DesignAndDevelop/Develop/04.%20Project/Platform/SoftCode/ChatBot/NoneBot2/version-2.4.1/05.%20%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/03.%20%E9%94%99%E8%AF%AF%E8%B7%9F%E8%B8%AA.html"}],["meta",{"property":"og:site_name","content":"Linc 的小站"}],["meta",{"property":"og:title","content":"错误跟踪"}],["meta",{"property":"og:description","content":"使用 sentry 进行错误跟踪"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"错误跟踪\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"LincZero\\",\\"url\\":\\"https://github.com/LincZero/\\"}]}"]]},"git":{},"readingTime":{"minutes":1.53,"words":458},"filePathRelative":"MdNote_Public/01. DesignAndDevelop/Develop/04. Project/Platform/SoftCode/ChatBot/NoneBot2/version-2.4.1/05. 最佳实践/03. 错误跟踪.md","excerpt":"\\n<p>在应用实际运行过程中，可能会出现各种各样的错误。可能是由于代码逻辑错误，也可能是由于用户输入错误，甚至是由于第三方服务的错误。这些错误都会导致应用的运行出现问题，这时候就需要对错误进行跟踪，以便及时发现问题并进行修复。NoneBot 提供了 <code>nonebot-plugin-sentry</code> 插件，支持 <a href=\\"https://sentry.io/\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">sentry</a> 平台，可以方便地进行错误跟踪。</p>\\n<h2>安装插件</h2>\\n<p>在使用前请先安装 <code>nonebot-plugin-sentry</code> 插件至项目环境中，可参考<a href=\\"/MdNote_Public/01.%20DesignAndDevelop/Develop/04.%20Project/Platform/SoftCode/ChatBot/NoneBot2/version-2.4.1/02.%20%E6%8C%87%E5%8D%97/03.%20%E8%8E%B7%E5%8F%96%E5%95%86%E5%BA%97%E5%86%85%E5%AE%B9.mdx.html#%E5%AE%89%E8%A3%85%E6%8F%92%E4%BB%B6\\" target=\\"_blank\\">获取商店插件</a>来了解并选择安装插件的方式。如：</p>","bioChainData":{"outlink":[{"title":"03. 获取商店内容.mdx","link":"MdNote_Public/01. DesignAndDevelop/Develop/04. Project/Platform/SoftCode/ChatBot/NoneBot2/version-2.4.1/02. 指南/03. 获取商店内容.mdx.html"}],"backlink":[],"localMap":{"nodes":[{"id":"MdNote_Public/01. DesignAndDevelop/Develop/04. Project/Platform/SoftCode/ChatBot/NoneBot2/version-2.4.1/05. 最佳实践/03. 错误跟踪.md","value":{"title":"03. 错误跟踪","path":"MdNote_Public/01. DesignAndDevelop/Develop/04. Project/Platform/SoftCode/ChatBot/NoneBot2/version-2.4.1/05. 最佳实践/03. 错误跟踪.md","outlink":["MdNote_Public/01. DesignAndDevelop/Develop/04. Project/Platform/SoftCode/ChatBot/NoneBot2/version-2.4.1/02. 指南/03. 获取商店内容.mdx.md"],"backlink":[]}},{"id":"MdNote_Public/01. DesignAndDevelop/Develop/04. Project/Platform/SoftCode/ChatBot/NoneBot2/version-2.4.1/02. 指南/03. 获取商店内容.mdx.md","value":{"title":"03. 获取商店内容.mdx","path":"MdNote_Public/01. DesignAndDevelop/Develop/04. Project/Platform/SoftCode/ChatBot/NoneBot2/version-2.4.1/02. 指南/03. 获取商店内容.mdx.md","outlink":[],"backlink":[]}}],"links":[{"source":"MdNote_Public/01. DesignAndDevelop/Develop/04. Project/Platform/SoftCode/ChatBot/NoneBot2/version-2.4.1/05. 最佳实践/03. 错误跟踪.md","target":"MdNote_Public/01. DesignAndDevelop/Develop/04. Project/Platform/SoftCode/ChatBot/NoneBot2/version-2.4.1/02. 指南/03. 获取商店内容.mdx.md"}]}}}');export{u as comp,b as data};
