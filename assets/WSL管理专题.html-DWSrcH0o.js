import{_ as a,c as n,a as s,e as l,o as e}from"./app-Dnpl954R.js";const t={};function h(k,i){return e(),n("div",null,i[0]||(i[0]=[s("h1",{id:"wsl管理专题",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#wsl管理专题"},[s("span",null,"WSL管理专题")])],-1),s("h2",{id:"特性需求",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#特性需求"},[s("span",null,"特性需求")])],-1),s("p",null,"我使用虚拟机时，有一些需要的特性：",-1),s("div",{class:"ab-note drop-shadow"},[s("table",{class:"ab-table ab-branch-table"},[s("tbody",null,[s("tr",null,[s("td",{rowspan:"1",col_index:"0",class:"markdown-rendered"},[s("div",null,[s("p",null,"多个不同环境的虚拟机， 可以支持灵活且频繁地创建、销毁他们")])]),s("td",{rowspan:"1",col_index:"1",class:"markdown-rendered"},[s("div",null,[s("p",null,"虚拟机：可以")])]),s("td",{rowspan:"1",col_index:"2",class:"markdown-rendered"},[s("div",null,[s("p",null,"WSL：……")])])]),s("tr",null,[s("td",{rowspan:"1",col_index:"0",class:"markdown-rendered"},[s("div",null,[s("p",null,"环境的稳定性、易迁移性")])]),s("td",{rowspan:"1",col_index:"1",class:"markdown-rendered"},[s("div",null,[s("p",null,"虚拟机：Docker可以用镜像文件、其他虚拟机可以用Vagrant")])]),s("td",{rowspan:"1",col_index:"2",class:"markdown-rendered"},[s("div",null,[s("p",null,"WSL：……")])])]),s("tr",null,[s("td",{rowspan:"1",col_index:"0",class:"markdown-rendered"},[s("div",null,[s("p",null,"性能、显卡直连")])]),s("td",{rowspan:"1",col_index:"1",class:"markdown-rendered"},[s("div",null,[s("p",null,"虚拟机：……")])]),s("td",{rowspan:"1",col_index:"2",class:"markdown-rendered"},[s("div",null,[s("p",null,"WSL：更强，允许显卡直连")])])])])])],-1),l(`<p>关于虚拟机的部分，在其他位置的笔记中。这里只将WSL</p><h2 id="多系统管理" tabindex="-1"><a class="header-anchor" href="#多系统管理"><span><strong>多系统管理</strong></span></a></h2><p>仅参考：<a href="https://juejin.cn/post/7273026558398660648" target="_blank" rel="noopener noreferrer">在 Windows 中通过 WSL 2 高效使用 Docker</a></p><h3 id="多个wsl版本管理" tabindex="-1"><a class="header-anchor" href="#多个wsl版本管理"><span>多个wsl版本管理</span></a></h3><p>在开始之前惯例先检查下环境，如果没wsl环境，先去下载</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 版本</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;wsl -v</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">WSL</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 版本：</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2.0.9.0</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">内核版本：</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 5.15.133.1-1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">WSLg</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 版本：</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1.0.59</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">MSRDC</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 版本：</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1.2.4677</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Direct3D</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 版本：</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 1.611.1-81528511</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">DXCore</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 版本：</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 10.0.25131.1002-220531-1700.rs-onecore-base2-hyp</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Windows</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 版本：</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 10.0.22631.4169</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># v1和v2版本的切换</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> wsl</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --set-default-version</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 如果需要，wsl版本更新</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> wsl</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --update</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注意，由于我安装了docker desktop，默认wsl不是我一开始装的ubuntu了。此时如果运行 <code>wsl</code> 会存在问题，docker desktop那个版本最好别动，要 <code>-d</code> 指定进入ubuntu那个版本</p><h3 id="多个wsl系统管理" tabindex="-1"><a class="header-anchor" href="#多个wsl系统管理"><span>多个wsl系统管理</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 已经存在的wsl子系统</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;wsl -l -v</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  NAME</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">                   STATE</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">           VERSION</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">* docker-desktop-data    Stopped         2</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  Ubuntu</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">                 Stopped</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">         2</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  docker-desktop</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">         Stopped</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">         2</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 可以在线安装的列表</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 安装分发系统也可通过 Microsoft Store 搜索下载安装</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> wsl</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --list</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --online</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">以下是可安装的有效分发的列表。</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">使用</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;wsl.exe --install &lt;Distro&gt;&#39;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 安装。</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">NAME</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">                            FRIENDLY</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> NAME</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Ubuntu</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">                          Ubuntu</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Debian</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">                          Debian</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> GNU/Linux</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">kali-linux</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">                      Kali</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Linux</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Rolling</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Ubuntu-18.04</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">                    Ubuntu</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 18.04</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> LTS</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Ubuntu-20.04</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">                    Ubuntu</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 20.04</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> LTS</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Ubuntu-22.04</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">                    Ubuntu</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 22.04</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> LTS</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Ubuntu-24.04</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">                    Ubuntu</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 24.04</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> LTS</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">OracleLinux_7_9</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">                 Oracle</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Linux</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 7.9</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">OracleLinux_8_7</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">                 Oracle</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Linux</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 8.7</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">OracleLinux_9_1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">                 Oracle</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Linux</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 9.1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">openSUSE-Leap-15.6</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">              openSUSE</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Leap</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 15.6</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">SUSE-Linux-Enterprise-15-SP5</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    SUSE</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Linux</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Enterprise</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 15</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> SP5</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">SUSE-Linux-Enterprise-15-SP6</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    SUSE</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Linux</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Enterprise</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 15</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> SP6</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">openSUSE-Tumbleweed</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">             openSUSE</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Tumbleweed</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 登录到对应实例</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> wsl</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -d</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Distribution</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Nam</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">e&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>只安装配置内核包即可使用 Docker Desktop，但如果条件允许的情况下，最好还是装一个完整的 Linux 分发版本的子系统</p><h3 id="多个docker管理-docker-desktop" tabindex="-1"><a class="header-anchor" href="#多个docker管理-docker-desktop"><span>多个Docker管理 (docker desktop)</span></a></h3><p>需要注意：</p><blockquote><p>我一开始的理解：</p><ul><li>docker desktop 是 “虚拟机/子系统&quot; 上运行 “虚拟机/docker” 吗？ <ul><li>docker desktop 本质还是在wsl上运行（可以通过 <code>wsl -l -v</code> 命令验证，存在专门用于管理docker desktop的wsl系统）</li><li>但是却可以在不进入wsl环境的情况下直接执行docekr相关命令，就像docker直接安装在windows上</li><li>那为什么不直接在wsl环境下安装docker环境？而是要使用docker desktop？ （待补充）</li></ul></li></ul><p>问GPT：</p><p>Docker Desktop 在 Windows 上如何工作？</p><p>在 Windows 上，Docker Desktop 实际上是在一个轻量级的 Linux 虚拟机 (VM) 内部运行 Docker 引擎。这个 VM 通常使用的是 Hyper-V 技术，而不是 WSL（Windows Subsystem for Linux）直接运行。这意味着 Docker Desktop 在 Windows 上的工作方式是通过创建并管理一个虚拟机，在这个虚拟机中运行 Docker 引擎。</p><p>虽然 Docker Desktop 不是直接在 WSL 中运行的，但它确实可以与 WSL 一起工作。从 Windows 10 开始，Microsoft 引入了 WSL 2，WSL 2 使用了类似于 Docker Desktop 所用的 Hyper-V 后端技术。因此，如果你的系统支持并且启用了 WSL 2，那么你可以选择在 WSL 2 分布式环境中安装 Docker 引擎（如通过 Docker Engine for WSL），这样就可以在 WSL 2 环境中直接使用 Docker 功能，而不需要安装完整的 Docker Desktop。</p><p>为什么使用 Docker Desktop？</p><p>尽管可以在 WSL 中安装 Docker，但使用 Docker Desktop 有几个优点：</p><ul><li>集成度高：Docker Desktop 提供了一个统一的界面来管理 Docker 和 Kubernetes 环境。</li><li>易用性：对于初学者来说，Docker Desktop 提供了一个简单的方式来开始使用 Docker。</li><li>特性丰富：除了基本的容器管理外，Docker Desktop 还包括了像自动更新、团队协作工具集成等功能。</li><li>支持广泛：Docker Desktop 跨平台支持 Windows 和 macOS，提供了一致的体验。</li></ul></blockquote><p>下载完后，在非wsl环境 (在windows上) 也可以完美使用docker命令</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 版本检查</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> docker</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -v</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> version</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 24.0.6,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> build</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ed223bc</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># docker列表检查</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ps</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -a</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">CONTAINER</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ID</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   IMAGE</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">     COMMAND</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   CREATED</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   STATUS</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    PORTS</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">     NAMES</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> images</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [-q]</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">REPOSITORY</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">             TAG</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">       IMAGE</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ID</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">       CREATED</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">         SIZE</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">gitlab/gitlab-ce</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">       latest</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    0943abb03ebc</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">   11</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> months</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ago</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   2.87GB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">gitlab/gitlab-runner</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   latest</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    982f26ce4e50</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">   11</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> months</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ago</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">   760MB</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="管理-与挂载点设置" tabindex="-1"><a class="header-anchor" href="#管理-与挂载点设置"><span>管理 与挂载点设置</span></a></h3><h2 id="转-如何创建和管理多个wsl" tabindex="-1"><a class="header-anchor" href="#转-如何创建和管理多个wsl"><span>转 - 如何创建和管理多个WSL</span></a></h2><h3 id="环境安装" tabindex="-1"><a class="header-anchor" href="#环境安装"><span>环境安装</span></a></h3><p>参考：<a href="https://blog.csdn.net/zhyh1986/article/details/134292636" target="_blank" rel="noopener noreferrer">在WSL2中安装多个Ubuntu实例</a></p><h4 id="第一步-在-wsl2-中安装最新的-ubuntu" tabindex="-1"><a class="header-anchor" href="#第一步-在-wsl2-中安装最新的-ubuntu"><span>第一步：在 WSL2 中安装最新的 Ubuntu</span></a></h4><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">wsl</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --install</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>这将实现所有必需的步骤，比如：</p><ul><li>在 Windows 上启用所需的可选组件（Windows Virtualisation Platform 等）</li><li>启用 Windows Subsystem for Linux 2（WSL2）</li><li>将 Linux 内核更新到最新版本</li><li>安装默认的 Linux 发行版，比如最新版的 Ubuntu</li></ul><h4 id="第二步-下载适用于-wsl2-的-ubuntu-压缩包" tabindex="-1"><a class="header-anchor" href="#第二步-下载适用于-wsl2-的-ubuntu-压缩包"><span>第二步：下载适用于 WSL2 的 Ubuntu 压缩包</span></a></h4><p>Ubuntu官方镜像（可手动下载，不使用以下命令）：https://cloud-images.ubuntu.com/releases</p><p>可以从 Ubuntu WSL镜像 中下载适用于 WSL2 的 Ubuntu 镜像压缩包保存到本地。 使用 Windows Terminal 或者 Powershell 来下载，在下载之前先运行以下命令移除 curl 别名：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Remove-Item</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> alias:curl</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>接着运行以下命令下载Ubuntu镜像，一定要将整个命令复制到 Windows Terminal 或者 Powershell 中并运行：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">curl</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ((</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;https://cloud-images.ubuntu.com&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">&quot;releases/hirsute/release&quot;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">,</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">&quot;ubuntu-21.04-server-cloudimg-amd64-wsl.rootfs.tar.gz&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) -join </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;/&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">\`</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">--output</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ubuntu-21.04-wsl-rootfs-tar.gz</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="如何创建和管理多个wsl-多个wsl" tabindex="-1"><a class="header-anchor" href="#如何创建和管理多个wsl-多个wsl"><span>如何创建和管理多个WSL - 多个WSL</span></a></h3><h4 id="第三步-在-wsl2-中安装第二个-ubuntu-实例" tabindex="-1"><a class="header-anchor" href="#第三步-在-wsl2-中安装第二个-ubuntu-实例"><span>第三步：在 WSL2 中安装第二个 Ubuntu 实例</span></a></h4><p>以下命令即可实现：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">wsl</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --import</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Distribution</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Nam</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">e&gt; &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Installation</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Folde</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">r&gt; &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Ubuntu</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> WSL2</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Image</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Tarball</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pat</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">h&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol><li>将 <code>&lt;Distribution Name&gt;</code> 改成自己想要的名字，比如ubuntu-2，以后启停会用到</li><li>使用 Ubuntu 实例目标安装路径（文件夹）替换掉 <code>&lt;Installation Folder&gt;</code></li><li>最后用上一步下载的 Ubuntu 镜像存储位置替换掉 <code>&lt;Ubuntu WSL2 Image Tarball path&gt;</code> 以上命令运行成功后可以使用 <code>wsl -l -v</code> 查看已安装的发行版。</li></ol><h4 id="第四步-登录到第二个ubuntu实例" tabindex="-1"><a class="header-anchor" href="#第四步-登录到第二个ubuntu实例"><span>第四步：登录到第二个Ubuntu实例</span></a></h4>`,35)]))}const d=a(t,[["render",h],["__file","WSL管理专题.html.vue"]]),r=JSON.parse('{"path":"/MdNote_Public/01.%20DesignAndDevelop/Virtual/%E8%99%9A%E6%8B%9F%E6%9C%BA/WSL/WSL%E7%AE%A1%E7%90%86%E4%B8%93%E9%A2%98.html","title":"WSL管理专题","lang":"zh-CN","frontmatter":{"description":"WSL管理专题 特性需求 我使用虚拟机时，有一些需要的特性： 关于虚拟机的部分，在其他位置的笔记中。这里只将WSL 多系统管理 仅参考：在 Windows 中通过 WSL 2 高效使用 Docker 多个wsl版本管理 在开始之前惯例先检查下环境，如果没wsl环境，先去下载 注意，由于我安装了docker desktop，默认wsl不是我一开始装的ub...","head":[["meta",{"property":"og:url","content":"https://LincZero.github.io/MdNote_Public/01.%20DesignAndDevelop/Virtual/%E8%99%9A%E6%8B%9F%E6%9C%BA/WSL/WSL%E7%AE%A1%E7%90%86%E4%B8%93%E9%A2%98.html"}],["meta",{"property":"og:site_name","content":"Linc 的小站"}],["meta",{"property":"og:title","content":"WSL管理专题"}],["meta",{"property":"og:description","content":"WSL管理专题 特性需求 我使用虚拟机时，有一些需要的特性： 关于虚拟机的部分，在其他位置的笔记中。这里只将WSL 多系统管理 仅参考：在 Windows 中通过 WSL 2 高效使用 Docker 多个wsl版本管理 在开始之前惯例先检查下环境，如果没wsl环境，先去下载 注意，由于我安装了docker desktop，默认wsl不是我一开始装的ub..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"WSL管理专题\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"LincZero\\",\\"url\\":\\"https://github.com/LincZero/\\"}]}"]]},"headers":[{"level":1,"title":"WSL管理专题","slug":"wsl管理专题","link":"#wsl管理专题","children":[{"level":2,"title":"特性需求","slug":"特性需求","link":"#特性需求","children":[]},{"level":2,"title":"多系统管理","slug":"多系统管理","link":"#多系统管理","children":[{"level":3,"title":"多个wsl版本管理","slug":"多个wsl版本管理","link":"#多个wsl版本管理","children":[]},{"level":3,"title":"多个wsl系统管理","slug":"多个wsl系统管理","link":"#多个wsl系统管理","children":[]},{"level":3,"title":"多个Docker管理 (docker desktop)","slug":"多个docker管理-docker-desktop","link":"#多个docker管理-docker-desktop","children":[]},{"level":3,"title":"管理 与挂载点设置","slug":"管理-与挂载点设置","link":"#管理-与挂载点设置","children":[]}]},{"level":2,"title":"转 - 如何创建和管理多个WSL","slug":"转-如何创建和管理多个wsl","link":"#转-如何创建和管理多个wsl","children":[{"level":3,"title":"环境安装","slug":"环境安装","link":"#环境安装","children":[{"level":4,"title":"第一步：在 WSL2 中安装最新的 Ubuntu","slug":"第一步-在-wsl2-中安装最新的-ubuntu","link":"#第一步-在-wsl2-中安装最新的-ubuntu","children":[]},{"level":4,"title":"第二步：下载适用于 WSL2 的 Ubuntu 压缩包","slug":"第二步-下载适用于-wsl2-的-ubuntu-压缩包","link":"#第二步-下载适用于-wsl2-的-ubuntu-压缩包","children":[]}]},{"level":3,"title":"如何创建和管理多个WSL - 多个WSL","slug":"如何创建和管理多个wsl-多个wsl","link":"#如何创建和管理多个wsl-多个wsl","children":[{"level":4,"title":"第三步：在 WSL2 中安装第二个 Ubuntu 实例","slug":"第三步-在-wsl2-中安装第二个-ubuntu-实例","link":"#第三步-在-wsl2-中安装第二个-ubuntu-实例","children":[]},{"level":4,"title":"第四步：登录到第二个Ubuntu实例","slug":"第四步-登录到第二个ubuntu实例","link":"#第四步-登录到第二个ubuntu实例","children":[]}]}]}]}],"git":{},"readingTime":{"minutes":5.03,"words":1510},"filePathRelative":"MdNote_Public/01. DesignAndDevelop/Virtual/虚拟机/WSL/WSL管理专题.md","excerpt":"\\n<h2>特性需求</h2>\\n<p>我使用虚拟机时，有一些需要的特性：</p>\\n<div class=\\"ab-note drop-shadow\\"><table class=\\"ab-table ab-branch-table\\"><tbody><tr><td rowspan=\\"1\\" col_index=\\"0\\" class=\\"markdown-rendered\\"><div><p>多个不同环境的虚拟机，\\n可以支持灵活且频繁地创建、销毁他们</p>\\n</div></td><td rowspan=\\"1\\" col_index=\\"1\\" class=\\"markdown-rendered\\"><div><p>虚拟机：可以</p>\\n</div></td><td rowspan=\\"1\\" col_index=\\"2\\" class=\\"markdown-rendered\\"><div><p>WSL：……</p>\\n</div></td></tr><tr><td rowspan=\\"1\\" col_index=\\"0\\" class=\\"markdown-rendered\\"><div><p>环境的稳定性、易迁移性</p>\\n</div></td><td rowspan=\\"1\\" col_index=\\"1\\" class=\\"markdown-rendered\\"><div><p>虚拟机：Docker可以用镜像文件、其他虚拟机可以用Vagrant</p>\\n</div></td><td rowspan=\\"1\\" col_index=\\"2\\" class=\\"markdown-rendered\\"><div><p>WSL：……</p>\\n</div></td></tr><tr><td rowspan=\\"1\\" col_index=\\"0\\" class=\\"markdown-rendered\\"><div><p>性能、显卡直连</p>\\n</div></td><td rowspan=\\"1\\" col_index=\\"1\\" class=\\"markdown-rendered\\"><div><p>虚拟机：……</p>\\n</div></td><td rowspan=\\"1\\" col_index=\\"2\\" class=\\"markdown-rendered\\"><div><p>WSL：更强，允许显卡直连</p>\\n</div></td></tr></tbody></table></div>","autoDesc":true,"bioChainData":{"outlink":[],"backlink":[],"localMap":{"nodes":[{"id":"MdNote_Public/01. DesignAndDevelop/Virtual/虚拟机/WSL/WSL管理专题.md","value":{"title":"WSL管理专题","path":"MdNote_Public/01. DesignAndDevelop/Virtual/虚拟机/WSL/WSL管理专题.md","outlink":[],"backlink":[]}}],"links":[]}}}');export{d as comp,r as data};
